!function(modules){var installedModules={};function __webpack_require__(moduleId){if(installedModules[moduleId])return installedModules[moduleId].exports;var module=installedModules[moduleId]={i:moduleId,l:!1,exports:{}};return modules[moduleId].call(module.exports,module,module.exports,__webpack_require__),module.l=!0,module.exports}__webpack_require__.m=modules,__webpack_require__.c=installedModules,__webpack_require__.d=function(exports,name,getter){__webpack_require__.o(exports,name)||Object.defineProperty(exports,name,{enumerable:!0,get:getter})},__webpack_require__.r=function(exports){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(exports,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(exports,"__esModule",{value:!0})},__webpack_require__.t=function(value,mode){if(1&mode&&(value=__webpack_require__(value)),8&mode)return value;if(4&mode&&"object"==typeof value&&value&&value.__esModule)return value;var ns=Object.create(null);if(__webpack_require__.r(ns),Object.defineProperty(ns,"default",{enumerable:!0,value:value}),2&mode&&"string"!=typeof value)for(var key in value)__webpack_require__.d(ns,key,function(key){return value[key]}.bind(null,key));return ns},__webpack_require__.n=function(module){var getter=module&&module.__esModule?function(){return module.default}:function(){return module};return __webpack_require__.d(getter,"a",getter),getter},__webpack_require__.o=function(object,property){return Object.prototype.hasOwnProperty.call(object,property)},__webpack_require__.p="",__webpack_require__(__webpack_require__.s=393)}([function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"g",(function(){return PageNames})),__webpack_require__.d(__webpack_exports__,"d",(function(){return ContentWizardPages})),__webpack_require__.d(__webpack_exports__,"i",(function(){return TaskTypes})),__webpack_require__.d(__webpack_exports__,"h",(function(){return TaskStatuses})),__webpack_require__.d(__webpack_exports__,"l",(function(){return taskIsClearable})),__webpack_require__.d(__webpack_exports__,"j",(function(){return TransferTypes})),__webpack_require__.d(__webpack_exports__,"a",(function(){return ApplicationTypes})),__webpack_require__.d(__webpack_exports__,"c",(function(){return ContentWizardErrors})),__webpack_require__.d(__webpack_exports__,"e",(function(){return ErrorTypes})),__webpack_require__.d(__webpack_exports__,"b",(function(){return ContentSources})),__webpack_require__.d(__webpack_exports__,"k",(function(){return pageNameToModuleMap})),__webpack_require__.d(__webpack_exports__,"f",(function(){return LandingPageChoices}));var PageNames={MANAGE_CONTENT_PAGE:"MANAGE_CONTENT_PAGE",MANAGE_PERMISSIONS_PAGE:"MANAGE_PERMISSIONS_PAGE",USER_PERMISSIONS_PAGE:"USER_PERMISSIONS_PAGE",DEVICE_INFO_PAGE:"DEVICE_INFO_PAGE",DEVICE_SETTINGS_PAGE:"DEVICE_SETTINGS_PAGE",REARRANGE_CHANNELS:"REARRANGE_CHANNELS",DELETE_CHANNELS:"DELETE_CHANNELS",EXPORT_CHANNELS:"EXPORT_CHANNELS",MANAGE_TASKS:"MANAGE_TASKS",MANAGE_CHANNEL:"MANAGE_CHANNEL",SELECT_CONTENT:"SELECT_CONTENT",NEW_CHANNEL_VERSION_PAGE:"NEW_CHANNEL_VERSION_PAGE",AVAILABLE_CHANNELS_PAGE:"AVAILABLE_CHANNELS"},ContentWizardPages={AVAILABLE_CHANNELS:"AVAILABLE_CHANNELS",LOADING_CHANNEL_METADATA:"LOADING_CHANNEL_METADATA",SELECT_CONTENT:"SELECT_CONTENT",SELECT_DRIVE:"SELECT_DRIVE",SELECT_IMPORT_SOURCE:"SELECT_IMPORT_SOURCE",SELECT_NETWORK_ADDRESS:"SELECT_NETWORK_ADDRESS"},TaskTypes={REMOTECHANNELIMPORT:"REMOTECHANNELIMPORT",REMOTECONTENTIMPORT:"REMOTECONTENTIMPORT",REMOTEIMPORT:"REMOTEIMPORT",DISKCHANNELIMPORT:"DISKCHANNELIMPORT",DISKCONTENTIMPORT:"DISKCONTENTIMPORT",DISKIMPORT:"DISKIMPORT",DISKCONTENTEXPORT:"DISKCONTENTEXPORT",DISKEXPORT:"DISKEXPORT",DELETECHANNEL:"DELETECHANNEL",DELETECONTENT:"DELETECONTENT",UPDATECHANNEL:"UPDATECHANNEL",CHANNELDIFFSTATS:"CHANNELDIFFSTATS",SYNCDATAPORTAL:"SYNCDATAPORTAL",SYNCPEERFULL:"SYNCPEER/FULL",SYNCPEERPULL:"SYNCPEER/PULL",DELETEFACILITY:"DELETEFACILITY"},TaskStatuses=Object.freeze({IN_PROGRESS:"INPROGRESS",COMPLETED:"COMPLETED",FAILED:"FAILED",PENDING:"PENDING",RUNNING:"RUNNING",QUEUED:"QUEUED",SCHEDULED:"SCHEDULED",CANCELED:"CANCELED",CANCELING:"CANCELING"});function taskIsClearable(task){return[TaskStatuses.COMPLETED,TaskStatuses.CANCELED,TaskStatuses.FAILED].includes(task.status)}var TransferTypes={LOCALEXPORT:"localexport",LOCALIMPORT:"localimport",PEERIMPORT:"peerimport",REMOTEIMPORT:"remoteimport"},ApplicationTypes={KOLIBRI:"kolibri",STUDIO:"studio"},ContentWizardErrors={INVALID_PARAMETERS:"INVALID_PARAMETERS",CHANNEL_NOT_FOUND_ON_SERVER:"CHANNEL_NOT_FOUND_ON_SERVER",CHANNEL_NOT_FOUND_ON_DRIVE:"CHANNEL_NOT_FOUND_ON_DRIVE",CHANNEL_NOT_FOUND_ON_STUDIO:"CHANNEL_NOT_FOUND_ON_STUDIO",KOLIBRI_STUDIO_UNAVAILABLE:"KOLIBRI_STUDIO_UNAVAILABLE",DRIVE_IS_NOT_WRITEABLE:"DRIVE_IS_NOT_WRITEABLE",DRIVE_NOT_FOUND:"DRIVE_NOT_FOUND",DRIVE_ERROR:"DRIVE_ERROR",TRANSFER_IN_PROGRESS:"TRANSFER_IN_PROGRESS",TREEVIEW_LOADING_ERROR:"TREEVIEW_LOADING_ERROR",NETWORK_LOCATION_DOES_NOT_EXIST:"NETWORK_LOCATION_DOES_NOT_EXIST",NETWORK_LOCATION_UNAVAILABLE:"NETWORK_LOCATION_UNAVAILABLE",NETWORK_LOCATION_DOES_NOT_HAVE_CHANNEL:"NETWORK_LOCATION_DOES_NOT_HAVE_CHANNEL"},ErrorTypes={CONTENT_DB_LOADING_ERROR:"CONTENT_DB_LOADING_ERROR",TREEVIEW_LOADING_ERROR:"TREEVIEW_LOADING_ERROR",CHANNEL_TASK_ERROR:"CHANNEL_TASK_ERROR"},ContentSources={LOCAL_DRIVE:"local",KOLIBRI_STUDIO:"network",PEER_KOLIBRI_SERVER:"PEER_KOLIBRI_SERVER"},pageNameToModuleMap={};pageNameToModuleMap[PageNames.MANAGE_CONTENT_PAGE]="manageContent",pageNameToModuleMap[PageNames.MANAGE_PERMISSIONS_PAGE]="managePermissions",pageNameToModuleMap[PageNames.USER_PERMISSIONS_PAGE]="userPermissions",pageNameToModuleMap[PageNames.DEVICE_INFO_PAGE]="deviceInfo";var LandingPageChoices={SIGN_IN:"sign-in",LEARN:"learn"}},function(module,exports){module.exports=kolibriCoreAppGlobal.resources},function(module,exports){module.exports=kolibriCoreAppGlobal.coreVue.mixins.commonCoreStrings},function(module,exports){module.exports=kolibriCoreAppGlobal.lib.vuex},function(module,exports,__webpack_require__){var find=__webpack_require__(313)(__webpack_require__(314));module.exports=find},function(module,exports){module.exports=kolibriCoreAppGlobal.coreVue.vuex.store},function(module,exports){module.exports=kolibriCoreAppGlobal.coreVue.mixins.responsiveWindowMixin},function(module,exports){module.exports=kolibriCoreAppGlobal.coreVue.vuex.constants},function(module,exports){module.exports=kolibriCoreAppGlobal.utils.i18n},function(module,exports){module.exports=kolibriCoreAppGlobal.utils.bytesForHumans},function(module,exports){var isArray=Array.isArray;module.exports=isArray},function(module,exports){module.exports=kolibriCoreAppGlobal.urls},function(module,exports){module.exports=kolibriCoreAppGlobal.coreVue.router},function(module,exports){module.exports=kolibriCoreAppGlobal.coreVue.componentSets.sync},function(module,__webpack_exports__,__webpack_require__){"use strict";(function(__filename){__webpack_require__.d(__webpack_exports__,"a",(function(){return withAuthMessage}));var kolibri_lib_vue__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(112),kolibri_lib_vue__WEBPACK_IMPORTED_MODULE_0___default=__webpack_require__.n(kolibri_lib_vue__WEBPACK_IMPORTED_MODULE_0__),kolibri_lib_logging__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(43),kolibri_lib_logging__WEBPACK_IMPORTED_MODULE_1___default=__webpack_require__.n(kolibri_lib_logging__WEBPACK_IMPORTED_MODULE_1__),kolibri_coreVue_vuex_store__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(5),kolibri_coreVue_vuex_store__WEBPACK_IMPORTED_MODULE_2___default=__webpack_require__.n(kolibri_coreVue_vuex_store__WEBPACK_IMPORTED_MODULE_2__),kolibri_coreVue_components_AuthMessage__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__(213),kolibri_coreVue_components_AuthMessage__WEBPACK_IMPORTED_MODULE_3___default=__webpack_require__.n(kolibri_coreVue_components_AuthMessage__WEBPACK_IMPORTED_MODULE_3__),logging=kolibri_lib_logging__WEBPACK_IMPORTED_MODULE_1___default.a.getLogger(__filename),roleToGetterMap={contentManager:"canManageContent",admin:"isAdmin",superuser:"isSuperuser"};function withAuthMessage(component,authorizedRole){var originalProps=component.props||[],originalMethods=component.methods||[];return kolibri_lib_vue__WEBPACK_IMPORTED_MODULE_0___default.a.component("withAuthMessage",{props:Object.assign({},originalProps),beforeRouteEnter:component.beforeRouteEnter,beforeRouteUpdate:component.beforeRouteUpdate,beforeRouteLeave:component.beforeRouteLeave,methods:Object.assign({},originalMethods),render:function(createElement){var canAccess,getterName=roleToGetterMap[authorizedRole];if(getterName){var getter=kolibri_coreVue_vuex_store__WEBPACK_IMPORTED_MODULE_2___default.a.getters[getterName];getter?canAccess=function(){return getter}:logging.error("Getter is not registered in store: "+getterName)}else logging.error("No default getter associated with authorizedRole: "+authorizedRole);return canAccess&&canAccess()?createElement(component,{props:Object.assign({},this.$props)}):createElement(kolibri_coreVue_components_AuthMessage__WEBPACK_IMPORTED_MODULE_3___default.a,{props:{authorizedRole:authorizedRole}})}})}}).call(this,"kolibri/plugins/device/assets/src/views/withAuthMessage.js")},function(module,exports){module.exports=kolibriCoreAppGlobal.client},function(module,exports,__webpack_require__){var baseMatches=__webpack_require__(298),baseMatchesProperty=__webpack_require__(307),identity=__webpack_require__(38),isArray=__webpack_require__(10),property=__webpack_require__(310);module.exports=function(value){return"function"==typeof value?value:null==value?identity:"object"==typeof value?isArray(value)?baseMatchesProperty(value[0],value[1]):baseMatches(value):property(value)}},function(module,exports,__webpack_require__){var freeGlobal=__webpack_require__(150),freeSelf="object"==typeof self&&self&&self.Object===Object&&self,root=freeGlobal||freeSelf||Function("return this")();module.exports=root},function(module,exports){module.exports=kolibriCoreAppGlobal.coreVue.mixins.commonSyncElements},function(module,exports){module.exports=kolibriCoreAppGlobal.coreVue.components.UiAlert},function(module,exports){module.exports=function(value){return null!=value&&"object"==typeof value}},function(module,exports){module.exports=function(value){var type=typeof value;return null!=value&&("object"==type||"function"==type)}},function(module,exports,__webpack_require__){var arrayMap=__webpack_require__(28),baseClone=__webpack_require__(114),baseUnset=__webpack_require__(280),castPath=__webpack_require__(36),copyObject=__webpack_require__(46),customOmitClone=__webpack_require__(285),flatRest=__webpack_require__(131),getAllKeysIn=__webpack_require__(128),omit=flatRest((function(object,paths){var result={};if(null==object)return result;var isDeep=!1;paths=arrayMap(paths,(function(path){return path=castPath(path,object),isDeep||(isDeep=path.length>1),path})),copyObject(object,getAllKeysIn(object),result),isDeep&&(result=baseClone(result,7,customOmitClone));for(var length=paths.length;length--;)baseUnset(result,paths[length]);return result}));module.exports=omit},function(module,exports,__webpack_require__){var baseIteratee=__webpack_require__(16),baseSum=__webpack_require__(317);module.exports=function(array,iteratee){return array&&array.length?baseSum(array,baseIteratee(iteratee,2)):0}},function(module,exports,__webpack_require__){var isFunction=__webpack_require__(117),isLength=__webpack_require__(122);module.exports=function(value){return null!=value&&isLength(value.length)&&!isFunction(value)}},function(module,exports){module.exports=kolibriCoreAppGlobal.utils.samePageCheckGenerator},function(module,exports,__webpack_require__){var arraySome=__webpack_require__(171),baseIteratee=__webpack_require__(16),baseSome=__webpack_require__(330),isArray=__webpack_require__(10),isIterateeCall=__webpack_require__(141);module.exports=function(collection,predicate,guard){var func=isArray(collection)?arraySome:baseSome;return guard&&isIterateeCall(collection,predicate,guard)&&(predicate=void 0),func(collection,baseIteratee(predicate,3))}},function(module,exports){module.exports=kolibriCoreAppGlobal.coreVue.mixins.commonTaskStrings},function(module,exports){module.exports=function(array,iteratee){for(var index=-1,length=null==array?0:array.length,result=Array(length);++index<length;)result[index]=iteratee(array[index],index,array);return result}},function(module,exports,__webpack_require__){var baseIsNative=__webpack_require__(236),getValue=__webpack_require__(242);module.exports=function(object,key){var value=getValue(object,key);return baseIsNative(value)?value:void 0}},function(module,exports,__webpack_require__){var Symbol=__webpack_require__(33),getRawTag=__webpack_require__(238),objectToString=__webpack_require__(239),symToStringTag=Symbol?Symbol.toStringTag:void 0;module.exports=function(value){return null==value?void 0===value?"[object Undefined]":"[object Null]":symToStringTag&&symToStringTag in Object(value)?getRawTag(value):objectToString(value)}},function(module,exports,__webpack_require__){var isSymbol=__webpack_require__(37);module.exports=function(value){if("string"==typeof value||isSymbol(value))return value;var result=value+"";return"0"==result&&1/value==-1/0?"-0":result}},function(module,exports,__webpack_require__){var baseDifference=__webpack_require__(322),baseFlatten=__webpack_require__(68),baseIteratee=__webpack_require__(16),baseRest=__webpack_require__(140),isArrayLikeObject=__webpack_require__(176),last=__webpack_require__(51),differenceBy=baseRest((function(array,values){var iteratee=last(values);return isArrayLikeObject(iteratee)&&(iteratee=void 0),isArrayLikeObject(array)?baseDifference(array,baseFlatten(values,1,isArrayLikeObject,!0),baseIteratee(iteratee,2)):[]}));module.exports=differenceBy},function(module,exports,__webpack_require__){var Symbol=__webpack_require__(17).Symbol;module.exports=Symbol},function(module,exports,__webpack_require__){var arrayLikeKeys=__webpack_require__(154),baseKeys=__webpack_require__(124),isArrayLike=__webpack_require__(24);module.exports=function(object){return isArrayLike(object)?arrayLikeKeys(object):baseKeys(object)}},function(module,exports,__webpack_require__){var DataView=__webpack_require__(267),Map=__webpack_require__(116),Promise=__webpack_require__(268),Set=__webpack_require__(161),WeakMap=__webpack_require__(162),baseGetTag=__webpack_require__(30),toSource=__webpack_require__(151),dataViewCtorString=toSource(DataView),mapCtorString=toSource(Map),promiseCtorString=toSource(Promise),setCtorString=toSource(Set),weakMapCtorString=toSource(WeakMap),getTag=baseGetTag;(DataView&&"[object DataView]"!=getTag(new DataView(new ArrayBuffer(1)))||Map&&"[object Map]"!=getTag(new Map)||Promise&&"[object Promise]"!=getTag(Promise.resolve())||Set&&"[object Set]"!=getTag(new Set)||WeakMap&&"[object WeakMap]"!=getTag(new WeakMap))&&(getTag=function(value){var result=baseGetTag(value),Ctor="[object Object]"==result?value.constructor:void 0,ctorString=Ctor?toSource(Ctor):"";if(ctorString)switch(ctorString){case dataViewCtorString:return"[object DataView]";case mapCtorString:return"[object Map]";case promiseCtorString:return"[object Promise]";case setCtorString:return"[object Set]";case weakMapCtorString:return"[object WeakMap]"}return result}),module.exports=getTag},function(module,exports,__webpack_require__){var isArray=__webpack_require__(10),isKey=__webpack_require__(130),stringToPath=__webpack_require__(164),toString=__webpack_require__(165);module.exports=function(value,object){return isArray(value)?value:isKey(value,object)?[value]:stringToPath(toString(value))}},function(module,exports,__webpack_require__){var baseGetTag=__webpack_require__(30),isObjectLike=__webpack_require__(20);module.exports=function(value){return"symbol"==typeof value||isObjectLike(value)&&"[object Symbol]"==baseGetTag(value)}},function(module,exports){module.exports=function(value){return value}},function(module,exports){module.exports={}},function(module,exports){module.exports=kolibriCoreAppGlobal.lib.conditionalPromise},function(module,exports,__webpack_require__){var baseGet=__webpack_require__(67);module.exports=function(object,path,defaultValue){var result=null==object?void 0:baseGet(object,path);return void 0===result?defaultValue:result}},function(module,exports){module.exports=kolibriCoreAppGlobal.coreVue.components.CoreTable},function(module,exports){module.exports=kolibriCoreAppGlobal.lib.logging},function(module,exports){module.exports=kolibriCoreAppGlobal.lib.apiResource},function(module,exports){module.exports=kolibriCoreAppGlobal},function(module,exports,__webpack_require__){var assignValue=__webpack_require__(119),baseAssignValue=__webpack_require__(61);module.exports=function(source,props,object,customizer){var isNew=!object;object||(object={});for(var index=-1,length=props.length;++index<length;){var key=props[index],newValue=customizer?customizer(object[key],source[key],key,object,source):void 0;void 0===newValue&&(newValue=source[key]),isNew?baseAssignValue(object,key,newValue):assignValue(object,key,newValue)}return object}},function(module,exports){var reIsUint=/^(?:0|[1-9]\d*)$/;module.exports=function(value,length){var type=typeof value;return!!(length=null==length?9007199254740991:length)&&("number"==type||"symbol"!=type&&reIsUint.test(value))&&value>-1&&value%1==0&&value<length}},function(module,exports){module.exports=function(func){return function(value){return func(value)}}},function(module,exports,__webpack_require__){var baseForOwn=__webpack_require__(169),baseEach=__webpack_require__(297)(baseForOwn);module.exports=baseEach},function(module,exports,__webpack_require__){var baseConvert=__webpack_require__(335),util=__webpack_require__(337);module.exports=function(name,func,options){return baseConvert(util,name,func,options)}},function(module,exports){module.exports=function(array){var length=null==array?0:array.length;return length?array[length-1]:void 0}},function(module,exports,__webpack_require__){var baseGetTag=__webpack_require__(30),getPrototype=__webpack_require__(127),isObjectLike=__webpack_require__(20),funcProto=Function.prototype,objectProto=Object.prototype,funcToString=funcProto.toString,hasOwnProperty=objectProto.hasOwnProperty,objectCtorString=funcToString.call(Object);module.exports=function(value){if(!isObjectLike(value)||"[object Object]"!=baseGetTag(value))return!1;var proto=getPrototype(value);if(null===proto)return!0;var Ctor=hasOwnProperty.call(proto,"constructor")&&proto.constructor;return"function"==typeof Ctor&&Ctor instanceof Ctor&&funcToString.call(Ctor)==objectCtorString}},function(module,exports,__webpack_require__){var baseIteratee=__webpack_require__(16),baseUniq=__webpack_require__(177);module.exports=function(array,iteratee){return array&&array.length?baseUniq(array,baseIteratee(iteratee,2)):[]}},function(module,exports,__webpack_require__){var partition=__webpack_require__(168)((function(result,value,key){result[key?0:1].push(value)}),(function(){return[[],[]]}));module.exports=partition},function(module,exports,__webpack_require__){var listCacheClear=__webpack_require__(226),listCacheDelete=__webpack_require__(227),listCacheGet=__webpack_require__(228),listCacheHas=__webpack_require__(229),listCacheSet=__webpack_require__(230);function ListCache(entries){var index=-1,length=null==entries?0:entries.length;for(this.clear();++index<length;){var entry=entries[index];this.set(entry[0],entry[1])}}ListCache.prototype.clear=listCacheClear,ListCache.prototype.delete=listCacheDelete,ListCache.prototype.get=listCacheGet,ListCache.prototype.has=listCacheHas,ListCache.prototype.set=listCacheSet,module.exports=ListCache},function(module,exports,__webpack_require__){var eq=__webpack_require__(57);module.exports=function(array,key){for(var length=array.length;length--;)if(eq(array[length][0],key))return length;return-1}},function(module,exports){module.exports=function(value,other){return value===other||value!=value&&other!=other}},function(module,exports,__webpack_require__){var nativeCreate=__webpack_require__(29)(Object,"create");module.exports=nativeCreate},function(module,exports,__webpack_require__){var isKeyable=__webpack_require__(251);module.exports=function(map,key){var data=map.__data__;return isKeyable(key)?data["string"==typeof key?"string":"hash"]:data.map}},function(module,exports){module.exports=function(array,iteratee){for(var index=-1,length=null==array?0:array.length;++index<length&&!1!==iteratee(array[index],index,array););return array}},function(module,exports,__webpack_require__){var defineProperty=__webpack_require__(152);module.exports=function(object,key,value){"__proto__"==key&&defineProperty?defineProperty(object,key,{configurable:!0,enumerable:!0,value:value,writable:!0}):object[key]=value}},function(module,exports,__webpack_require__){var baseIsArguments=__webpack_require__(256),isObjectLike=__webpack_require__(20),objectProto=Object.prototype,hasOwnProperty=objectProto.hasOwnProperty,propertyIsEnumerable=objectProto.propertyIsEnumerable,isArguments=baseIsArguments(function(){return arguments}())?baseIsArguments:function(value){return isObjectLike(value)&&hasOwnProperty.call(value,"callee")&&!propertyIsEnumerable.call(value,"callee")};module.exports=isArguments},function(module,exports,__webpack_require__){(function(module){var root=__webpack_require__(17),stubFalse=__webpack_require__(257),freeExports=exports&&!exports.nodeType&&exports,freeModule=freeExports&&"object"==typeof module&&module&&!module.nodeType&&module,Buffer=freeModule&&freeModule.exports===freeExports?root.Buffer:void 0,isBuffer=(Buffer?Buffer.isBuffer:void 0)||stubFalse;module.exports=isBuffer}).call(this,__webpack_require__(120)(module))},function(module,exports){var objectProto=Object.prototype;module.exports=function(value){var Ctor=value&&value.constructor;return value===("function"==typeof Ctor&&Ctor.prototype||objectProto)}},function(module,exports){module.exports=function(source,array){var index=-1,length=source.length;for(array||(array=Array(length));++index<length;)array[index]=source[index];return array}},function(module,exports,__webpack_require__){var isObject=__webpack_require__(21),objectCreate=Object.create,baseCreate=function(){function object(){}return function(proto){if(!isObject(proto))return{};if(objectCreate)return objectCreate(proto);object.prototype=proto;var result=new object;return object.prototype=void 0,result}}();module.exports=baseCreate},function(module,exports,__webpack_require__){var castPath=__webpack_require__(36),toKey=__webpack_require__(31);module.exports=function(object,path){for(var index=0,length=(path=castPath(path,object)).length;null!=object&&index<length;)object=object[toKey(path[index++])];return index&&index==length?object:void 0}},function(module,exports,__webpack_require__){var arrayPush=__webpack_require__(126),isFlattenable=__webpack_require__(287);module.exports=function baseFlatten(array,depth,predicate,isStrict,result){var index=-1,length=array.length;for(predicate||(predicate=isFlattenable),result||(result=[]);++index<length;){var value=array[index];depth>0&&predicate(value)?depth>1?baseFlatten(value,depth-1,predicate,isStrict,result):arrayPush(result,value):isStrict||(result[result.length]=value)}return result}},function(module,exports,__webpack_require__){var toFinite=__webpack_require__(315);module.exports=function(value){var result=toFinite(value),remainder=result%1;return result==result?remainder?result-remainder:result:0}},function(module,exports,__webpack_require__){var baseSetData=__webpack_require__(179),createBind=__webpack_require__(339),createCurry=__webpack_require__(340),createHybrid=__webpack_require__(181),createPartial=__webpack_require__(351),getData=__webpack_require__(185),mergeData=__webpack_require__(352),setData=__webpack_require__(187),setWrapToString=__webpack_require__(188),toInteger=__webpack_require__(69),nativeMax=Math.max;module.exports=function(func,bitmask,thisArg,partials,holders,argPos,ary,arity){var isBindKey=2&bitmask;if(!isBindKey&&"function"!=typeof func)throw new TypeError("Expected a function");var length=partials?partials.length:0;if(length||(bitmask&=-97,partials=holders=void 0),ary=void 0===ary?ary:nativeMax(toInteger(ary),0),arity=void 0===arity?arity:toInteger(arity),length-=holders?holders.length:0,64&bitmask){var partialsRight=partials,holdersRight=holders;partials=holders=void 0}var data=isBindKey?void 0:getData(func),newData=[func,bitmask,thisArg,partials,holders,partialsRight,holdersRight,argPos,ary,arity];if(data&&mergeData(newData,data),func=newData[0],bitmask=newData[1],thisArg=newData[2],partials=newData[3],holders=newData[4],!(arity=newData[9]=void 0===newData[9]?isBindKey?0:func.length:nativeMax(newData[9]-length,0))&&24&bitmask&&(bitmask&=-25),bitmask&&1!=bitmask)result=8==bitmask||16==bitmask?createCurry(func,bitmask,arity):32!=bitmask&&33!=bitmask||holders.length?createHybrid.apply(void 0,newData):createPartial(func,bitmask,thisArg,partials);else var result=createBind(func,bitmask,thisArg);return setWrapToString((data?baseSetData:setData)(result,newData),func,bitmask)}},function(module,exports,__webpack_require__){var baseCreate=__webpack_require__(66),isObject=__webpack_require__(21);module.exports=function(Ctor){return function(){var args=arguments;switch(args.length){case 0:return new Ctor;case 1:return new Ctor(args[0]);case 2:return new Ctor(args[0],args[1]);case 3:return new Ctor(args[0],args[1],args[2]);case 4:return new Ctor(args[0],args[1],args[2],args[3]);case 5:return new Ctor(args[0],args[1],args[2],args[3],args[4]);case 6:return new Ctor(args[0],args[1],args[2],args[3],args[4],args[5]);case 7:return new Ctor(args[0],args[1],args[2],args[3],args[4],args[5],args[6])}var thisBinding=baseCreate(Ctor.prototype),result=Ctor.apply(thisBinding,args);return isObject(result)?result:thisBinding}}},function(module,exports,__webpack_require__){},function(module,exports,__webpack_require__){},function(module,exports,__webpack_require__){},function(module,exports,__webpack_require__){},function(module,exports,__webpack_require__){},function(module,exports,__webpack_require__){},function(module,exports,__webpack_require__){},function(module,exports,__webpack_require__){},function(module,exports,__webpack_require__){},function(module,exports,__webpack_require__){},function(module,exports,__webpack_require__){},function(module,exports,__webpack_require__){},function(module,exports,__webpack_require__){},function(module,exports,__webpack_require__){},function(module,exports,__webpack_require__){},function(module,exports,__webpack_require__){},function(module,exports,__webpack_require__){},function(module,exports,__webpack_require__){},function(module,exports,__webpack_require__){},function(module,exports,__webpack_require__){},function(module,exports,__webpack_require__){},function(module,exports,__webpack_require__){},function(module,exports,__webpack_require__){},function(module,exports,__webpack_require__){},function(module,exports,__webpack_require__){},function(module,exports,__webpack_require__){},function(module,exports,__webpack_require__){},function(module,exports,__webpack_require__){},function(module,exports,__webpack_require__){},function(module,exports,__webpack_require__){},function(module,exports,__webpack_require__){},function(module,exports,__webpack_require__){},function(module,exports,__webpack_require__){},function(module,exports,__webpack_require__){},function(module,exports,__webpack_require__){},function(module,exports,__webpack_require__){},function(module,exports){module.exports=kolibriCoreAppGlobal.coreVue.components.BottomAppBar},function(module,exports){module.exports=kolibriCoreAppGlobal.coreVue.components.CoachContentLabel},function(module,exports,__webpack_require__){var baseFlatten=__webpack_require__(68),baseOrderBy=__webpack_require__(366),baseRest=__webpack_require__(140),isIterateeCall=__webpack_require__(141),sortBy=baseRest((function(collection,iteratees){if(null==collection)return[];var length=iteratees.length;return length>1&&isIterateeCall(collection,iteratees[0],iteratees[1])?iteratees=[]:length>2&&isIterateeCall(iteratees[0],iteratees[1],iteratees[2])&&(iteratees=[iteratees[0]]),baseOrderBy(collection,baseFlatten(iteratees,1),[])}));module.exports=sortBy},function(module,exports){module.exports=kolibriCoreAppGlobal.coreVue.components.PermissionsIcon},function(module,exports){module.exports=kolibriCoreAppGlobal.lib.vue},function(module,exports,__webpack_require__){var baseKeys=__webpack_require__(124),getTag=__webpack_require__(35),isArguments=__webpack_require__(62),isArray=__webpack_require__(10),isArrayLike=__webpack_require__(24),isBuffer=__webpack_require__(63),isPrototype=__webpack_require__(64),isTypedArray=__webpack_require__(121),hasOwnProperty=Object.prototype.hasOwnProperty;module.exports=function(value){if(null==value)return!0;if(isArrayLike(value)&&(isArray(value)||"string"==typeof value||"function"==typeof value.splice||isBuffer(value)||isTypedArray(value)||isArguments(value)))return!value.length;var tag=getTag(value);if("[object Map]"==tag||"[object Set]"==tag)return!value.size;if(isPrototype(value))return!baseKeys(value).length;for(var key in value)if(hasOwnProperty.call(value,key))return!1;return!0}},function(module,exports,__webpack_require__){var Stack=__webpack_require__(115),arrayEach=__webpack_require__(60),assignValue=__webpack_require__(119),baseAssign=__webpack_require__(153),baseAssignIn=__webpack_require__(260),cloneBuffer=__webpack_require__(263),copyArray=__webpack_require__(65),copySymbols=__webpack_require__(264),copySymbolsIn=__webpack_require__(266),getAllKeys=__webpack_require__(159),getAllKeysIn=__webpack_require__(128),getTag=__webpack_require__(35),initCloneArray=__webpack_require__(269),initCloneByTag=__webpack_require__(270),initCloneObject=__webpack_require__(275),isArray=__webpack_require__(10),isBuffer=__webpack_require__(63),isMap=__webpack_require__(276),isObject=__webpack_require__(21),isSet=__webpack_require__(278),keys=__webpack_require__(34),cloneableTags={};cloneableTags["[object Arguments]"]=cloneableTags["[object Array]"]=cloneableTags["[object ArrayBuffer]"]=cloneableTags["[object DataView]"]=cloneableTags["[object Boolean]"]=cloneableTags["[object Date]"]=cloneableTags["[object Float32Array]"]=cloneableTags["[object Float64Array]"]=cloneableTags["[object Int8Array]"]=cloneableTags["[object Int16Array]"]=cloneableTags["[object Int32Array]"]=cloneableTags["[object Map]"]=cloneableTags["[object Number]"]=cloneableTags["[object Object]"]=cloneableTags["[object RegExp]"]=cloneableTags["[object Set]"]=cloneableTags["[object String]"]=cloneableTags["[object Symbol]"]=cloneableTags["[object Uint8Array]"]=cloneableTags["[object Uint8ClampedArray]"]=cloneableTags["[object Uint16Array]"]=cloneableTags["[object Uint32Array]"]=!0,cloneableTags["[object Error]"]=cloneableTags["[object Function]"]=cloneableTags["[object WeakMap]"]=!1,module.exports=function baseClone(value,bitmask,customizer,key,object,stack){var result,isDeep=1&bitmask,isFlat=2&bitmask,isFull=4&bitmask;if(customizer&&(result=object?customizer(value,key,object,stack):customizer(value)),void 0!==result)return result;if(!isObject(value))return value;var isArr=isArray(value);if(isArr){if(result=initCloneArray(value),!isDeep)return copyArray(value,result)}else{var tag=getTag(value),isFunc="[object Function]"==tag||"[object GeneratorFunction]"==tag;if(isBuffer(value))return cloneBuffer(value,isDeep);if("[object Object]"==tag||"[object Arguments]"==tag||isFunc&&!object){if(result=isFlat||isFunc?{}:initCloneObject(value),!isDeep)return isFlat?copySymbolsIn(value,baseAssignIn(result,value)):copySymbols(value,baseAssign(result,value))}else{if(!cloneableTags[tag])return object?value:{};result=initCloneByTag(value,tag,isDeep)}}stack||(stack=new Stack);var stacked=stack.get(value);if(stacked)return stacked;stack.set(value,result),isSet(value)?value.forEach((function(subValue){result.add(baseClone(subValue,bitmask,customizer,subValue,value,stack))})):isMap(value)&&value.forEach((function(subValue,key){result.set(key,baseClone(subValue,bitmask,customizer,key,value,stack))}));var keysFunc=isFull?isFlat?getAllKeysIn:getAllKeys:isFlat?keysIn:keys,props=isArr?void 0:keysFunc(value);return arrayEach(props||value,(function(subValue,key){props&&(subValue=value[key=subValue]),assignValue(result,key,baseClone(subValue,bitmask,customizer,key,value,stack))})),result}},function(module,exports,__webpack_require__){var ListCache=__webpack_require__(55),stackClear=__webpack_require__(231),stackDelete=__webpack_require__(232),stackGet=__webpack_require__(233),stackHas=__webpack_require__(234),stackSet=__webpack_require__(235);function Stack(entries){var data=this.__data__=new ListCache(entries);this.size=data.size}Stack.prototype.clear=stackClear,Stack.prototype.delete=stackDelete,Stack.prototype.get=stackGet,Stack.prototype.has=stackHas,Stack.prototype.set=stackSet,module.exports=Stack},function(module,exports,__webpack_require__){var Map=__webpack_require__(29)(__webpack_require__(17),"Map");module.exports=Map},function(module,exports,__webpack_require__){var baseGetTag=__webpack_require__(30),isObject=__webpack_require__(21);module.exports=function(value){if(!isObject(value))return!1;var tag=baseGetTag(value);return"[object Function]"==tag||"[object GeneratorFunction]"==tag||"[object AsyncFunction]"==tag||"[object Proxy]"==tag}},function(module,exports,__webpack_require__){var mapCacheClear=__webpack_require__(243),mapCacheDelete=__webpack_require__(250),mapCacheGet=__webpack_require__(252),mapCacheHas=__webpack_require__(253),mapCacheSet=__webpack_require__(254);function MapCache(entries){var index=-1,length=null==entries?0:entries.length;for(this.clear();++index<length;){var entry=entries[index];this.set(entry[0],entry[1])}}MapCache.prototype.clear=mapCacheClear,MapCache.prototype.delete=mapCacheDelete,MapCache.prototype.get=mapCacheGet,MapCache.prototype.has=mapCacheHas,MapCache.prototype.set=mapCacheSet,module.exports=MapCache},function(module,exports,__webpack_require__){var baseAssignValue=__webpack_require__(61),eq=__webpack_require__(57),hasOwnProperty=Object.prototype.hasOwnProperty;module.exports=function(object,key,value){var objValue=object[key];hasOwnProperty.call(object,key)&&eq(objValue,value)&&(void 0!==value||key in object)||baseAssignValue(object,key,value)}},function(module,exports){module.exports=function(module){return module.webpackPolyfill||(module.deprecate=function(){},module.paths=[],module.children||(module.children=[]),Object.defineProperty(module,"loaded",{enumerable:!0,get:function(){return module.l}}),Object.defineProperty(module,"id",{enumerable:!0,get:function(){return module.i}}),module.webpackPolyfill=1),module}},function(module,exports,__webpack_require__){var baseIsTypedArray=__webpack_require__(258),baseUnary=__webpack_require__(48),nodeUtil=__webpack_require__(123),nodeIsTypedArray=nodeUtil&&nodeUtil.isTypedArray,isTypedArray=nodeIsTypedArray?baseUnary(nodeIsTypedArray):baseIsTypedArray;module.exports=isTypedArray},function(module,exports){module.exports=function(value){return"number"==typeof value&&value>-1&&value%1==0&&value<=9007199254740991}},function(module,exports,__webpack_require__){(function(module){var freeGlobal=__webpack_require__(150),freeExports=exports&&!exports.nodeType&&exports,freeModule=freeExports&&"object"==typeof module&&module&&!module.nodeType&&module,freeProcess=freeModule&&freeModule.exports===freeExports&&freeGlobal.process,nodeUtil=function(){try{var types=freeModule&&freeModule.require&&freeModule.require("util").types;return types||freeProcess&&freeProcess.binding&&freeProcess.binding("util")}catch(e){}}();module.exports=nodeUtil}).call(this,__webpack_require__(120)(module))},function(module,exports,__webpack_require__){var isPrototype=__webpack_require__(64),nativeKeys=__webpack_require__(259),hasOwnProperty=Object.prototype.hasOwnProperty;module.exports=function(object){if(!isPrototype(object))return nativeKeys(object);var result=[];for(var key in Object(object))hasOwnProperty.call(object,key)&&"constructor"!=key&&result.push(key);return result}},function(module,exports,__webpack_require__){var arrayFilter=__webpack_require__(265),stubArray=__webpack_require__(157),propertyIsEnumerable=Object.prototype.propertyIsEnumerable,nativeGetSymbols=Object.getOwnPropertySymbols,getSymbols=nativeGetSymbols?function(object){return null==object?[]:(object=Object(object),arrayFilter(nativeGetSymbols(object),(function(symbol){return propertyIsEnumerable.call(object,symbol)})))}:stubArray;module.exports=getSymbols},function(module,exports){module.exports=function(array,values){for(var index=-1,length=values.length,offset=array.length;++index<length;)array[offset+index]=values[index];return array}},function(module,exports,__webpack_require__){var getPrototype=__webpack_require__(155)(Object.getPrototypeOf,Object);module.exports=getPrototype},function(module,exports,__webpack_require__){var baseGetAllKeys=__webpack_require__(160),getSymbolsIn=__webpack_require__(158),keysIn=__webpack_require__(156);module.exports=function(object){return baseGetAllKeys(object,keysIn,getSymbolsIn)}},function(module,exports,__webpack_require__){var Uint8Array=__webpack_require__(163);module.exports=function(arrayBuffer){var result=new arrayBuffer.constructor(arrayBuffer.byteLength);return new Uint8Array(result).set(new Uint8Array(arrayBuffer)),result}},function(module,exports,__webpack_require__){var isArray=__webpack_require__(10),isSymbol=__webpack_require__(37),reIsDeepProp=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,reIsPlainProp=/^\w*$/;module.exports=function(value,object){if(isArray(value))return!1;var type=typeof value;return!("number"!=type&&"symbol"!=type&&"boolean"!=type&&null!=value&&!isSymbol(value))||(reIsPlainProp.test(value)||!reIsDeepProp.test(value)||null!=object&&value in Object(object))}},function(module,exports,__webpack_require__){var flatten=__webpack_require__(286),overRest=__webpack_require__(166),setToString=__webpack_require__(133);module.exports=function(func){return setToString(overRest(func,void 0,flatten),func+"")}},function(module,exports){module.exports=function(func,thisArg,args){switch(args.length){case 0:return func.call(thisArg);case 1:return func.call(thisArg,args[0]);case 2:return func.call(thisArg,args[0],args[1]);case 3:return func.call(thisArg,args[0],args[1],args[2])}return func.apply(thisArg,args)}},function(module,exports,__webpack_require__){var baseSetToString=__webpack_require__(288),setToString=__webpack_require__(167)(baseSetToString);module.exports=setToString},function(module,exports,__webpack_require__){var baseIsEqualDeep=__webpack_require__(300),isObjectLike=__webpack_require__(20);module.exports=function baseIsEqual(value,other,bitmask,customizer,stack){return value===other||(null==value||null==other||!isObjectLike(value)&&!isObjectLike(other)?value!=value&&other!=other:baseIsEqualDeep(value,other,bitmask,customizer,baseIsEqual,stack))}},function(module,exports,__webpack_require__){var MapCache=__webpack_require__(118),setCacheAdd=__webpack_require__(301),setCacheHas=__webpack_require__(302);function SetCache(values){var index=-1,length=null==values?0:values.length;for(this.__data__=new MapCache;++index<length;)this.add(values[index])}SetCache.prototype.add=SetCache.prototype.push=setCacheAdd,SetCache.prototype.has=setCacheHas,module.exports=SetCache},function(module,exports){module.exports=function(cache,key){return cache.has(key)}},function(module,exports){module.exports=function(set){var index=-1,result=Array(set.size);return set.forEach((function(value){result[++index]=value})),result}},function(module,exports){module.exports=function(array,predicate,fromIndex,fromRight){for(var length=array.length,index=fromIndex+(fromRight?1:-1);fromRight?index--:++index<length;)if(predicate(array[index],index,array))return index;return-1}},function(module,exports,__webpack_require__){var baseIndexOf=__webpack_require__(323);module.exports=function(array,value){return!!(null==array?0:array.length)&&baseIndexOf(array,value,0)>-1}},function(module,exports,__webpack_require__){var identity=__webpack_require__(38),overRest=__webpack_require__(166),setToString=__webpack_require__(133);module.exports=function(func,start){return setToString(overRest(func,start,identity),func+"")}},function(module,exports,__webpack_require__){var eq=__webpack_require__(57),isArrayLike=__webpack_require__(24),isIndex=__webpack_require__(47),isObject=__webpack_require__(21);module.exports=function(value,index,object){if(!isObject(object))return!1;var type=typeof index;return!!("number"==type?isArrayLike(object)&&isIndex(index,object.length):"string"==type&&index in object)&&eq(object[index],value)}},function(module,exports,__webpack_require__){var baseCreate=__webpack_require__(66),baseLodash=__webpack_require__(143);function LazyWrapper(value){this.__wrapped__=value,this.__actions__=[],this.__dir__=1,this.__filtered__=!1,this.__iteratees__=[],this.__takeCount__=4294967295,this.__views__=[]}LazyWrapper.prototype=baseCreate(baseLodash.prototype),LazyWrapper.prototype.constructor=LazyWrapper,module.exports=LazyWrapper},function(module,exports){module.exports=function(){}},function(module,exports){module.exports=function(array,placeholder){for(var index=-1,length=array.length,resIndex=0,result=[];++index<length;){var value=array[index];value!==placeholder&&"__lodash_placeholder__"!==value||(array[index]="__lodash_placeholder__",result[resIndex++]=index)}return result}},function(module,exports,__webpack_require__){var MapCache=__webpack_require__(118);function memoize(func,resolver){if("function"!=typeof func||null!=resolver&&"function"!=typeof resolver)throw new TypeError("Expected a function");var memoized=function(){var args=arguments,key=resolver?resolver.apply(this,args):args[0],cache=memoized.cache;if(cache.has(key))return cache.get(key);var result=func.apply(this,args);return memoized.cache=cache.set(key,result)||cache,result};return memoized.cache=new(memoize.Cache||MapCache),memoized}memoize.Cache=MapCache,module.exports=memoize},function(module,exports,__webpack_require__){var arrayMap=__webpack_require__(28),baseIteratee=__webpack_require__(16),baseMap=__webpack_require__(190),isArray=__webpack_require__(10);module.exports=function(collection,iteratee){return(isArray(collection)?arrayMap:baseMap)(collection,baseIteratee(iteratee,3))}},function(module,exports,__webpack_require__){var arrayEvery=__webpack_require__(384),baseEvery=__webpack_require__(385),baseIteratee=__webpack_require__(16),isArray=__webpack_require__(10),isIterateeCall=__webpack_require__(141);module.exports=function(collection,predicate,guard){var func=isArray(collection)?arrayEvery:baseEvery;return guard&&isIterateeCall(collection,predicate,guard)&&(predicate=void 0),func(collection,baseIteratee(predicate,3))}},function(module,exports,__webpack_require__){var func=__webpack_require__(50)("sumBy",__webpack_require__(23));func.placeholder=__webpack_require__(39),module.exports=func},function(module,exports,__webpack_require__){var arrayEach=__webpack_require__(60),baseEach=__webpack_require__(49),castFunction=__webpack_require__(392),isArray=__webpack_require__(10);module.exports=function(collection,iteratee){return(isArray(collection)?arrayEach:baseEach)(collection,castFunction(iteratee))}},function(module,exports,__webpack_require__){(function(global){var freeGlobal="object"==typeof global&&global&&global.Object===Object&&global;module.exports=freeGlobal}).call(this,__webpack_require__(237))},function(module,exports){var funcToString=Function.prototype.toString;module.exports=function(func){if(null!=func){try{return funcToString.call(func)}catch(e){}try{return func+""}catch(e){}}return""}},function(module,exports,__webpack_require__){var getNative=__webpack_require__(29),defineProperty=function(){try{var func=getNative(Object,"defineProperty");return func({},"",{}),func}catch(e){}}();module.exports=defineProperty},function(module,exports,__webpack_require__){var copyObject=__webpack_require__(46),keys=__webpack_require__(34);module.exports=function(object,source){return object&&copyObject(source,keys(source),object)}},function(module,exports,__webpack_require__){var baseTimes=__webpack_require__(255),isArguments=__webpack_require__(62),isArray=__webpack_require__(10),isBuffer=__webpack_require__(63),isIndex=__webpack_require__(47),isTypedArray=__webpack_require__(121),hasOwnProperty=Object.prototype.hasOwnProperty;module.exports=function(value,inherited){var isArr=isArray(value),isArg=!isArr&&isArguments(value),isBuff=!isArr&&!isArg&&isBuffer(value),isType=!isArr&&!isArg&&!isBuff&&isTypedArray(value),skipIndexes=isArr||isArg||isBuff||isType,result=skipIndexes?baseTimes(value.length,String):[],length=result.length;for(var key in value)!inherited&&!hasOwnProperty.call(value,key)||skipIndexes&&("length"==key||isBuff&&("offset"==key||"parent"==key)||isType&&("buffer"==key||"byteLength"==key||"byteOffset"==key)||isIndex(key,length))||result.push(key);return result}},function(module,exports){module.exports=function(func,transform){return function(arg){return func(transform(arg))}}},function(module,exports,__webpack_require__){var arrayLikeKeys=__webpack_require__(154),baseKeysIn=__webpack_require__(261),isArrayLike=__webpack_require__(24);module.exports=function(object){return isArrayLike(object)?arrayLikeKeys(object,!0):baseKeysIn(object)}},function(module,exports){module.exports=function(){return[]}},function(module,exports,__webpack_require__){var arrayPush=__webpack_require__(126),getPrototype=__webpack_require__(127),getSymbols=__webpack_require__(125),stubArray=__webpack_require__(157),getSymbolsIn=Object.getOwnPropertySymbols?function(object){for(var result=[];object;)arrayPush(result,getSymbols(object)),object=getPrototype(object);return result}:stubArray;module.exports=getSymbolsIn},function(module,exports,__webpack_require__){var baseGetAllKeys=__webpack_require__(160),getSymbols=__webpack_require__(125),keys=__webpack_require__(34);module.exports=function(object){return baseGetAllKeys(object,keys,getSymbols)}},function(module,exports,__webpack_require__){var arrayPush=__webpack_require__(126),isArray=__webpack_require__(10);module.exports=function(object,keysFunc,symbolsFunc){var result=keysFunc(object);return isArray(object)?result:arrayPush(result,symbolsFunc(object))}},function(module,exports,__webpack_require__){var Set=__webpack_require__(29)(__webpack_require__(17),"Set");module.exports=Set},function(module,exports,__webpack_require__){var WeakMap=__webpack_require__(29)(__webpack_require__(17),"WeakMap");module.exports=WeakMap},function(module,exports,__webpack_require__){var Uint8Array=__webpack_require__(17).Uint8Array;module.exports=Uint8Array},function(module,exports,__webpack_require__){var memoizeCapped=__webpack_require__(281),rePropName=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,reEscapeChar=/\\(\\)?/g,stringToPath=memoizeCapped((function(string){var result=[];return 46===string.charCodeAt(0)&&result.push(""),string.replace(rePropName,(function(match,number,quote,subString){result.push(quote?subString.replace(reEscapeChar,"$1"):number||match)})),result}));module.exports=stringToPath},function(module,exports,__webpack_require__){var baseToString=__webpack_require__(282);module.exports=function(value){return null==value?"":baseToString(value)}},function(module,exports,__webpack_require__){var apply=__webpack_require__(132),nativeMax=Math.max;module.exports=function(func,start,transform){return start=nativeMax(void 0===start?func.length-1:start,0),function(){for(var args=arguments,index=-1,length=nativeMax(args.length-start,0),array=Array(length);++index<length;)array[index]=args[start+index];index=-1;for(var otherArgs=Array(start+1);++index<start;)otherArgs[index]=args[index];return otherArgs[start]=transform(array),apply(func,this,otherArgs)}}},function(module,exports){var nativeNow=Date.now;module.exports=function(func){var count=0,lastCalled=0;return function(){var stamp=nativeNow(),remaining=16-(stamp-lastCalled);if(lastCalled=stamp,remaining>0){if(++count>=800)return arguments[0]}else count=0;return func.apply(void 0,arguments)}}},function(module,exports,__webpack_require__){var arrayAggregator=__webpack_require__(293),baseAggregator=__webpack_require__(294),baseIteratee=__webpack_require__(16),isArray=__webpack_require__(10);module.exports=function(setter,initializer){return function(collection,iteratee){var func=isArray(collection)?arrayAggregator:baseAggregator,accumulator=initializer?initializer():{};return func(collection,setter,baseIteratee(iteratee,2),accumulator)}}},function(module,exports,__webpack_require__){var baseFor=__webpack_require__(295),keys=__webpack_require__(34);module.exports=function(object,iteratee){return object&&baseFor(object,iteratee,keys)}},function(module,exports,__webpack_require__){var SetCache=__webpack_require__(135),arraySome=__webpack_require__(171),cacheHas=__webpack_require__(136);module.exports=function(array,other,bitmask,customizer,equalFunc,stack){var isPartial=1&bitmask,arrLength=array.length,othLength=other.length;if(arrLength!=othLength&&!(isPartial&&othLength>arrLength))return!1;var stacked=stack.get(array);if(stacked&&stack.get(other))return stacked==other;var index=-1,result=!0,seen=2&bitmask?new SetCache:void 0;for(stack.set(array,other),stack.set(other,array);++index<arrLength;){var arrValue=array[index],othValue=other[index];if(customizer)var compared=isPartial?customizer(othValue,arrValue,index,other,array,stack):customizer(arrValue,othValue,index,array,other,stack);if(void 0!==compared){if(compared)continue;result=!1;break}if(seen){if(!arraySome(other,(function(othValue,othIndex){if(!cacheHas(seen,othIndex)&&(arrValue===othValue||equalFunc(arrValue,othValue,bitmask,customizer,stack)))return seen.push(othIndex)}))){result=!1;break}}else if(arrValue!==othValue&&!equalFunc(arrValue,othValue,bitmask,customizer,stack)){result=!1;break}}return stack.delete(array),stack.delete(other),result}},function(module,exports){module.exports=function(array,predicate){for(var index=-1,length=null==array?0:array.length;++index<length;)if(predicate(array[index],index,array))return!0;return!1}},function(module,exports,__webpack_require__){var isObject=__webpack_require__(21);module.exports=function(value){return value==value&&!isObject(value)}},function(module,exports){module.exports=function(key,srcValue){return function(object){return null!=object&&(object[key]===srcValue&&(void 0!==srcValue||key in Object(object)))}}},function(module,exports,__webpack_require__){var baseHasIn=__webpack_require__(308),hasPath=__webpack_require__(309);module.exports=function(object,path){return null!=object&&hasPath(object,path,baseHasIn)}},function(module,exports){module.exports=function(array,value,comparator){for(var index=-1,length=null==array?0:array.length;++index<length;)if(comparator(value,array[index]))return!0;return!1}},function(module,exports,__webpack_require__){var isArrayLike=__webpack_require__(24),isObjectLike=__webpack_require__(20);module.exports=function(value){return isObjectLike(value)&&isArrayLike(value)}},function(module,exports,__webpack_require__){var SetCache=__webpack_require__(135),arrayIncludes=__webpack_require__(139),arrayIncludesWith=__webpack_require__(175),cacheHas=__webpack_require__(136),createSet=__webpack_require__(326),setToArray=__webpack_require__(137);module.exports=function(array,iteratee,comparator){var index=-1,includes=arrayIncludes,length=array.length,isCommon=!0,result=[],seen=result;if(comparator)isCommon=!1,includes=arrayIncludesWith;else if(length>=200){var set=iteratee?null:createSet(array);if(set)return setToArray(set);isCommon=!1,includes=cacheHas,seen=new SetCache}else seen=iteratee?[]:result;outer:for(;++index<length;){var value=array[index],computed=iteratee?iteratee(value):value;if(value=comparator||0!==value?value:0,isCommon&&computed==computed){for(var seenIndex=seen.length;seenIndex--;)if(seen[seenIndex]===computed)continue outer;iteratee&&seen.push(computed),result.push(value)}else includes(seen,computed,comparator)||(seen!==result&&seen.push(computed),result.push(value))}return result}},function(module,exports){module.exports=function(){}},function(module,exports,__webpack_require__){var identity=__webpack_require__(38),metaMap=__webpack_require__(180),baseSetData=metaMap?function(func,data){return metaMap.set(func,data),func}:identity;module.exports=baseSetData},function(module,exports,__webpack_require__){var WeakMap=__webpack_require__(162),metaMap=WeakMap&&new WeakMap;module.exports=metaMap},function(module,exports,__webpack_require__){var composeArgs=__webpack_require__(182),composeArgsRight=__webpack_require__(183),countHolders=__webpack_require__(341),createCtor=__webpack_require__(71),createRecurry=__webpack_require__(184),getHolder=__webpack_require__(189),reorder=__webpack_require__(350),replaceHolders=__webpack_require__(144),root=__webpack_require__(17);module.exports=function createHybrid(func,bitmask,thisArg,partials,holders,partialsRight,holdersRight,argPos,ary,arity){var isAry=128&bitmask,isBind=1&bitmask,isBindKey=2&bitmask,isCurried=24&bitmask,isFlip=512&bitmask,Ctor=isBindKey?void 0:createCtor(func);return function wrapper(){for(var arguments$1=arguments,length=arguments.length,args=Array(length),index=length;index--;)args[index]=arguments$1[index];if(isCurried)var placeholder=getHolder(wrapper),holdersCount=countHolders(args,placeholder);if(partials&&(args=composeArgs(args,partials,holders,isCurried)),partialsRight&&(args=composeArgsRight(args,partialsRight,holdersRight,isCurried)),length-=holdersCount,isCurried&&length<arity){var newHolders=replaceHolders(args,placeholder);return createRecurry(func,bitmask,createHybrid,wrapper.placeholder,thisArg,args,newHolders,argPos,ary,arity-length)}var thisBinding=isBind?thisArg:this,fn=isBindKey?thisBinding[func]:func;return length=args.length,argPos?args=reorder(args,argPos):isFlip&&length>1&&args.reverse(),isAry&&ary<length&&(args.length=ary),this&&this!==root&&this instanceof wrapper&&(fn=Ctor||createCtor(fn)),fn.apply(thisBinding,args)}}},function(module,exports){var nativeMax=Math.max;module.exports=function(args,partials,holders,isCurried){for(var argsIndex=-1,argsLength=args.length,holdersLength=holders.length,leftIndex=-1,leftLength=partials.length,rangeLength=nativeMax(argsLength-holdersLength,0),result=Array(leftLength+rangeLength),isUncurried=!isCurried;++leftIndex<leftLength;)result[leftIndex]=partials[leftIndex];for(;++argsIndex<holdersLength;)(isUncurried||argsIndex<argsLength)&&(result[holders[argsIndex]]=args[argsIndex]);for(;rangeLength--;)result[leftIndex++]=args[argsIndex++];return result}},function(module,exports){var nativeMax=Math.max;module.exports=function(args,partials,holders,isCurried){for(var argsIndex=-1,argsLength=args.length,holdersIndex=-1,holdersLength=holders.length,rightIndex=-1,rightLength=partials.length,rangeLength=nativeMax(argsLength-holdersLength,0),result=Array(rangeLength+rightLength),isUncurried=!isCurried;++argsIndex<rangeLength;)result[argsIndex]=args[argsIndex];for(var offset=argsIndex;++rightIndex<rightLength;)result[offset+rightIndex]=partials[rightIndex];for(;++holdersIndex<holdersLength;)(isUncurried||argsIndex<argsLength)&&(result[offset+holders[holdersIndex]]=args[argsIndex++]);return result}},function(module,exports,__webpack_require__){var isLaziable=__webpack_require__(342),setData=__webpack_require__(187),setWrapToString=__webpack_require__(188);module.exports=function(func,bitmask,wrapFunc,placeholder,thisArg,partials,holders,argPos,ary,arity){var isCurry=8&bitmask;bitmask|=isCurry?32:64,4&(bitmask&=~(isCurry?64:32))||(bitmask&=-4);var newData=[func,bitmask,thisArg,isCurry?partials:void 0,isCurry?holders:void 0,isCurry?void 0:partials,isCurry?void 0:holders,argPos,ary,arity],result=wrapFunc.apply(void 0,newData);return isLaziable(func)&&setData(result,newData),result.placeholder=placeholder,setWrapToString(result,func,bitmask)}},function(module,exports,__webpack_require__){var metaMap=__webpack_require__(180),noop=__webpack_require__(178),getData=metaMap?function(func){return metaMap.get(func)}:noop;module.exports=getData},function(module,exports,__webpack_require__){var baseCreate=__webpack_require__(66),baseLodash=__webpack_require__(143);function LodashWrapper(value,chainAll){this.__wrapped__=value,this.__actions__=[],this.__chain__=!!chainAll,this.__index__=0,this.__values__=void 0}LodashWrapper.prototype=baseCreate(baseLodash.prototype),LodashWrapper.prototype.constructor=LodashWrapper,module.exports=LodashWrapper},function(module,exports,__webpack_require__){var baseSetData=__webpack_require__(179),setData=__webpack_require__(167)(baseSetData);module.exports=setData},function(module,exports,__webpack_require__){var getWrapDetails=__webpack_require__(347),insertWrapDetails=__webpack_require__(348),setToString=__webpack_require__(133),updateWrapDetails=__webpack_require__(349);module.exports=function(wrapper,reference,bitmask){var source=reference+"";return setToString(wrapper,insertWrapDetails(source,updateWrapDetails(getWrapDetails(source),bitmask)))}},function(module,exports){module.exports=function(func){return func.placeholder}},function(module,exports,__webpack_require__){var baseEach=__webpack_require__(49),isArrayLike=__webpack_require__(24);module.exports=function(collection,iteratee){var index=-1,result=isArrayLike(collection)?Array(collection.length):[];return baseEach(collection,(function(value,key,collection){result[++index]=iteratee(value,key,collection)})),result}},function(module,exports,__webpack_require__){var baseGet=__webpack_require__(67),baseSet=__webpack_require__(375),castPath=__webpack_require__(36);module.exports=function(object,paths,predicate){for(var index=-1,length=paths.length,result={};++index<length;){var path=paths[index],value=baseGet(object,path);predicate(value,path)&&baseSet(result,castPath(path,object),value)}return result}},function(module,exports){module.exports=kolibriCoreAppGlobal.coreVue.components.CoreBase},function(module,exports){module.exports=kolibriCoreAppGlobal.coreVue.components.Navbar},function(module,exports){module.exports=kolibriCoreAppGlobal.coreVue.components.NavbarLink},function(module,exports){module.exports=kolibriCoreAppGlobal.utils.browserInfo},function(module,exports,__webpack_require__){var baseAssignValue=__webpack_require__(61),createAggregator=__webpack_require__(168),hasOwnProperty=Object.prototype.hasOwnProperty,groupBy=createAggregator((function(result,value,key){hasOwnProperty.call(result,key)?result[key].push(value):baseAssignValue(result,key,[value])}));module.exports=groupBy},function(module,exports,__webpack_require__){var baseAssignValue=__webpack_require__(61),baseForOwn=__webpack_require__(169),baseIteratee=__webpack_require__(16);module.exports=function(object,iteratee){var result={};return iteratee=baseIteratee(iteratee,3),baseForOwn(object,(function(value,key,object){baseAssignValue(result,key,iteratee(value,key,object))})),result}},function(module,exports){module.exports=function(array){return array&&array.length?array[0]:void 0}},function(module,exports,__webpack_require__){var baseFlatten=__webpack_require__(68),baseIteratee=__webpack_require__(16),baseRest=__webpack_require__(140),baseUniq=__webpack_require__(177),isArrayLikeObject=__webpack_require__(176),last=__webpack_require__(51),unionBy=baseRest((function(arrays){var iteratee=last(arrays);return isArrayLikeObject(iteratee)&&(iteratee=void 0),baseUniq(baseFlatten(arrays,1,isArrayLikeObject,!0),baseIteratee(iteratee,2))}));module.exports=unionBy},function(module,exports){module.exports=kolibriCoreAppGlobal.coreVue.components.FilterTextbox},function(module,exports){module.exports=kolibriCoreAppGlobal.coreVue.components.TechnicalTextBlock},function(module,exports){module.exports=kolibriCoreAppGlobal.utils.sortLanguages},function(module,exports,__webpack_require__){var func=__webpack_require__(50)("reverse",__webpack_require__(360));func.placeholder=__webpack_require__(39),module.exports=func},function(module,exports){module.exports=kolibriCoreAppGlobal.coreVue.components.PaginatedListContainer},function(module,exports,__webpack_require__){var arrayMap=__webpack_require__(28),baseIteratee=__webpack_require__(16),basePickBy=__webpack_require__(191),getAllKeysIn=__webpack_require__(128);module.exports=function(object,predicate){if(null==object)return{};var props=arrayMap(getAllKeysIn(object),(function(prop){return[prop]}));return predicate=baseIteratee(predicate),basePickBy(object,props,(function(value,path){return predicate(value,path[0])}))}},function(module,exports){module.exports=kolibriCoreAppGlobal.coreVue.components.CoreInfoIcon},function(module,exports){module.exports=kolibriCoreAppGlobal.coreVue.components.DragSortWidget},function(module,exports){module.exports=kolibriCoreAppGlobal.coreVue.components.DragContainer},function(module,exports){module.exports=kolibriCoreAppGlobal.coreVue.components.DragHandle},function(module,exports){module.exports=kolibriCoreAppGlobal.coreVue.components.Draggable},function(module,exports){module.exports=kolibriCoreAppGlobal.utils.UserType},function(module,exports){module.exports=kolibriCoreAppGlobal.coreVue.components.UserTypeDisplay},function(module,exports){module.exports=kolibriCoreAppGlobal.coreVue.components.AuthMessage},function(module,exports,__webpack_require__){var createWrap=__webpack_require__(70);module.exports=function(func){return createWrap(func,512)}},function(module,exports){module.exports=kolibriCoreAppGlobal.coreVue.components.ContentIcon},function(module,exports,__webpack_require__){var baseFindIndex=__webpack_require__(138),baseIteratee=__webpack_require__(16),toInteger=__webpack_require__(69),nativeMax=Math.max,nativeMin=Math.min;module.exports=function(array,predicate,fromIndex){var length=null==array?0:array.length;if(!length)return-1;var index=length-1;return void 0!==fromIndex&&(index=toInteger(fromIndex),index=fromIndex<0?nativeMax(length+index,0):nativeMin(index,length-1)),baseFindIndex(array,baseIteratee(predicate,3),index,!0)}},function(module,exports,__webpack_require__){var func=__webpack_require__(50)("omit",__webpack_require__(22));func.placeholder=__webpack_require__(39),module.exports=func},function(module,exports,__webpack_require__){var func=__webpack_require__(50)("map",__webpack_require__(146));func.placeholder=__webpack_require__(39),module.exports=func},function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__),function(__filename){__webpack_require__.d(__webpack_exports__,"cancelTask",(function(){return cancelTask})),__webpack_require__.d(__webpack_exports__,"refreshTaskList",(function(){return refreshTaskList})),__webpack_require__.d(__webpack_exports__,"refreshDriveList",(function(){return refreshDriveList}));var kolibri_lib_logging__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(43),kolibri_lib_logging__WEBPACK_IMPORTED_MODULE_0___default=__webpack_require__.n(kolibri_lib_logging__WEBPACK_IMPORTED_MODULE_0__),kolibri_coreVue_vuex_store__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(5),kolibri_coreVue_vuex_store__WEBPACK_IMPORTED_MODULE_1___default=__webpack_require__.n(kolibri_coreVue_vuex_store__WEBPACK_IMPORTED_MODULE_1__),kolibri_resources__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(1),lodash_isEqual__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__(220),lodash_isEqual__WEBPACK_IMPORTED_MODULE_3___default=__webpack_require__.n(lodash_isEqual__WEBPACK_IMPORTED_MODULE_3__),lodash_fp_pick__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__(221),lodash_fp_pick__WEBPACK_IMPORTED_MODULE_4___default=__webpack_require__.n(lodash_fp_pick__WEBPACK_IMPORTED_MODULE_4__),_constants__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__(0),logging=kolibri_lib_logging__WEBPACK_IMPORTED_MODULE_0___default.a.getLogger(__filename);function cancelTask(store,taskId){return new Promise((function(resolve){var cancelWatch;cancelWatch=kolibri_coreVue_vuex_store__WEBPACK_IMPORTED_MODULE_1___default.a.watch((function(state){return(state.manageContent.taskList.find((function(task){return task.id===taskId}))||{}).status===_constants__WEBPACK_IMPORTED_MODULE_5__.h.CANCELED}),(function(){cancelWatch(),kolibri_resources__WEBPACK_IMPORTED_MODULE_2__.TaskResource.deleteFinishedTask(taskId).then(resolve)})),kolibri_resources__WEBPACK_IMPORTED_MODULE_2__.TaskResource.cancelTask(taskId)}))}var simplifyTask=lodash_fp_pick__WEBPACK_IMPORTED_MODULE_4___default()(["id","status","percentage"]);function refreshTaskList(store){return kolibri_resources__WEBPACK_IMPORTED_MODULE_2__.TaskResource.fetchCollection({force:!0}).then((function(newTasks){(function(state,newTasks){var oldTasks=state.taskList;return oldTasks&&!lodash_isEqual__WEBPACK_IMPORTED_MODULE_3___default()(oldTasks.map(simplifyTask),newTasks.map(simplifyTask))})(store.state,newTasks)&&function(store,tasks){var contentTasks=tasks.filter((function(task){return Object.values(_constants__WEBPACK_IMPORTED_MODULE_5__.i).includes(task.type)}));store.commit("SET_TASK_LIST",contentTasks)}(store,newTasks)})).catch((function(error){logging.error("There was an error while fetching the task list: ",error)}))}function refreshDriveList(store){return kolibri_resources__WEBPACK_IMPORTED_MODULE_2__.TaskResource.localDrives().then((function(ref){var data=ref.data;return store.commit("wizard/SET_DRIVE_LIST",data),data}))}}.call(this,"kolibri/plugins/device/assets/src/modules/manageContent/actions/taskActions.js")},function(module,exports,__webpack_require__){var baseIsEqual=__webpack_require__(134);module.exports=function(value,other){return baseIsEqual(value,other)}},function(module,exports,__webpack_require__){var func=__webpack_require__(50)("pick",__webpack_require__(390));func.placeholder=__webpack_require__(39),module.exports=func},function(module,__webpack_exports__,__webpack_require__){"use strict";(function(__filename){var vuex_router_sync__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(223),lodash_forEach__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(149),lodash_forEach__WEBPACK_IMPORTED_MODULE_1___default=__webpack_require__.n(lodash_forEach__WEBPACK_IMPORTED_MODULE_1__),kolibri_coreVue_router__WEBPACK_IMPORTED_MODULE_3__=(__webpack_require__(52),__webpack_require__(12)),kolibri_coreVue_router__WEBPACK_IMPORTED_MODULE_3___default=__webpack_require__.n(kolibri_coreVue_router__WEBPACK_IMPORTED_MODULE_3__),kolibri_lib_logging__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__(43),kolibri_lib_logging__WEBPACK_IMPORTED_MODULE_4___default=__webpack_require__.n(kolibri_lib_logging__WEBPACK_IMPORTED_MODULE_4__),kolibri_lib_vue__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__(112),kolibri_lib_vue__WEBPACK_IMPORTED_MODULE_5___default=__webpack_require__.n(kolibri_lib_vue__WEBPACK_IMPORTED_MODULE_5__),kolibri_coreVue_vuex_store__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__(5),kolibri_coreVue_vuex_store__WEBPACK_IMPORTED_MODULE_6___default=__webpack_require__.n(kolibri_coreVue_vuex_store__WEBPACK_IMPORTED_MODULE_6__),kolibri_heartbeat__WEBPACK_IMPORTED_MODULE_7__=__webpack_require__(224),kolibri_heartbeat__WEBPACK_IMPORTED_MODULE_7___default=__webpack_require__.n(kolibri_heartbeat__WEBPACK_IMPORTED_MODULE_7__),kolibri_module__WEBPACK_IMPORTED_MODULE_8__=__webpack_require__(225);kolibri_lib_logging__WEBPACK_IMPORTED_MODULE_4___default.a.getLogger(__filename);var KolibriApp=function(KolibriModule){function KolibriApp(){KolibriModule.apply(this,arguments)}KolibriModule&&(KolibriApp.__proto__=KolibriModule),KolibriApp.prototype=Object.create(KolibriModule&&KolibriModule.prototype),KolibriApp.prototype.constructor=KolibriApp;var prototypeAccessors={routes:{configurable:!0},RootVue:{configurable:!0},store:{configurable:!0},stateSetters:{configurable:!0},pluginModule:{configurable:!0}};return prototypeAccessors.routes.get=function(){return[]},prototypeAccessors.RootVue.get=function(){return{}},prototypeAccessors.store.get=function(){return kolibri_coreVue_vuex_store__WEBPACK_IMPORTED_MODULE_6___default.a},prototypeAccessors.stateSetters.get=function(){return[]},prototypeAccessors.pluginModule.get=function(){return{}},KolibriApp.prototype.ready=function(){var this$1=this;return kolibri_coreVue_router__WEBPACK_IMPORTED_MODULE_3___default.a._vueRouter||kolibri_coreVue_router__WEBPACK_IMPORTED_MODULE_3___default.a.initRouter(),Object(vuex_router_sync__WEBPACK_IMPORTED_MODULE_0__.sync)(kolibri_coreVue_vuex_store__WEBPACK_IMPORTED_MODULE_6___default.a,kolibri_coreVue_router__WEBPACK_IMPORTED_MODULE_3___default.a),this.store.hotUpdate({actions:this.pluginModule.actions||{},getters:this.pluginModule.getters||{},mutations:this.pluginModule.mutations||{}}),this.store.replaceState(Object.assign({},this.store.state,this.pluginModule.state)),lodash_forEach__WEBPACK_IMPORTED_MODULE_1___default()(this.pluginModule.modules,(function(module,name){kolibri_coreVue_vuex_store__WEBPACK_IMPORTED_MODULE_6___default.a.registerModule(name,module)})),kolibri_heartbeat__WEBPACK_IMPORTED_MODULE_7___default.a.startPolling().then((function(){return this$1.store.dispatch("getNotifications"),Promise.all([].concat(this$1.stateSetters.map((function(setter){return setter(this$1.store)})))).then((function(){this$1.rootvue=new kolibri_lib_vue__WEBPACK_IMPORTED_MODULE_5___default.a(Object.assign({el:"rootvue",store:kolibri_coreVue_vuex_store__WEBPACK_IMPORTED_MODULE_6___default.a,router:kolibri_coreVue_router__WEBPACK_IMPORTED_MODULE_3___default.a.initRoutes(this$1.routes)},this$1.RootVue))}))}))},Object.defineProperties(KolibriApp.prototype,prototypeAccessors),KolibriApp}(kolibri_module__WEBPACK_IMPORTED_MODULE_8__.a);__webpack_exports__.a=KolibriApp}).call(this,"kolibri/core/assets/src/kolibri_app.js")},function(module,exports){function cloneRoute(to,from){var clone={name:to.name,path:to.path,hash:to.hash,query:to.query,params:to.params,fullPath:to.fullPath,meta:to.meta};return from&&(clone.from=cloneRoute(from)),Object.freeze(clone)}exports.sync=function(store,router,options){var moduleName=(options||{}).moduleName||"route";store.registerModule(moduleName,{namespaced:!0,state:cloneRoute(router.currentRoute),mutations:{ROUTE_CHANGED:function(state,transition){store.state[moduleName]=cloneRoute(transition.to,transition.from)}}});var currentPath,isTimeTraveling=!1,storeUnwatch=store.watch((function(state){return state[moduleName]}),(function(route){var fullPath=route.fullPath;fullPath!==currentPath&&(null!=currentPath&&(isTimeTraveling=!0,router.push(route)),currentPath=fullPath)}),{sync:!0}),afterEachUnHook=router.afterEach((function(to,from){isTimeTraveling?isTimeTraveling=!1:(currentPath=to.fullPath,store.commit(moduleName+"/ROUTE_CHANGED",{to:to,from:from}))}));return function(){null!=afterEachUnHook&&afterEachUnHook(),null!=storeUnwatch&&storeUnwatch(),store.unregisterModule(moduleName)}}},function(module,exports){module.exports=kolibriCoreAppGlobal.heartbeat},function(module,__webpack_exports__,__webpack_require__){"use strict";var urls,external_kolibriCoreAppGlobal_=__webpack_require__(45),external_kolibriCoreAppGlobal_default=__webpack_require__.n(external_kolibriCoreAppGlobal_),external_kolibriCoreAppGlobal_urls_=__webpack_require__(11);urls=__webpack_require__.n(external_kolibriCoreAppGlobal_urls_).a,__webpack_require__.p=urls.static("kolibri.plugins.device.app/");var KolibriModule=function(options){for(var ref,args=[],len=arguments.length-1;len-- >0;)args[len]=arguments[len+1];this.name="kolibri.plugins.device.app";var safeOptions={};this.kolibriModuleOptions.forEach((function(option){options[option]&&(safeOptions[option]=options[option])})),Object.assign(this,safeOptions),(ref=this).initialize.apply(ref,[options].concat(args)),this._registerKolibriModule()},prototypeAccessors={kolibriModuleOptions:{configurable:!0},Kolibri:{configurable:!0}};prototypeAccessors.kolibriModuleOptions.get=function(){return[]},KolibriModule.prototype._registerKolibriModule=function(){external_kolibriCoreAppGlobal_default.a.registerKolibriModuleSync(this)},KolibriModule.prototype.initialize=function(){},KolibriModule.prototype.ready=function(){},KolibriModule.prototype.stopListening=function(event,method){external_kolibriCoreAppGlobal_default.a.stopListening(event,this,method)},KolibriModule.prototype.emit=function(){for(var args=[],len=arguments.length;len--;)args[len]=arguments[len];external_kolibriCoreAppGlobal_default.a.emit.apply(external_kolibriCoreAppGlobal_default.a,args)},prototypeAccessors.Kolibri.get=function(){return external_kolibriCoreAppGlobal_default.a},Object.defineProperties(KolibriModule.prototype,prototypeAccessors);__webpack_exports__.a=KolibriModule},function(module,exports){module.exports=function(){this.__data__=[],this.size=0}},function(module,exports,__webpack_require__){var assocIndexOf=__webpack_require__(56),splice=Array.prototype.splice;module.exports=function(key){var data=this.__data__,index=assocIndexOf(data,key);return!(index<0)&&(index==data.length-1?data.pop():splice.call(data,index,1),--this.size,!0)}},function(module,exports,__webpack_require__){var assocIndexOf=__webpack_require__(56);module.exports=function(key){var data=this.__data__,index=assocIndexOf(data,key);return index<0?void 0:data[index][1]}},function(module,exports,__webpack_require__){var assocIndexOf=__webpack_require__(56);module.exports=function(key){return assocIndexOf(this.__data__,key)>-1}},function(module,exports,__webpack_require__){var assocIndexOf=__webpack_require__(56);module.exports=function(key,value){var data=this.__data__,index=assocIndexOf(data,key);return index<0?(++this.size,data.push([key,value])):data[index][1]=value,this}},function(module,exports,__webpack_require__){var ListCache=__webpack_require__(55);module.exports=function(){this.__data__=new ListCache,this.size=0}},function(module,exports){module.exports=function(key){var data=this.__data__,result=data.delete(key);return this.size=data.size,result}},function(module,exports){module.exports=function(key){return this.__data__.get(key)}},function(module,exports){module.exports=function(key){return this.__data__.has(key)}},function(module,exports,__webpack_require__){var ListCache=__webpack_require__(55),Map=__webpack_require__(116),MapCache=__webpack_require__(118);module.exports=function(key,value){var data=this.__data__;if(data instanceof ListCache){var pairs=data.__data__;if(!Map||pairs.length<199)return pairs.push([key,value]),this.size=++data.size,this;data=this.__data__=new MapCache(pairs)}return data.set(key,value),this.size=data.size,this}},function(module,exports,__webpack_require__){var isFunction=__webpack_require__(117),isMasked=__webpack_require__(240),isObject=__webpack_require__(21),toSource=__webpack_require__(151),reIsHostCtor=/^\[object .+?Constructor\]$/,funcProto=Function.prototype,objectProto=Object.prototype,funcToString=funcProto.toString,hasOwnProperty=objectProto.hasOwnProperty,reIsNative=RegExp("^"+funcToString.call(hasOwnProperty).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");module.exports=function(value){return!(!isObject(value)||isMasked(value))&&(isFunction(value)?reIsNative:reIsHostCtor).test(toSource(value))}},function(module,exports){var g;g=function(){return this}();try{g=g||new Function("return this")()}catch(e){"object"==typeof window&&(g=window)}module.exports=g},function(module,exports,__webpack_require__){var Symbol=__webpack_require__(33),objectProto=Object.prototype,hasOwnProperty=objectProto.hasOwnProperty,nativeObjectToString=objectProto.toString,symToStringTag=Symbol?Symbol.toStringTag:void 0;module.exports=function(value){var isOwn=hasOwnProperty.call(value,symToStringTag),tag=value[symToStringTag];try{value[symToStringTag]=void 0;var unmasked=!0}catch(e){}var result=nativeObjectToString.call(value);return unmasked&&(isOwn?value[symToStringTag]=tag:delete value[symToStringTag]),result}},function(module,exports){var nativeObjectToString=Object.prototype.toString;module.exports=function(value){return nativeObjectToString.call(value)}},function(module,exports,__webpack_require__){var uid,coreJsData=__webpack_require__(241),maskSrcKey=(uid=/[^.]+$/.exec(coreJsData&&coreJsData.keys&&coreJsData.keys.IE_PROTO||""))?"Symbol(src)_1."+uid:"";module.exports=function(func){return!!maskSrcKey&&maskSrcKey in func}},function(module,exports,__webpack_require__){var coreJsData=__webpack_require__(17)["__core-js_shared__"];module.exports=coreJsData},function(module,exports){module.exports=function(object,key){return null==object?void 0:object[key]}},function(module,exports,__webpack_require__){var Hash=__webpack_require__(244),ListCache=__webpack_require__(55),Map=__webpack_require__(116);module.exports=function(){this.size=0,this.__data__={hash:new Hash,map:new(Map||ListCache),string:new Hash}}},function(module,exports,__webpack_require__){var hashClear=__webpack_require__(245),hashDelete=__webpack_require__(246),hashGet=__webpack_require__(247),hashHas=__webpack_require__(248),hashSet=__webpack_require__(249);function Hash(entries){var index=-1,length=null==entries?0:entries.length;for(this.clear();++index<length;){var entry=entries[index];this.set(entry[0],entry[1])}}Hash.prototype.clear=hashClear,Hash.prototype.delete=hashDelete,Hash.prototype.get=hashGet,Hash.prototype.has=hashHas,Hash.prototype.set=hashSet,module.exports=Hash},function(module,exports,__webpack_require__){var nativeCreate=__webpack_require__(58);module.exports=function(){this.__data__=nativeCreate?nativeCreate(null):{},this.size=0}},function(module,exports){module.exports=function(key){var result=this.has(key)&&delete this.__data__[key];return this.size-=result?1:0,result}},function(module,exports,__webpack_require__){var nativeCreate=__webpack_require__(58),hasOwnProperty=Object.prototype.hasOwnProperty;module.exports=function(key){var data=this.__data__;if(nativeCreate){var result=data[key];return"__lodash_hash_undefined__"===result?void 0:result}return hasOwnProperty.call(data,key)?data[key]:void 0}},function(module,exports,__webpack_require__){var nativeCreate=__webpack_require__(58),hasOwnProperty=Object.prototype.hasOwnProperty;module.exports=function(key){var data=this.__data__;return nativeCreate?void 0!==data[key]:hasOwnProperty.call(data,key)}},function(module,exports,__webpack_require__){var nativeCreate=__webpack_require__(58);module.exports=function(key,value){var data=this.__data__;return this.size+=this.has(key)?0:1,data[key]=nativeCreate&&void 0===value?"__lodash_hash_undefined__":value,this}},function(module,exports,__webpack_require__){var getMapData=__webpack_require__(59);module.exports=function(key){var result=getMapData(this,key).delete(key);return this.size-=result?1:0,result}},function(module,exports){module.exports=function(value){var type=typeof value;return"string"==type||"number"==type||"symbol"==type||"boolean"==type?"__proto__"!==value:null===value}},function(module,exports,__webpack_require__){var getMapData=__webpack_require__(59);module.exports=function(key){return getMapData(this,key).get(key)}},function(module,exports,__webpack_require__){var getMapData=__webpack_require__(59);module.exports=function(key){return getMapData(this,key).has(key)}},function(module,exports,__webpack_require__){var getMapData=__webpack_require__(59);module.exports=function(key,value){var data=getMapData(this,key),size=data.size;return data.set(key,value),this.size+=data.size==size?0:1,this}},function(module,exports){module.exports=function(n,iteratee){for(var index=-1,result=Array(n);++index<n;)result[index]=iteratee(index);return result}},function(module,exports,__webpack_require__){var baseGetTag=__webpack_require__(30),isObjectLike=__webpack_require__(20);module.exports=function(value){return isObjectLike(value)&&"[object Arguments]"==baseGetTag(value)}},function(module,exports){module.exports=function(){return!1}},function(module,exports,__webpack_require__){var baseGetTag=__webpack_require__(30),isLength=__webpack_require__(122),isObjectLike=__webpack_require__(20),typedArrayTags={};typedArrayTags["[object Float32Array]"]=typedArrayTags["[object Float64Array]"]=typedArrayTags["[object Int8Array]"]=typedArrayTags["[object Int16Array]"]=typedArrayTags["[object Int32Array]"]=typedArrayTags["[object Uint8Array]"]=typedArrayTags["[object Uint8ClampedArray]"]=typedArrayTags["[object Uint16Array]"]=typedArrayTags["[object Uint32Array]"]=!0,typedArrayTags["[object Arguments]"]=typedArrayTags["[object Array]"]=typedArrayTags["[object ArrayBuffer]"]=typedArrayTags["[object Boolean]"]=typedArrayTags["[object DataView]"]=typedArrayTags["[object Date]"]=typedArrayTags["[object Error]"]=typedArrayTags["[object Function]"]=typedArrayTags["[object Map]"]=typedArrayTags["[object Number]"]=typedArrayTags["[object Object]"]=typedArrayTags["[object RegExp]"]=typedArrayTags["[object Set]"]=typedArrayTags["[object String]"]=typedArrayTags["[object WeakMap]"]=!1,module.exports=function(value){return isObjectLike(value)&&isLength(value.length)&&!!typedArrayTags[baseGetTag(value)]}},function(module,exports,__webpack_require__){var nativeKeys=__webpack_require__(155)(Object.keys,Object);module.exports=nativeKeys},function(module,exports,__webpack_require__){var copyObject=__webpack_require__(46),keysIn=__webpack_require__(156);module.exports=function(object,source){return object&&copyObject(source,keysIn(source),object)}},function(module,exports,__webpack_require__){var isObject=__webpack_require__(21),isPrototype=__webpack_require__(64),nativeKeysIn=__webpack_require__(262),hasOwnProperty=Object.prototype.hasOwnProperty;module.exports=function(object){if(!isObject(object))return nativeKeysIn(object);var isProto=isPrototype(object),result=[];for(var key in object)("constructor"!=key||!isProto&&hasOwnProperty.call(object,key))&&result.push(key);return result}},function(module,exports){module.exports=function(object){var result=[];if(null!=object)for(var key in Object(object))result.push(key);return result}},function(module,exports,__webpack_require__){(function(module){var root=__webpack_require__(17),freeExports=exports&&!exports.nodeType&&exports,freeModule=freeExports&&"object"==typeof module&&module&&!module.nodeType&&module,Buffer=freeModule&&freeModule.exports===freeExports?root.Buffer:void 0,allocUnsafe=Buffer?Buffer.allocUnsafe:void 0;module.exports=function(buffer,isDeep){if(isDeep)return buffer.slice();var length=buffer.length,result=allocUnsafe?allocUnsafe(length):new buffer.constructor(length);return buffer.copy(result),result}}).call(this,__webpack_require__(120)(module))},function(module,exports,__webpack_require__){var copyObject=__webpack_require__(46),getSymbols=__webpack_require__(125);module.exports=function(source,object){return copyObject(source,getSymbols(source),object)}},function(module,exports){module.exports=function(array,predicate){for(var index=-1,length=null==array?0:array.length,resIndex=0,result=[];++index<length;){var value=array[index];predicate(value,index,array)&&(result[resIndex++]=value)}return result}},function(module,exports,__webpack_require__){var copyObject=__webpack_require__(46),getSymbolsIn=__webpack_require__(158);module.exports=function(source,object){return copyObject(source,getSymbolsIn(source),object)}},function(module,exports,__webpack_require__){var DataView=__webpack_require__(29)(__webpack_require__(17),"DataView");module.exports=DataView},function(module,exports,__webpack_require__){var Promise=__webpack_require__(29)(__webpack_require__(17),"Promise");module.exports=Promise},function(module,exports){var hasOwnProperty=Object.prototype.hasOwnProperty;module.exports=function(array){var length=array.length,result=new array.constructor(length);return length&&"string"==typeof array[0]&&hasOwnProperty.call(array,"index")&&(result.index=array.index,result.input=array.input),result}},function(module,exports,__webpack_require__){var cloneArrayBuffer=__webpack_require__(129),cloneDataView=__webpack_require__(271),cloneRegExp=__webpack_require__(272),cloneSymbol=__webpack_require__(273),cloneTypedArray=__webpack_require__(274);module.exports=function(object,tag,isDeep){var Ctor=object.constructor;switch(tag){case"[object ArrayBuffer]":return cloneArrayBuffer(object);case"[object Boolean]":case"[object Date]":return new Ctor(+object);case"[object DataView]":return cloneDataView(object,isDeep);case"[object Float32Array]":case"[object Float64Array]":case"[object Int8Array]":case"[object Int16Array]":case"[object Int32Array]":case"[object Uint8Array]":case"[object Uint8ClampedArray]":case"[object Uint16Array]":case"[object Uint32Array]":return cloneTypedArray(object,isDeep);case"[object Map]":return new Ctor;case"[object Number]":case"[object String]":return new Ctor(object);case"[object RegExp]":return cloneRegExp(object);case"[object Set]":return new Ctor;case"[object Symbol]":return cloneSymbol(object)}}},function(module,exports,__webpack_require__){var cloneArrayBuffer=__webpack_require__(129);module.exports=function(dataView,isDeep){var buffer=isDeep?cloneArrayBuffer(dataView.buffer):dataView.buffer;return new dataView.constructor(buffer,dataView.byteOffset,dataView.byteLength)}},function(module,exports){var reFlags=/\w*$/;module.exports=function(regexp){var result=new regexp.constructor(regexp.source,reFlags.exec(regexp));return result.lastIndex=regexp.lastIndex,result}},function(module,exports,__webpack_require__){var Symbol=__webpack_require__(33),symbolProto=Symbol?Symbol.prototype:void 0,symbolValueOf=symbolProto?symbolProto.valueOf:void 0;module.exports=function(symbol){return symbolValueOf?Object(symbolValueOf.call(symbol)):{}}},function(module,exports,__webpack_require__){var cloneArrayBuffer=__webpack_require__(129);module.exports=function(typedArray,isDeep){var buffer=isDeep?cloneArrayBuffer(typedArray.buffer):typedArray.buffer;return new typedArray.constructor(buffer,typedArray.byteOffset,typedArray.length)}},function(module,exports,__webpack_require__){var baseCreate=__webpack_require__(66),getPrototype=__webpack_require__(127),isPrototype=__webpack_require__(64);module.exports=function(object){return"function"!=typeof object.constructor||isPrototype(object)?{}:baseCreate(getPrototype(object))}},function(module,exports,__webpack_require__){var baseIsMap=__webpack_require__(277),baseUnary=__webpack_require__(48),nodeUtil=__webpack_require__(123),nodeIsMap=nodeUtil&&nodeUtil.isMap,isMap=nodeIsMap?baseUnary(nodeIsMap):baseIsMap;module.exports=isMap},function(module,exports,__webpack_require__){var getTag=__webpack_require__(35),isObjectLike=__webpack_require__(20);module.exports=function(value){return isObjectLike(value)&&"[object Map]"==getTag(value)}},function(module,exports,__webpack_require__){var baseIsSet=__webpack_require__(279),baseUnary=__webpack_require__(48),nodeUtil=__webpack_require__(123),nodeIsSet=nodeUtil&&nodeUtil.isSet,isSet=nodeIsSet?baseUnary(nodeIsSet):baseIsSet;module.exports=isSet},function(module,exports,__webpack_require__){var getTag=__webpack_require__(35),isObjectLike=__webpack_require__(20);module.exports=function(value){return isObjectLike(value)&&"[object Set]"==getTag(value)}},function(module,exports,__webpack_require__){var castPath=__webpack_require__(36),last=__webpack_require__(51),parent=__webpack_require__(283),toKey=__webpack_require__(31);module.exports=function(object,path){return path=castPath(path,object),null==(object=parent(object,path))||delete object[toKey(last(path))]}},function(module,exports,__webpack_require__){var memoize=__webpack_require__(145);module.exports=function(func){var result=memoize(func,(function(key){return 500===cache.size&&cache.clear(),key})),cache=result.cache;return result}},function(module,exports,__webpack_require__){var Symbol=__webpack_require__(33),arrayMap=__webpack_require__(28),isArray=__webpack_require__(10),isSymbol=__webpack_require__(37),symbolProto=Symbol?Symbol.prototype:void 0,symbolToString=symbolProto?symbolProto.toString:void 0;module.exports=function baseToString(value){if("string"==typeof value)return value;if(isArray(value))return arrayMap(value,baseToString)+"";if(isSymbol(value))return symbolToString?symbolToString.call(value):"";var result=value+"";return"0"==result&&1/value==-1/0?"-0":result}},function(module,exports,__webpack_require__){var baseGet=__webpack_require__(67),baseSlice=__webpack_require__(284);module.exports=function(object,path){return path.length<2?object:baseGet(object,baseSlice(path,0,-1))}},function(module,exports){module.exports=function(array,start,end){var index=-1,length=array.length;start<0&&(start=-start>length?0:length+start),(end=end>length?length:end)<0&&(end+=length),length=start>end?0:end-start>>>0,start>>>=0;for(var result=Array(length);++index<length;)result[index]=array[index+start];return result}},function(module,exports,__webpack_require__){var isPlainObject=__webpack_require__(52);module.exports=function(value){return isPlainObject(value)?void 0:value}},function(module,exports,__webpack_require__){var baseFlatten=__webpack_require__(68);module.exports=function(array){return(null==array?0:array.length)?baseFlatten(array,1):[]}},function(module,exports,__webpack_require__){var Symbol=__webpack_require__(33),isArguments=__webpack_require__(62),isArray=__webpack_require__(10),spreadableSymbol=Symbol?Symbol.isConcatSpreadable:void 0;module.exports=function(value){return isArray(value)||isArguments(value)||!!(spreadableSymbol&&value&&value[spreadableSymbol])}},function(module,exports,__webpack_require__){var constant=__webpack_require__(289),defineProperty=__webpack_require__(152),identity=__webpack_require__(38),baseSetToString=defineProperty?function(func,string){return defineProperty(func,"toString",{configurable:!0,enumerable:!1,value:constant(string),writable:!0})}:identity;module.exports=baseSetToString},function(module,exports){module.exports=function(value){return function(){return value}}},function(module,__webpack_exports__,__webpack_require__){"use strict";var _node_modules_mini_css_extract_plugin_dist_loader_js_node_modules_css_loader_index_js_ref_4_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_lib_index_js_ref_4_2_node_modules_sass_loader_dist_cjs_js_node_modules_vue_loader_lib_index_js_vue_loader_options_node_modules_svg_icon_inline_loader_index_js_WelcomeModal_vue_vue_type_style_index_0_id_bbcaecca_lang_scss_scoped_true___WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(72);__webpack_require__.n(_node_modules_mini_css_extract_plugin_dist_loader_js_node_modules_css_loader_index_js_ref_4_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_lib_index_js_ref_4_2_node_modules_sass_loader_dist_cjs_js_node_modules_vue_loader_lib_index_js_vue_loader_options_node_modules_svg_icon_inline_loader_index_js_WelcomeModal_vue_vue_type_style_index_0_id_bbcaecca_lang_scss_scoped_true___WEBPACK_IMPORTED_MODULE_0__).a},function(module,__webpack_exports__,__webpack_require__){"use strict";var _node_modules_mini_css_extract_plugin_dist_loader_js_node_modules_css_loader_index_js_ref_4_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_lib_index_js_ref_4_2_node_modules_sass_loader_dist_cjs_js_node_modules_vue_loader_lib_index_js_vue_loader_options_node_modules_svg_icon_inline_loader_index_js_PermissionsChangeModal_vue_vue_type_style_index_0_id_d8cbd6ac_lang_scss_scoped_true___WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(73);__webpack_require__.n(_node_modules_mini_css_extract_plugin_dist_loader_js_node_modules_css_loader_index_js_ref_4_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_lib_index_js_ref_4_2_node_modules_sass_loader_dist_cjs_js_node_modules_vue_loader_lib_index_js_vue_loader_options_node_modules_svg_icon_inline_loader_index_js_PermissionsChangeModal_vue_vue_type_style_index_0_id_d8cbd6ac_lang_scss_scoped_true___WEBPACK_IMPORTED_MODULE_0__).a},function(module,__webpack_exports__,__webpack_require__){"use strict";var _node_modules_mini_css_extract_plugin_dist_loader_js_node_modules_css_loader_index_js_ref_4_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_lib_index_js_ref_4_2_node_modules_sass_loader_dist_cjs_js_node_modules_vue_loader_lib_index_js_vue_loader_options_node_modules_svg_icon_inline_loader_index_js_DeviceIndex_vue_vue_type_style_index_0_id_60b58f57_lang_scss_scoped_true___WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(74);__webpack_require__.n(_node_modules_mini_css_extract_plugin_dist_loader_js_node_modules_css_loader_index_js_ref_4_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_lib_index_js_ref_4_2_node_modules_sass_loader_dist_cjs_js_node_modules_vue_loader_lib_index_js_vue_loader_options_node_modules_svg_icon_inline_loader_index_js_DeviceIndex_vue_vue_type_style_index_0_id_60b58f57_lang_scss_scoped_true___WEBPACK_IMPORTED_MODULE_0__).a},function(module,exports){module.exports=function(array,setter,iteratee,accumulator){for(var index=-1,length=null==array?0:array.length;++index<length;){var value=array[index];setter(accumulator,value,iteratee(value),array)}return accumulator}},function(module,exports,__webpack_require__){var baseEach=__webpack_require__(49);module.exports=function(collection,setter,iteratee,accumulator){return baseEach(collection,(function(value,key,collection){setter(accumulator,value,iteratee(value),collection)})),accumulator}},function(module,exports,__webpack_require__){var baseFor=__webpack_require__(296)();module.exports=baseFor},function(module,exports){module.exports=function(fromRight){return function(object,iteratee,keysFunc){for(var index=-1,iterable=Object(object),props=keysFunc(object),length=props.length;length--;){var key=props[fromRight?length:++index];if(!1===iteratee(iterable[key],key,iterable))break}return object}}},function(module,exports,__webpack_require__){var isArrayLike=__webpack_require__(24);module.exports=function(eachFunc,fromRight){return function(collection,iteratee){if(null==collection)return collection;if(!isArrayLike(collection))return eachFunc(collection,iteratee);for(var length=collection.length,index=fromRight?length:-1,iterable=Object(collection);(fromRight?index--:++index<length)&&!1!==iteratee(iterable[index],index,iterable););return collection}}},function(module,exports,__webpack_require__){var baseIsMatch=__webpack_require__(299),getMatchData=__webpack_require__(306),matchesStrictComparable=__webpack_require__(173);module.exports=function(source){var matchData=getMatchData(source);return 1==matchData.length&&matchData[0][2]?matchesStrictComparable(matchData[0][0],matchData[0][1]):function(object){return object===source||baseIsMatch(object,source,matchData)}}},function(module,exports,__webpack_require__){var Stack=__webpack_require__(115),baseIsEqual=__webpack_require__(134);module.exports=function(object,source,matchData,customizer){var index=matchData.length,length=index,noCustomizer=!customizer;if(null==object)return!length;for(object=Object(object);index--;){var data=matchData[index];if(noCustomizer&&data[2]?data[1]!==object[data[0]]:!(data[0]in object))return!1}for(;++index<length;){var key=(data=matchData[index])[0],objValue=object[key],srcValue=data[1];if(noCustomizer&&data[2]){if(void 0===objValue&&!(key in object))return!1}else{var stack=new Stack;if(customizer)var result=customizer(objValue,srcValue,key,object,source,stack);if(!(void 0===result?baseIsEqual(srcValue,objValue,3,customizer,stack):result))return!1}}return!0}},function(module,exports,__webpack_require__){var Stack=__webpack_require__(115),equalArrays=__webpack_require__(170),equalByTag=__webpack_require__(303),equalObjects=__webpack_require__(305),getTag=__webpack_require__(35),isArray=__webpack_require__(10),isBuffer=__webpack_require__(63),isTypedArray=__webpack_require__(121),objectTag="[object Object]",hasOwnProperty=Object.prototype.hasOwnProperty;module.exports=function(object,other,bitmask,customizer,equalFunc,stack){var objIsArr=isArray(object),othIsArr=isArray(other),objTag=objIsArr?"[object Array]":getTag(object),othTag=othIsArr?"[object Array]":getTag(other),objIsObj=(objTag="[object Arguments]"==objTag?objectTag:objTag)==objectTag,othIsObj=(othTag="[object Arguments]"==othTag?objectTag:othTag)==objectTag,isSameTag=objTag==othTag;if(isSameTag&&isBuffer(object)){if(!isBuffer(other))return!1;objIsArr=!0,objIsObj=!1}if(isSameTag&&!objIsObj)return stack||(stack=new Stack),objIsArr||isTypedArray(object)?equalArrays(object,other,bitmask,customizer,equalFunc,stack):equalByTag(object,other,objTag,bitmask,customizer,equalFunc,stack);if(!(1&bitmask)){var objIsWrapped=objIsObj&&hasOwnProperty.call(object,"__wrapped__"),othIsWrapped=othIsObj&&hasOwnProperty.call(other,"__wrapped__");if(objIsWrapped||othIsWrapped){var objUnwrapped=objIsWrapped?object.value():object,othUnwrapped=othIsWrapped?other.value():other;return stack||(stack=new Stack),equalFunc(objUnwrapped,othUnwrapped,bitmask,customizer,stack)}}return!!isSameTag&&(stack||(stack=new Stack),equalObjects(object,other,bitmask,customizer,equalFunc,stack))}},function(module,exports){module.exports=function(value){return this.__data__.set(value,"__lodash_hash_undefined__"),this}},function(module,exports){module.exports=function(value){return this.__data__.has(value)}},function(module,exports,__webpack_require__){var Symbol=__webpack_require__(33),Uint8Array=__webpack_require__(163),eq=__webpack_require__(57),equalArrays=__webpack_require__(170),mapToArray=__webpack_require__(304),setToArray=__webpack_require__(137),symbolProto=Symbol?Symbol.prototype:void 0,symbolValueOf=symbolProto?symbolProto.valueOf:void 0;module.exports=function(object,other,tag,bitmask,customizer,equalFunc,stack){switch(tag){case"[object DataView]":if(object.byteLength!=other.byteLength||object.byteOffset!=other.byteOffset)return!1;object=object.buffer,other=other.buffer;case"[object ArrayBuffer]":return!(object.byteLength!=other.byteLength||!equalFunc(new Uint8Array(object),new Uint8Array(other)));case"[object Boolean]":case"[object Date]":case"[object Number]":return eq(+object,+other);case"[object Error]":return object.name==other.name&&object.message==other.message;case"[object RegExp]":case"[object String]":return object==other+"";case"[object Map]":var convert=mapToArray;case"[object Set]":var isPartial=1&bitmask;if(convert||(convert=setToArray),object.size!=other.size&&!isPartial)return!1;var stacked=stack.get(object);if(stacked)return stacked==other;bitmask|=2,stack.set(object,other);var result=equalArrays(convert(object),convert(other),bitmask,customizer,equalFunc,stack);return stack.delete(object),result;case"[object Symbol]":if(symbolValueOf)return symbolValueOf.call(object)==symbolValueOf.call(other)}return!1}},function(module,exports){module.exports=function(map){var index=-1,result=Array(map.size);return map.forEach((function(value,key){result[++index]=[key,value]})),result}},function(module,exports,__webpack_require__){var getAllKeys=__webpack_require__(159),hasOwnProperty=Object.prototype.hasOwnProperty;module.exports=function(object,other,bitmask,customizer,equalFunc,stack){var isPartial=1&bitmask,objProps=getAllKeys(object),objLength=objProps.length;if(objLength!=getAllKeys(other).length&&!isPartial)return!1;for(var index=objLength;index--;){var key=objProps[index];if(!(isPartial?key in other:hasOwnProperty.call(other,key)))return!1}var stacked=stack.get(object);if(stacked&&stack.get(other))return stacked==other;var result=!0;stack.set(object,other),stack.set(other,object);for(var skipCtor=isPartial;++index<objLength;){var objValue=object[key=objProps[index]],othValue=other[key];if(customizer)var compared=isPartial?customizer(othValue,objValue,key,other,object,stack):customizer(objValue,othValue,key,object,other,stack);if(!(void 0===compared?objValue===othValue||equalFunc(objValue,othValue,bitmask,customizer,stack):compared)){result=!1;break}skipCtor||(skipCtor="constructor"==key)}if(result&&!skipCtor){var objCtor=object.constructor,othCtor=other.constructor;objCtor==othCtor||!("constructor"in object)||!("constructor"in other)||"function"==typeof objCtor&&objCtor instanceof objCtor&&"function"==typeof othCtor&&othCtor instanceof othCtor||(result=!1)}return stack.delete(object),stack.delete(other),result}},function(module,exports,__webpack_require__){var isStrictComparable=__webpack_require__(172),keys=__webpack_require__(34);module.exports=function(object){for(var result=keys(object),length=result.length;length--;){var key=result[length],value=object[key];result[length]=[key,value,isStrictComparable(value)]}return result}},function(module,exports,__webpack_require__){var baseIsEqual=__webpack_require__(134),get=__webpack_require__(41),hasIn=__webpack_require__(174),isKey=__webpack_require__(130),isStrictComparable=__webpack_require__(172),matchesStrictComparable=__webpack_require__(173),toKey=__webpack_require__(31);module.exports=function(path,srcValue){return isKey(path)&&isStrictComparable(srcValue)?matchesStrictComparable(toKey(path),srcValue):function(object){var objValue=get(object,path);return void 0===objValue&&objValue===srcValue?hasIn(object,path):baseIsEqual(srcValue,objValue,3)}}},function(module,exports){module.exports=function(object,key){return null!=object&&key in Object(object)}},function(module,exports,__webpack_require__){var castPath=__webpack_require__(36),isArguments=__webpack_require__(62),isArray=__webpack_require__(10),isIndex=__webpack_require__(47),isLength=__webpack_require__(122),toKey=__webpack_require__(31);module.exports=function(object,path,hasFunc){for(var index=-1,length=(path=castPath(path,object)).length,result=!1;++index<length;){var key=toKey(path[index]);if(!(result=null!=object&&hasFunc(object,key)))break;object=object[key]}return result||++index!=length?result:!!(length=null==object?0:object.length)&&isLength(length)&&isIndex(key,length)&&(isArray(object)||isArguments(object))}},function(module,exports,__webpack_require__){var baseProperty=__webpack_require__(311),basePropertyDeep=__webpack_require__(312),isKey=__webpack_require__(130),toKey=__webpack_require__(31);module.exports=function(path){return isKey(path)?baseProperty(toKey(path)):basePropertyDeep(path)}},function(module,exports){module.exports=function(key){return function(object){return null==object?void 0:object[key]}}},function(module,exports,__webpack_require__){var baseGet=__webpack_require__(67);module.exports=function(path){return function(object){return baseGet(object,path)}}},function(module,exports,__webpack_require__){var baseIteratee=__webpack_require__(16),isArrayLike=__webpack_require__(24),keys=__webpack_require__(34);module.exports=function(findIndexFunc){return function(collection,predicate,fromIndex){var iterable=Object(collection);if(!isArrayLike(collection)){var iteratee=baseIteratee(predicate,3);collection=keys(collection),predicate=function(key){return iteratee(iterable[key],key,iterable)}}var index=findIndexFunc(collection,predicate,fromIndex);return index>-1?iterable[iteratee?collection[index]:index]:void 0}}},function(module,exports,__webpack_require__){var baseFindIndex=__webpack_require__(138),baseIteratee=__webpack_require__(16),toInteger=__webpack_require__(69),nativeMax=Math.max;module.exports=function(array,predicate,fromIndex){var length=null==array?0:array.length;if(!length)return-1;var index=null==fromIndex?0:toInteger(fromIndex);return index<0&&(index=nativeMax(length+index,0)),baseFindIndex(array,baseIteratee(predicate,3),index)}},function(module,exports,__webpack_require__){var toNumber=__webpack_require__(316);module.exports=function(value){return value?(value=toNumber(value))===1/0||value===-1/0?17976931348623157e292*(value<0?-1:1):value==value?value:0:0===value?value:0}},function(module,exports,__webpack_require__){var isObject=__webpack_require__(21),isSymbol=__webpack_require__(37),reTrim=/^\s+|\s+$/g,reIsBadHex=/^[-+]0x[0-9a-f]+$/i,reIsBinary=/^0b[01]+$/i,reIsOctal=/^0o[0-7]+$/i,freeParseInt=parseInt;module.exports=function(value){if("number"==typeof value)return value;if(isSymbol(value))return NaN;if(isObject(value)){var other="function"==typeof value.valueOf?value.valueOf():value;value=isObject(other)?other+"":other}if("string"!=typeof value)return 0===value?value:+value;value=value.replace(reTrim,"");var isBinary=reIsBinary.test(value);return isBinary||reIsOctal.test(value)?freeParseInt(value.slice(2),isBinary?2:8):reIsBadHex.test(value)?NaN:+value}},function(module,exports){module.exports=function(array,iteratee){for(var result,index=-1,length=array.length;++index<length;){var current=iteratee(array[index]);void 0!==current&&(result=void 0===result?current:result+current)}return result}},function(module,__webpack_exports__,__webpack_require__){"use strict";var _node_modules_mini_css_extract_plugin_dist_loader_js_node_modules_css_loader_index_js_ref_4_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_lib_index_js_ref_4_2_node_modules_sass_loader_dist_cjs_js_node_modules_vue_loader_lib_index_js_vue_loader_options_node_modules_svg_icon_inline_loader_index_js_SelectionBottomBar_vue_vue_type_style_index_0_id_c1eabaa4_lang_scss_scoped_true___WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(75);__webpack_require__.n(_node_modules_mini_css_extract_plugin_dist_loader_js_node_modules_css_loader_index_js_ref_4_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_lib_index_js_ref_4_2_node_modules_sass_loader_dist_cjs_js_node_modules_vue_loader_lib_index_js_vue_loader_options_node_modules_svg_icon_inline_loader_index_js_SelectionBottomBar_vue_vue_type_style_index_0_id_c1eabaa4_lang_scss_scoped_true___WEBPACK_IMPORTED_MODULE_0__).a},function(module,__webpack_exports__,__webpack_require__){"use strict";var _node_modules_mini_css_extract_plugin_dist_loader_js_node_modules_css_loader_index_js_ref_4_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_lib_index_js_ref_4_2_node_modules_sass_loader_dist_cjs_js_node_modules_vue_loader_lib_index_js_vue_loader_options_node_modules_svg_icon_inline_loader_index_js_DriveList_vue_vue_type_style_index_0_id_47d45bc1_lang_scss_scoped_true___WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(76);__webpack_require__.n(_node_modules_mini_css_extract_plugin_dist_loader_js_node_modules_css_loader_index_js_ref_4_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_lib_index_js_ref_4_2_node_modules_sass_loader_dist_cjs_js_node_modules_vue_loader_lib_index_js_vue_loader_options_node_modules_svg_icon_inline_loader_index_js_DriveList_vue_vue_type_style_index_0_id_47d45bc1_lang_scss_scoped_true___WEBPACK_IMPORTED_MODULE_0__).a},function(module,__webpack_exports__,__webpack_require__){"use strict";var _node_modules_mini_css_extract_plugin_dist_loader_js_node_modules_css_loader_index_js_ref_4_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_lib_index_js_ref_4_2_node_modules_sass_loader_dist_cjs_js_node_modules_vue_loader_lib_index_js_vue_loader_options_node_modules_svg_icon_inline_loader_index_js_ChannelDetails_vue_vue_type_style_index_0_id_01732ac9_lang_scss_scoped_true___WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(77);__webpack_require__.n(_node_modules_mini_css_extract_plugin_dist_loader_js_node_modules_css_loader_index_js_ref_4_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_lib_index_js_ref_4_2_node_modules_sass_loader_dist_cjs_js_node_modules_vue_loader_lib_index_js_vue_loader_options_node_modules_svg_icon_inline_loader_index_js_ChannelDetails_vue_vue_type_style_index_0_id_01732ac9_lang_scss_scoped_true___WEBPACK_IMPORTED_MODULE_0__).a},function(module,__webpack_exports__,__webpack_require__){"use strict";var _node_modules_mini_css_extract_plugin_dist_loader_js_node_modules_css_loader_index_js_ref_4_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_lib_index_js_ref_4_2_node_modules_sass_loader_dist_cjs_js_node_modules_vue_loader_lib_index_js_vue_loader_options_node_modules_svg_icon_inline_loader_index_js_WithCheckbox_vue_vue_type_style_index_0_id_6bad01e0_lang_scss_scoped_true___WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(78);__webpack_require__.n(_node_modules_mini_css_extract_plugin_dist_loader_js_node_modules_css_loader_index_js_ref_4_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_lib_index_js_ref_4_2_node_modules_sass_loader_dist_cjs_js_node_modules_vue_loader_lib_index_js_vue_loader_options_node_modules_svg_icon_inline_loader_index_js_WithCheckbox_vue_vue_type_style_index_0_id_6bad01e0_lang_scss_scoped_true___WEBPACK_IMPORTED_MODULE_0__).a},function(module,exports,__webpack_require__){var SetCache=__webpack_require__(135),arrayIncludes=__webpack_require__(139),arrayIncludesWith=__webpack_require__(175),arrayMap=__webpack_require__(28),baseUnary=__webpack_require__(48),cacheHas=__webpack_require__(136);module.exports=function(array,values,iteratee,comparator){var index=-1,includes=arrayIncludes,isCommon=!0,length=array.length,result=[],valuesLength=values.length;if(!length)return result;iteratee&&(values=arrayMap(values,baseUnary(iteratee))),comparator?(includes=arrayIncludesWith,isCommon=!1):values.length>=200&&(includes=cacheHas,isCommon=!1,values=new SetCache(values));outer:for(;++index<length;){var value=array[index],computed=null==iteratee?value:iteratee(value);if(value=comparator||0!==value?value:0,isCommon&&computed==computed){for(var valuesIndex=valuesLength;valuesIndex--;)if(values[valuesIndex]===computed)continue outer;result.push(value)}else includes(values,computed,comparator)||result.push(value)}return result}},function(module,exports,__webpack_require__){var baseFindIndex=__webpack_require__(138),baseIsNaN=__webpack_require__(324),strictIndexOf=__webpack_require__(325);module.exports=function(array,value,fromIndex){return value==value?strictIndexOf(array,value,fromIndex):baseFindIndex(array,baseIsNaN,fromIndex)}},function(module,exports){module.exports=function(value){return value!=value}},function(module,exports){module.exports=function(array,value,fromIndex){for(var index=fromIndex-1,length=array.length;++index<length;)if(array[index]===value)return index;return-1}},function(module,exports,__webpack_require__){var Set=__webpack_require__(161),noop=__webpack_require__(178),setToArray=__webpack_require__(137),createSet=Set&&1/setToArray(new Set([,-0]))[1]==1/0?function(values){return new Set(values)}:noop;module.exports=createSet},function(module,__webpack_exports__,__webpack_require__){"use strict";var _node_modules_mini_css_extract_plugin_dist_loader_js_node_modules_css_loader_index_js_ref_4_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_lib_index_js_ref_4_2_node_modules_sass_loader_dist_cjs_js_node_modules_vue_loader_lib_index_js_vue_loader_options_node_modules_svg_icon_inline_loader_index_js_FilteredChannelListContainer_vue_vue_type_style_index_0_id_097a5508_lang_scss_scoped_true___WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(79);__webpack_require__.n(_node_modules_mini_css_extract_plugin_dist_loader_js_node_modules_css_loader_index_js_ref_4_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_lib_index_js_ref_4_2_node_modules_sass_loader_dist_cjs_js_node_modules_vue_loader_lib_index_js_vue_loader_options_node_modules_svg_icon_inline_loader_index_js_FilteredChannelListContainer_vue_vue_type_style_index_0_id_097a5508_lang_scss_scoped_true___WEBPACK_IMPORTED_MODULE_0__).a},function(module,__webpack_exports__,__webpack_require__){"use strict";var _node_modules_mini_css_extract_plugin_dist_loader_js_node_modules_css_loader_index_js_ref_4_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_lib_index_js_ref_4_2_node_modules_sass_loader_dist_cjs_js_node_modules_vue_loader_lib_index_js_vue_loader_options_node_modules_svg_icon_inline_loader_index_js_DeviceInfoPage_vue_vue_type_style_index_0_id_45a64d16_lang_scss_scoped_true___WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(80);__webpack_require__.n(_node_modules_mini_css_extract_plugin_dist_loader_js_node_modules_css_loader_index_js_ref_4_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_lib_index_js_ref_4_2_node_modules_sass_loader_dist_cjs_js_node_modules_vue_loader_lib_index_js_vue_loader_options_node_modules_svg_icon_inline_loader_index_js_DeviceInfoPage_vue_vue_type_style_index_0_id_45a64d16_lang_scss_scoped_true___WEBPACK_IMPORTED_MODULE_0__).a},function(module,__webpack_exports__,__webpack_require__){"use strict";var _node_modules_mini_css_extract_plugin_dist_loader_js_node_modules_css_loader_index_js_ref_4_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_lib_index_js_ref_4_2_node_modules_sass_loader_dist_cjs_js_node_modules_vue_loader_lib_index_js_vue_loader_options_node_modules_svg_icon_inline_loader_index_js_index_vue_vue_type_style_index_0_id_1daead90_lang_scss_scoped_true___WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(81);__webpack_require__.n(_node_modules_mini_css_extract_plugin_dist_loader_js_node_modules_css_loader_index_js_ref_4_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_lib_index_js_ref_4_2_node_modules_sass_loader_dist_cjs_js_node_modules_vue_loader_lib_index_js_vue_loader_options_node_modules_svg_icon_inline_loader_index_js_index_vue_vue_type_style_index_0_id_1daead90_lang_scss_scoped_true___WEBPACK_IMPORTED_MODULE_0__).a},function(module,exports,__webpack_require__){var baseEach=__webpack_require__(49);module.exports=function(collection,predicate){var result;return baseEach(collection,(function(value,index,collection){return!(result=predicate(value,index,collection))})),!!result}},function(module,__webpack_exports__,__webpack_require__){"use strict";var _node_modules_mini_css_extract_plugin_dist_loader_js_node_modules_css_loader_index_js_ref_4_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_lib_index_js_ref_4_2_node_modules_sass_loader_dist_cjs_js_node_modules_vue_loader_lib_index_js_vue_loader_options_node_modules_svg_icon_inline_loader_index_js_TasksBar_vue_vue_type_style_index_0_id_c1af3a94_lang_scss_scoped_true___WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(82);__webpack_require__.n(_node_modules_mini_css_extract_plugin_dist_loader_js_node_modules_css_loader_index_js_ref_4_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_lib_index_js_ref_4_2_node_modules_sass_loader_dist_cjs_js_node_modules_vue_loader_lib_index_js_vue_loader_options_node_modules_svg_icon_inline_loader_index_js_TasksBar_vue_vue_type_style_index_0_id_c1af3a94_lang_scss_scoped_true___WEBPACK_IMPORTED_MODULE_0__).a},function(module,__webpack_exports__,__webpack_require__){"use strict";var _node_modules_mini_css_extract_plugin_dist_loader_js_node_modules_css_loader_index_js_ref_4_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_lib_index_js_ref_4_2_node_modules_sass_loader_dist_cjs_js_node_modules_vue_loader_lib_index_js_vue_loader_options_node_modules_svg_icon_inline_loader_index_js_HeaderWithOptions_vue_vue_type_style_index_0_id_64b89c49_lang_scss_scoped_true___WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(83);__webpack_require__.n(_node_modules_mini_css_extract_plugin_dist_loader_js_node_modules_css_loader_index_js_ref_4_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_lib_index_js_ref_4_2_node_modules_sass_loader_dist_cjs_js_node_modules_vue_loader_lib_index_js_vue_loader_options_node_modules_svg_icon_inline_loader_index_js_HeaderWithOptions_vue_vue_type_style_index_0_id_64b89c49_lang_scss_scoped_true___WEBPACK_IMPORTED_MODULE_0__).a},function(module,__webpack_exports__,__webpack_require__){"use strict";var _node_modules_mini_css_extract_plugin_dist_loader_js_node_modules_css_loader_index_js_ref_4_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_lib_index_js_ref_4_2_node_modules_sass_loader_dist_cjs_js_node_modules_vue_loader_lib_index_js_vue_loader_options_node_modules_svg_icon_inline_loader_index_js_RemoveFacilityModal_vue_vue_type_style_index_0_id_73ca346e_lang_scss_scoped_true___WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(84);__webpack_require__.n(_node_modules_mini_css_extract_plugin_dist_loader_js_node_modules_css_loader_index_js_ref_4_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_lib_index_js_ref_4_2_node_modules_sass_loader_dist_cjs_js_node_modules_vue_loader_lib_index_js_vue_loader_options_node_modules_svg_icon_inline_loader_index_js_RemoveFacilityModal_vue_vue_type_style_index_0_id_73ca346e_lang_scss_scoped_true___WEBPACK_IMPORTED_MODULE_0__).a},function(module,__webpack_exports__,__webpack_require__){"use strict";var _node_modules_mini_css_extract_plugin_dist_loader_js_node_modules_css_loader_index_js_ref_4_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_lib_index_js_ref_4_2_node_modules_sass_loader_dist_cjs_js_node_modules_vue_loader_lib_index_js_vue_loader_options_node_modules_svg_icon_inline_loader_index_js_index_vue_vue_type_style_index_0_id_f32f3372_lang_scss_scoped_true___WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(85);__webpack_require__.n(_node_modules_mini_css_extract_plugin_dist_loader_js_node_modules_css_loader_index_js_ref_4_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_lib_index_js_ref_4_2_node_modules_sass_loader_dist_cjs_js_node_modules_vue_loader_lib_index_js_vue_loader_options_node_modules_svg_icon_inline_loader_index_js_index_vue_vue_type_style_index_0_id_f32f3372_lang_scss_scoped_true___WEBPACK_IMPORTED_MODULE_0__).a},function(module,exports,__webpack_require__){var mapping=__webpack_require__(336),fallbackHolder=__webpack_require__(39),push=Array.prototype.push;function baseAry(func,n){return 2==n?function(a,b){return func(a,b)}:function(a){return func(a)}}function cloneArray(array){for(var length=array?array.length:0,result=Array(length);length--;)result[length]=array[length];return result}function wrapImmutable(func,cloner){return function(){var arguments$1=arguments,length=arguments.length;if(length){for(var args=Array(length);length--;)args[length]=arguments$1[length];var result=args[0]=cloner.apply(void 0,args);return func.apply(void 0,args),result}}}module.exports=function baseConvert(util,name,func,options){var isLib="function"==typeof name,isObj=name===Object(name);if(isObj&&(options=func,func=name,name=void 0),null==func)throw new TypeError;options||(options={});var config_cap=!("cap"in options)||options.cap,config_curry=!("curry"in options)||options.curry,config_fixed=!("fixed"in options)||options.fixed,config_immutable=!("immutable"in options)||options.immutable,config_rearg=!("rearg"in options)||options.rearg,defaultHolder=isLib?func:fallbackHolder,forceCurry="curry"in options&&options.curry,forceFixed="fixed"in options&&options.fixed,forceRearg="rearg"in options&&options.rearg,pristine=isLib?func.runInContext():void 0,helpers=isLib?func:{ary:util.ary,assign:util.assign,clone:util.clone,curry:util.curry,forEach:util.forEach,isArray:util.isArray,isError:util.isError,isFunction:util.isFunction,isWeakMap:util.isWeakMap,iteratee:util.iteratee,keys:util.keys,rearg:util.rearg,toInteger:util.toInteger,toPath:util.toPath},ary=helpers.ary,assign=helpers.assign,clone=helpers.clone,curry=helpers.curry,each=helpers.forEach,isArray=helpers.isArray,isError=helpers.isError,isFunction=helpers.isFunction,isWeakMap=helpers.isWeakMap,keys=helpers.keys,rearg=helpers.rearg,toInteger=helpers.toInteger,toPath=helpers.toPath,aryMethodKeys=keys(mapping.aryMethod),wrappers={castArray:function(castArray){return function(){var value=arguments[0];return isArray(value)?castArray(cloneArray(value)):castArray.apply(void 0,arguments)}},iteratee:function(iteratee){return function(){var func=arguments[0],arity=arguments[1],result=iteratee(func,arity),length=result.length;return config_cap&&"number"==typeof arity?(arity=arity>2?arity-2:1,length&&length<=arity?result:baseAry(result,arity)):result}},mixin:function(mixin){return function(source){var func=this;if(!isFunction(func))return mixin(func,Object(source));var pairs=[];return each(keys(source),(function(key){isFunction(source[key])&&pairs.push([key,func.prototype[key]])})),mixin(func,Object(source)),each(pairs,(function(pair){var value=pair[1];isFunction(value)?func.prototype[pair[0]]=value:delete func.prototype[pair[0]]})),func}},nthArg:function(nthArg){return function(n){var arity=n<0?1:toInteger(n)+1;return curry(nthArg(n),arity)}},rearg:function(rearg){return function(func,indexes){var arity=indexes?indexes.length:0;return curry(rearg(func,indexes),arity)}},runInContext:function(runInContext){return function(context){return baseConvert(util,runInContext(context),options)}}};function castCap(name,func){if(config_cap){var indexes=mapping.iterateeRearg[name];if(indexes)return function(func,indexes){return overArg(func,(function(func){var n=indexes.length;return function(func,n){return 2==n?function(a,b){return func.apply(void 0,arguments)}:function(a){return func.apply(void 0,arguments)}}(rearg(baseAry(func,n),indexes),n)}))}(func,indexes);var n=!isLib&&mapping.iterateeAry[name];if(n)return function(func,n){return overArg(func,(function(func){return"function"==typeof func?baseAry(func,n):func}))}(func,n)}return func}function castFixed(name,func,n){if(config_fixed&&(forceFixed||!mapping.skipFixed[name])){var data=mapping.methodSpread[name],start=data&&data.start;return void 0===start?ary(func,n):function(func,start){return function(){for(var arguments$1=arguments,length=arguments.length,lastIndex=length-1,args=Array(length);length--;)args[length]=arguments$1[length];var array=args[start],otherArgs=args.slice(0,start);return array&&push.apply(otherArgs,array),start!=lastIndex&&push.apply(otherArgs,args.slice(start+1)),func.apply(this,otherArgs)}}(func,start)}return func}function castRearg(name,func,n){return config_rearg&&n>1&&(forceRearg||!mapping.skipRearg[name])?rearg(func,mapping.methodRearg[name]||mapping.aryRearg[n]):func}function cloneByPath(object,path){for(var index=-1,length=(path=toPath(path)).length,lastIndex=length-1,result=clone(Object(object)),nested=result;null!=nested&&++index<length;){var key=path[index],value=nested[key];null==value||isFunction(value)||isError(value)||isWeakMap(value)||(nested[key]=clone(index==lastIndex?value:Object(value))),nested=nested[key]}return result}function createConverter(name,func){var realName=mapping.aliasToReal[name]||name,methodName=mapping.remap[realName]||realName,oldOptions=options;return function(options){var newUtil=isLib?pristine:helpers,newFunc=isLib?pristine[methodName]:func,newOptions=assign(assign({},oldOptions),options);return baseConvert(newUtil,realName,newFunc,newOptions)}}function overArg(func,transform){return function(){var arguments$1=arguments,length=arguments.length;if(!length)return func();for(var args=Array(length);length--;)args[length]=arguments$1[length];var index=config_rearg?0:length-1;return args[index]=transform(args[index]),func.apply(void 0,args)}}function wrap(name,func,placeholder){var result,realName=mapping.aliasToReal[name]||name,wrapped=func,wrapper=wrappers[realName];return wrapper?wrapped=wrapper(func):config_immutable&&(mapping.mutate.array[realName]?wrapped=wrapImmutable(func,cloneArray):mapping.mutate.object[realName]?wrapped=wrapImmutable(func,function(func){return function(object){return func({},object)}}(func)):mapping.mutate.set[realName]&&(wrapped=wrapImmutable(func,cloneByPath))),each(aryMethodKeys,(function(aryKey){return each(mapping.aryMethod[aryKey],(function(otherName){if(realName==otherName){var data=mapping.methodSpread[realName],afterRearg=data&&data.afterRearg;return result=afterRearg?castFixed(realName,castRearg(realName,wrapped,aryKey),aryKey):castRearg(realName,castFixed(realName,wrapped,aryKey),aryKey),result=function(name,func,n){return forceCurry||config_curry&&n>1?curry(func,n):func}(0,result=castCap(realName,result),aryKey),!1}})),!result})),result||(result=wrapped),result==func&&(result=forceCurry?curry(result,1):function(){return func.apply(this,arguments)}),result.convert=createConverter(realName,func),result.placeholder=func.placeholder=placeholder,result}if(!isObj)return wrap(name,func,defaultHolder);var _=func,pairs=[];return each(aryMethodKeys,(function(aryKey){each(mapping.aryMethod[aryKey],(function(key){var func=_[mapping.remap[key]||key];func&&pairs.push([key,wrap(key,func,_)])}))})),each(keys(_),(function(key){var func=_[key];if("function"==typeof func){for(var length=pairs.length;length--;)if(pairs[length][0]==key)return;func.convert=createConverter(key,func),pairs.push([key,func])}})),each(pairs,(function(pair){_[pair[0]]=pair[1]})),_.convert=function(options){return _.runInContext.convert(options)(void 0)},_.placeholder=_,each(keys(_),(function(key){each(mapping.realToAlias[key]||[],(function(alias){_[alias]=_[key]}))})),_}},function(module,exports){exports.aliasToReal={each:"forEach",eachRight:"forEachRight",entries:"toPairs",entriesIn:"toPairsIn",extend:"assignIn",extendAll:"assignInAll",extendAllWith:"assignInAllWith",extendWith:"assignInWith",first:"head",conforms:"conformsTo",matches:"isMatch",property:"get",__:"placeholder",F:"stubFalse",T:"stubTrue",all:"every",allPass:"overEvery",always:"constant",any:"some",anyPass:"overSome",apply:"spread",assoc:"set",assocPath:"set",complement:"negate",compose:"flowRight",contains:"includes",dissoc:"unset",dissocPath:"unset",dropLast:"dropRight",dropLastWhile:"dropRightWhile",equals:"isEqual",identical:"eq",indexBy:"keyBy",init:"initial",invertObj:"invert",juxt:"over",omitAll:"omit",nAry:"ary",path:"get",pathEq:"matchesProperty",pathOr:"getOr",paths:"at",pickAll:"pick",pipe:"flow",pluck:"map",prop:"get",propEq:"matchesProperty",propOr:"getOr",props:"at",symmetricDifference:"xor",symmetricDifferenceBy:"xorBy",symmetricDifferenceWith:"xorWith",takeLast:"takeRight",takeLastWhile:"takeRightWhile",unapply:"rest",unnest:"flatten",useWith:"overArgs",where:"conformsTo",whereEq:"isMatch",zipObj:"zipObject"},exports.aryMethod={1:["assignAll","assignInAll","attempt","castArray","ceil","create","curry","curryRight","defaultsAll","defaultsDeepAll","floor","flow","flowRight","fromPairs","invert","iteratee","memoize","method","mergeAll","methodOf","mixin","nthArg","over","overEvery","overSome","rest","reverse","round","runInContext","spread","template","trim","trimEnd","trimStart","uniqueId","words","zipAll"],2:["add","after","ary","assign","assignAllWith","assignIn","assignInAllWith","at","before","bind","bindAll","bindKey","chunk","cloneDeepWith","cloneWith","concat","conformsTo","countBy","curryN","curryRightN","debounce","defaults","defaultsDeep","defaultTo","delay","difference","divide","drop","dropRight","dropRightWhile","dropWhile","endsWith","eq","every","filter","find","findIndex","findKey","findLast","findLastIndex","findLastKey","flatMap","flatMapDeep","flattenDepth","forEach","forEachRight","forIn","forInRight","forOwn","forOwnRight","get","groupBy","gt","gte","has","hasIn","includes","indexOf","intersection","invertBy","invoke","invokeMap","isEqual","isMatch","join","keyBy","lastIndexOf","lt","lte","map","mapKeys","mapValues","matchesProperty","maxBy","meanBy","merge","mergeAllWith","minBy","multiply","nth","omit","omitBy","overArgs","pad","padEnd","padStart","parseInt","partial","partialRight","partition","pick","pickBy","propertyOf","pull","pullAll","pullAt","random","range","rangeRight","rearg","reject","remove","repeat","restFrom","result","sampleSize","some","sortBy","sortedIndex","sortedIndexOf","sortedLastIndex","sortedLastIndexOf","sortedUniqBy","split","spreadFrom","startsWith","subtract","sumBy","take","takeRight","takeRightWhile","takeWhile","tap","throttle","thru","times","trimChars","trimCharsEnd","trimCharsStart","truncate","union","uniqBy","uniqWith","unset","unzipWith","without","wrap","xor","zip","zipObject","zipObjectDeep"],3:["assignInWith","assignWith","clamp","differenceBy","differenceWith","findFrom","findIndexFrom","findLastFrom","findLastIndexFrom","getOr","includesFrom","indexOfFrom","inRange","intersectionBy","intersectionWith","invokeArgs","invokeArgsMap","isEqualWith","isMatchWith","flatMapDepth","lastIndexOfFrom","mergeWith","orderBy","padChars","padCharsEnd","padCharsStart","pullAllBy","pullAllWith","rangeStep","rangeStepRight","reduce","reduceRight","replace","set","slice","sortedIndexBy","sortedLastIndexBy","transform","unionBy","unionWith","update","xorBy","xorWith","zipWith"],4:["fill","setWith","updateWith"]},exports.aryRearg={2:[1,0],3:[2,0,1],4:[3,2,0,1]},exports.iterateeAry={dropRightWhile:1,dropWhile:1,every:1,filter:1,find:1,findFrom:1,findIndex:1,findIndexFrom:1,findKey:1,findLast:1,findLastFrom:1,findLastIndex:1,findLastIndexFrom:1,findLastKey:1,flatMap:1,flatMapDeep:1,flatMapDepth:1,forEach:1,forEachRight:1,forIn:1,forInRight:1,forOwn:1,forOwnRight:1,map:1,mapKeys:1,mapValues:1,partition:1,reduce:2,reduceRight:2,reject:1,remove:1,some:1,takeRightWhile:1,takeWhile:1,times:1,transform:2},exports.iterateeRearg={mapKeys:[1],reduceRight:[1,0]},exports.methodRearg={assignInAllWith:[1,0],assignInWith:[1,2,0],assignAllWith:[1,0],assignWith:[1,2,0],differenceBy:[1,2,0],differenceWith:[1,2,0],getOr:[2,1,0],intersectionBy:[1,2,0],intersectionWith:[1,2,0],isEqualWith:[1,2,0],isMatchWith:[2,1,0],mergeAllWith:[1,0],mergeWith:[1,2,0],padChars:[2,1,0],padCharsEnd:[2,1,0],padCharsStart:[2,1,0],pullAllBy:[2,1,0],pullAllWith:[2,1,0],rangeStep:[1,2,0],rangeStepRight:[1,2,0],setWith:[3,1,2,0],sortedIndexBy:[2,1,0],sortedLastIndexBy:[2,1,0],unionBy:[1,2,0],unionWith:[1,2,0],updateWith:[3,1,2,0],xorBy:[1,2,0],xorWith:[1,2,0],zipWith:[1,2,0]},exports.methodSpread={assignAll:{start:0},assignAllWith:{start:0},assignInAll:{start:0},assignInAllWith:{start:0},defaultsAll:{start:0},defaultsDeepAll:{start:0},invokeArgs:{start:2},invokeArgsMap:{start:2},mergeAll:{start:0},mergeAllWith:{start:0},partial:{start:1},partialRight:{start:1},without:{start:1},zipAll:{start:0}},exports.mutate={array:{fill:!0,pull:!0,pullAll:!0,pullAllBy:!0,pullAllWith:!0,pullAt:!0,remove:!0,reverse:!0},object:{assign:!0,assignAll:!0,assignAllWith:!0,assignIn:!0,assignInAll:!0,assignInAllWith:!0,assignInWith:!0,assignWith:!0,defaults:!0,defaultsAll:!0,defaultsDeep:!0,defaultsDeepAll:!0,merge:!0,mergeAll:!0,mergeAllWith:!0,mergeWith:!0},set:{set:!0,setWith:!0,unset:!0,update:!0,updateWith:!0}},exports.realToAlias=function(){var hasOwnProperty=Object.prototype.hasOwnProperty,object=exports.aliasToReal,result={};for(var key in object){var value=object[key];hasOwnProperty.call(result,value)?result[value].push(key):result[value]=[key]}return result}(),exports.remap={assignAll:"assign",assignAllWith:"assignWith",assignInAll:"assignIn",assignInAllWith:"assignInWith",curryN:"curry",curryRightN:"curryRight",defaultsAll:"defaults",defaultsDeepAll:"defaultsDeep",findFrom:"find",findIndexFrom:"findIndex",findLastFrom:"findLast",findLastIndexFrom:"findLastIndex",getOr:"get",includesFrom:"includes",indexOfFrom:"indexOf",invokeArgs:"invoke",invokeArgsMap:"invokeMap",lastIndexOfFrom:"lastIndexOf",mergeAll:"merge",mergeAllWith:"mergeWith",padChars:"pad",padCharsEnd:"padEnd",padCharsStart:"padStart",propertyOf:"get",rangeStep:"range",rangeStepRight:"rangeRight",restFrom:"rest",spreadFrom:"spread",trimChars:"trim",trimCharsEnd:"trimEnd",trimCharsStart:"trimStart",zipAll:"zip"},exports.skipFixed={castArray:!0,flow:!0,flowRight:!0,iteratee:!0,mixin:!0,rearg:!0,runInContext:!0},exports.skipRearg={add:!0,assign:!0,assignIn:!0,bind:!0,bindKey:!0,concat:!0,difference:!0,divide:!0,eq:!0,gt:!0,gte:!0,isEqual:!0,lt:!0,lte:!0,matchesProperty:!0,merge:!0,multiply:!0,overArgs:!0,partial:!0,partialRight:!0,propertyOf:!0,random:!0,range:!0,rangeRight:!0,subtract:!0,zip:!0,zipObject:!0,zipObjectDeep:!0}},function(module,exports,__webpack_require__){module.exports={ary:__webpack_require__(338),assign:__webpack_require__(153),clone:__webpack_require__(353),curry:__webpack_require__(354),forEach:__webpack_require__(60),isArray:__webpack_require__(10),isError:__webpack_require__(355),isFunction:__webpack_require__(117),isWeakMap:__webpack_require__(356),iteratee:__webpack_require__(357),keys:__webpack_require__(124),rearg:__webpack_require__(358),toInteger:__webpack_require__(69),toPath:__webpack_require__(359)}},function(module,exports,__webpack_require__){var createWrap=__webpack_require__(70);module.exports=function(func,n,guard){return n=guard?void 0:n,n=func&&null==n?func.length:n,createWrap(func,128,void 0,void 0,void 0,void 0,n)}},function(module,exports,__webpack_require__){var createCtor=__webpack_require__(71),root=__webpack_require__(17);module.exports=function(func,bitmask,thisArg){var isBind=1&bitmask,Ctor=createCtor(func);return function wrapper(){var fn=this&&this!==root&&this instanceof wrapper?Ctor:func;return fn.apply(isBind?thisArg:this,arguments)}}},function(module,exports,__webpack_require__){var apply=__webpack_require__(132),createCtor=__webpack_require__(71),createHybrid=__webpack_require__(181),createRecurry=__webpack_require__(184),getHolder=__webpack_require__(189),replaceHolders=__webpack_require__(144),root=__webpack_require__(17);module.exports=function(func,bitmask,arity){var Ctor=createCtor(func);return function wrapper(){for(var arguments$1=arguments,length=arguments.length,args=Array(length),index=length,placeholder=getHolder(wrapper);index--;)args[index]=arguments$1[index];var holders=length<3&&args[0]!==placeholder&&args[length-1]!==placeholder?[]:replaceHolders(args,placeholder);if((length-=holders.length)<arity)return createRecurry(func,bitmask,createHybrid,wrapper.placeholder,void 0,args,holders,void 0,void 0,arity-length);var fn=this&&this!==root&&this instanceof wrapper?Ctor:func;return apply(fn,this,args)}}},function(module,exports){module.exports=function(array,placeholder){for(var length=array.length,result=0;length--;)array[length]===placeholder&&++result;return result}},function(module,exports,__webpack_require__){var LazyWrapper=__webpack_require__(142),getData=__webpack_require__(185),getFuncName=__webpack_require__(343),lodash=__webpack_require__(345);module.exports=function(func){var funcName=getFuncName(func),other=lodash[funcName];if("function"!=typeof other||!(funcName in LazyWrapper.prototype))return!1;if(func===other)return!0;var data=getData(other);return!!data&&func===data[0]}},function(module,exports,__webpack_require__){var realNames=__webpack_require__(344),hasOwnProperty=Object.prototype.hasOwnProperty;module.exports=function(func){for(var result=func.name+"",array=realNames[result],length=hasOwnProperty.call(realNames,result)?array.length:0;length--;){var data=array[length],otherFunc=data.func;if(null==otherFunc||otherFunc==func)return data.name}return result}},function(module,exports){module.exports={}},function(module,exports,__webpack_require__){var LazyWrapper=__webpack_require__(142),LodashWrapper=__webpack_require__(186),baseLodash=__webpack_require__(143),isArray=__webpack_require__(10),isObjectLike=__webpack_require__(20),wrapperClone=__webpack_require__(346),hasOwnProperty=Object.prototype.hasOwnProperty;function lodash(value){if(isObjectLike(value)&&!isArray(value)&&!(value instanceof LazyWrapper)){if(value instanceof LodashWrapper)return value;if(hasOwnProperty.call(value,"__wrapped__"))return wrapperClone(value)}return new LodashWrapper(value)}lodash.prototype=baseLodash.prototype,lodash.prototype.constructor=lodash,module.exports=lodash},function(module,exports,__webpack_require__){var LazyWrapper=__webpack_require__(142),LodashWrapper=__webpack_require__(186),copyArray=__webpack_require__(65);module.exports=function(wrapper){if(wrapper instanceof LazyWrapper)return wrapper.clone();var result=new LodashWrapper(wrapper.__wrapped__,wrapper.__chain__);return result.__actions__=copyArray(wrapper.__actions__),result.__index__=wrapper.__index__,result.__values__=wrapper.__values__,result}},function(module,exports){var reWrapDetails=/\{\n\/\* \[wrapped with (.+)\] \*/,reSplitDetails=/,? & /;module.exports=function(source){var match=source.match(reWrapDetails);return match?match[1].split(reSplitDetails):[]}},function(module,exports){var reWrapComment=/\{(?:\n\/\* \[wrapped with .+\] \*\/)?\n?/;module.exports=function(source,details){var length=details.length;if(!length)return source;var lastIndex=length-1;return details[lastIndex]=(length>1?"& ":"")+details[lastIndex],details=details.join(length>2?", ":" "),source.replace(reWrapComment,"{\n/* [wrapped with "+details+"] */\n")}},function(module,exports,__webpack_require__){var arrayEach=__webpack_require__(60),arrayIncludes=__webpack_require__(139),wrapFlags=[["ary",128],["bind",1],["bindKey",2],["curry",8],["curryRight",16],["flip",512],["partial",32],["partialRight",64],["rearg",256]];module.exports=function(details,bitmask){return arrayEach(wrapFlags,(function(pair){var value="_."+pair[0];bitmask&pair[1]&&!arrayIncludes(details,value)&&details.push(value)})),details.sort()}},function(module,exports,__webpack_require__){var copyArray=__webpack_require__(65),isIndex=__webpack_require__(47),nativeMin=Math.min;module.exports=function(array,indexes){for(var arrLength=array.length,length=nativeMin(indexes.length,arrLength),oldArray=copyArray(array);length--;){var index=indexes[length];array[length]=isIndex(index,arrLength)?oldArray[index]:void 0}return array}},function(module,exports,__webpack_require__){var apply=__webpack_require__(132),createCtor=__webpack_require__(71),root=__webpack_require__(17);module.exports=function(func,bitmask,thisArg,partials){var isBind=1&bitmask,Ctor=createCtor(func);return function wrapper(){for(var arguments$1=arguments,argsIndex=-1,argsLength=arguments.length,leftIndex=-1,leftLength=partials.length,args=Array(leftLength+argsLength),fn=this&&this!==root&&this instanceof wrapper?Ctor:func;++leftIndex<leftLength;)args[leftIndex]=partials[leftIndex];for(;argsLength--;)args[leftIndex++]=arguments$1[++argsIndex];return apply(fn,isBind?thisArg:this,args)}}},function(module,exports,__webpack_require__){var composeArgs=__webpack_require__(182),composeArgsRight=__webpack_require__(183),replaceHolders=__webpack_require__(144),nativeMin=Math.min;module.exports=function(data,source){var bitmask=data[1],srcBitmask=source[1],newBitmask=bitmask|srcBitmask,isCommon=newBitmask<131,isCombo=128==srcBitmask&&8==bitmask||128==srcBitmask&&256==bitmask&&data[7].length<=source[8]||384==srcBitmask&&source[7].length<=source[8]&&8==bitmask;if(!isCommon&&!isCombo)return data;1&srcBitmask&&(data[2]=source[2],newBitmask|=1&bitmask?0:4);var value=source[3];if(value){var partials=data[3];data[3]=partials?composeArgs(partials,value,source[4]):value,data[4]=partials?replaceHolders(data[3],"__lodash_placeholder__"):source[4]}return(value=source[5])&&(partials=data[5],data[5]=partials?composeArgsRight(partials,value,source[6]):value,data[6]=partials?replaceHolders(data[5],"__lodash_placeholder__"):source[6]),(value=source[7])&&(data[7]=value),128&srcBitmask&&(data[8]=null==data[8]?source[8]:nativeMin(data[8],source[8])),null==data[9]&&(data[9]=source[9]),data[0]=source[0],data[1]=newBitmask,data}},function(module,exports,__webpack_require__){var baseClone=__webpack_require__(114);module.exports=function(value){return baseClone(value,4)}},function(module,exports,__webpack_require__){var createWrap=__webpack_require__(70);function curry(func,arity,guard){var result=createWrap(func,8,void 0,void 0,void 0,void 0,void 0,arity=guard?void 0:arity);return result.placeholder=curry.placeholder,result}curry.placeholder={},module.exports=curry},function(module,exports,__webpack_require__){var baseGetTag=__webpack_require__(30),isObjectLike=__webpack_require__(20),isPlainObject=__webpack_require__(52);module.exports=function(value){if(!isObjectLike(value))return!1;var tag=baseGetTag(value);return"[object Error]"==tag||"[object DOMException]"==tag||"string"==typeof value.message&&"string"==typeof value.name&&!isPlainObject(value)}},function(module,exports,__webpack_require__){var getTag=__webpack_require__(35),isObjectLike=__webpack_require__(20);module.exports=function(value){return isObjectLike(value)&&"[object WeakMap]"==getTag(value)}},function(module,exports,__webpack_require__){var baseClone=__webpack_require__(114),baseIteratee=__webpack_require__(16);module.exports=function(func){return baseIteratee("function"==typeof func?func:baseClone(func,1))}},function(module,exports,__webpack_require__){var createWrap=__webpack_require__(70),flatRest=__webpack_require__(131),rearg=flatRest((function(func,indexes){return createWrap(func,256,void 0,void 0,void 0,indexes)}));module.exports=rearg},function(module,exports,__webpack_require__){var arrayMap=__webpack_require__(28),copyArray=__webpack_require__(65),isArray=__webpack_require__(10),isSymbol=__webpack_require__(37),stringToPath=__webpack_require__(164),toKey=__webpack_require__(31),toString=__webpack_require__(165);module.exports=function(value){return isArray(value)?arrayMap(value,toKey):isSymbol(value)?[value]:copyArray(stringToPath(toString(value)))}},function(module,exports){var nativeReverse=Array.prototype.reverse;module.exports=function(array){return null==array?array:nativeReverse.call(array)}},function(module,__webpack_exports__,__webpack_require__){"use strict";var _node_modules_mini_css_extract_plugin_dist_loader_js_node_modules_css_loader_index_js_ref_4_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_lib_index_js_ref_4_2_node_modules_sass_loader_dist_cjs_js_node_modules_vue_loader_lib_index_js_vue_loader_options_node_modules_svg_icon_inline_loader_index_js_TaskPanel_vue_vue_type_style_index_0_id_390bea63_lang_scss_scoped_true___WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(86);__webpack_require__.n(_node_modules_mini_css_extract_plugin_dist_loader_js_node_modules_css_loader_index_js_ref_4_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_lib_index_js_ref_4_2_node_modules_sass_loader_dist_cjs_js_node_modules_vue_loader_lib_index_js_vue_loader_options_node_modules_svg_icon_inline_loader_index_js_TaskPanel_vue_vue_type_style_index_0_id_390bea63_lang_scss_scoped_true___WEBPACK_IMPORTED_MODULE_0__).a},function(module,__webpack_exports__,__webpack_require__){"use strict";var _node_modules_mini_css_extract_plugin_dist_loader_js_node_modules_css_loader_index_js_ref_4_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_lib_index_js_ref_4_2_node_modules_sass_loader_dist_cjs_js_node_modules_vue_loader_lib_index_js_vue_loader_options_node_modules_svg_icon_inline_loader_index_js_BackLink_vue_vue_type_style_index_0_id_26953346_lang_scss_scoped_true___WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(87);__webpack_require__.n(_node_modules_mini_css_extract_plugin_dist_loader_js_node_modules_css_loader_index_js_ref_4_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_lib_index_js_ref_4_2_node_modules_sass_loader_dist_cjs_js_node_modules_vue_loader_lib_index_js_vue_loader_options_node_modules_svg_icon_inline_loader_index_js_BackLink_vue_vue_type_style_index_0_id_26953346_lang_scss_scoped_true___WEBPACK_IMPORTED_MODULE_0__).a},function(module,__webpack_exports__,__webpack_require__){"use strict";var _node_modules_mini_css_extract_plugin_dist_loader_js_node_modules_css_loader_index_js_ref_4_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_lib_index_js_ref_4_2_node_modules_sass_loader_dist_cjs_js_node_modules_vue_loader_lib_index_js_vue_loader_options_node_modules_svg_icon_inline_loader_index_js_index_vue_vue_type_style_index_0_id_b583d0ce_lang_scss_scoped_true___WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(88);__webpack_require__.n(_node_modules_mini_css_extract_plugin_dist_loader_js_node_modules_css_loader_index_js_ref_4_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_lib_index_js_ref_4_2_node_modules_sass_loader_dist_cjs_js_node_modules_vue_loader_lib_index_js_vue_loader_options_node_modules_svg_icon_inline_loader_index_js_index_vue_vue_type_style_index_0_id_b583d0ce_lang_scss_scoped_true___WEBPACK_IMPORTED_MODULE_0__).a},function(module,__webpack_exports__,__webpack_require__){"use strict";var _node_modules_mini_css_extract_plugin_dist_loader_js_node_modules_css_loader_index_js_ref_4_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_lib_index_js_ref_4_2_node_modules_sass_loader_dist_cjs_js_node_modules_vue_loader_lib_index_js_vue_loader_options_node_modules_svg_icon_inline_loader_index_js_FacilityTaskPanelDetails_vue_vue_type_style_index_0_id_6e0ca715_lang_scss_scoped_true___WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(89);__webpack_require__.n(_node_modules_mini_css_extract_plugin_dist_loader_js_node_modules_css_loader_index_js_ref_4_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_lib_index_js_ref_4_2_node_modules_sass_loader_dist_cjs_js_node_modules_vue_loader_lib_index_js_vue_loader_options_node_modules_svg_icon_inline_loader_index_js_FacilityTaskPanelDetails_vue_vue_type_style_index_0_id_6e0ca715_lang_scss_scoped_true___WEBPACK_IMPORTED_MODULE_0__).a},function(module,__webpack_exports__,__webpack_require__){"use strict";var _node_modules_mini_css_extract_plugin_dist_loader_js_node_modules_css_loader_index_js_ref_4_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_lib_index_js_ref_4_2_node_modules_sass_loader_dist_cjs_js_node_modules_vue_loader_lib_index_js_vue_loader_options_node_modules_svg_icon_inline_loader_index_js_FacilitiesTasksPage_vue_vue_type_style_index_0_id_77926426_lang_scss_scoped_true___WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(90);__webpack_require__.n(_node_modules_mini_css_extract_plugin_dist_loader_js_node_modules_css_loader_index_js_ref_4_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_lib_index_js_ref_4_2_node_modules_sass_loader_dist_cjs_js_node_modules_vue_loader_lib_index_js_vue_loader_options_node_modules_svg_icon_inline_loader_index_js_FacilitiesTasksPage_vue_vue_type_style_index_0_id_77926426_lang_scss_scoped_true___WEBPACK_IMPORTED_MODULE_0__).a},function(module,exports,__webpack_require__){var arrayMap=__webpack_require__(28),baseIteratee=__webpack_require__(16),baseMap=__webpack_require__(190),baseSortBy=__webpack_require__(367),baseUnary=__webpack_require__(48),compareMultiple=__webpack_require__(368),identity=__webpack_require__(38);module.exports=function(collection,iteratees,orders){var index=-1;iteratees=arrayMap(iteratees.length?iteratees:[identity],baseUnary(baseIteratee));var result=baseMap(collection,(function(value,key,collection){return{criteria:arrayMap(iteratees,(function(iteratee){return iteratee(value)})),index:++index,value:value}}));return baseSortBy(result,(function(object,other){return compareMultiple(object,other,orders)}))}},function(module,exports){module.exports=function(array,comparer){var length=array.length;for(array.sort(comparer);length--;)array[length]=array[length].value;return array}},function(module,exports,__webpack_require__){var compareAscending=__webpack_require__(369);module.exports=function(object,other,orders){for(var index=-1,objCriteria=object.criteria,othCriteria=other.criteria,length=objCriteria.length,ordersLength=orders.length;++index<length;){var result=compareAscending(objCriteria[index],othCriteria[index]);if(result)return index>=ordersLength?result:result*("desc"==orders[index]?-1:1)}return object.index-other.index}},function(module,exports,__webpack_require__){var isSymbol=__webpack_require__(37);module.exports=function(value,other){if(value!==other){var valIsDefined=void 0!==value,valIsNull=null===value,valIsReflexive=value==value,valIsSymbol=isSymbol(value),othIsDefined=void 0!==other,othIsNull=null===other,othIsReflexive=other==other,othIsSymbol=isSymbol(other);if(!othIsNull&&!othIsSymbol&&!valIsSymbol&&value>other||valIsSymbol&&othIsDefined&&othIsReflexive&&!othIsNull&&!othIsSymbol||valIsNull&&othIsDefined&&othIsReflexive||!valIsDefined&&othIsReflexive||!valIsReflexive)return 1;if(!valIsNull&&!valIsSymbol&&!othIsSymbol&&value<other||othIsSymbol&&valIsDefined&&valIsReflexive&&!valIsNull&&!valIsSymbol||othIsNull&&valIsDefined&&valIsReflexive||!othIsDefined&&valIsReflexive||!othIsReflexive)return-1}return 0}},function(module,__webpack_exports__,__webpack_require__){"use strict";var _node_modules_mini_css_extract_plugin_dist_loader_js_node_modules_css_loader_index_js_ref_4_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_lib_index_js_ref_4_2_node_modules_sass_loader_dist_cjs_js_node_modules_vue_loader_lib_index_js_vue_loader_options_node_modules_svg_icon_inline_loader_index_js_WithImportDetails_vue_vue_type_style_index_0_id_4f962247_lang_scss_scoped_true___WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(91);__webpack_require__.n(_node_modules_mini_css_extract_plugin_dist_loader_js_node_modules_css_loader_index_js_ref_4_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_lib_index_js_ref_4_2_node_modules_sass_loader_dist_cjs_js_node_modules_vue_loader_lib_index_js_vue_loader_options_node_modules_svg_icon_inline_loader_index_js_WithImportDetails_vue_vue_type_style_index_0_id_4f962247_lang_scss_scoped_true___WEBPACK_IMPORTED_MODULE_0__).a},function(module,__webpack_exports__,__webpack_require__){"use strict";var _node_modules_mini_css_extract_plugin_dist_loader_js_node_modules_css_loader_index_js_ref_4_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_lib_index_js_ref_4_2_node_modules_sass_loader_dist_cjs_js_node_modules_vue_loader_lib_index_js_vue_loader_options_node_modules_svg_icon_inline_loader_index_js_WithSizeAndOptions_vue_vue_type_style_index_0_id_3bf471f1_lang_scss_scoped_true___WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(92);__webpack_require__.n(_node_modules_mini_css_extract_plugin_dist_loader_js_node_modules_css_loader_index_js_ref_4_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_lib_index_js_ref_4_2_node_modules_sass_loader_dist_cjs_js_node_modules_vue_loader_lib_index_js_vue_loader_options_node_modules_svg_icon_inline_loader_index_js_WithSizeAndOptions_vue_vue_type_style_index_0_id_3bf471f1_lang_scss_scoped_true___WEBPACK_IMPORTED_MODULE_0__).a},function(module,__webpack_exports__,__webpack_require__){"use strict";var _node_modules_mini_css_extract_plugin_dist_loader_js_node_modules_css_loader_index_js_ref_4_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_lib_index_js_ref_4_2_node_modules_sass_loader_dist_cjs_js_node_modules_vue_loader_lib_index_js_vue_loader_options_node_modules_svg_icon_inline_loader_index_js_index_vue_vue_type_style_index_0_id_3fc4646e_lang_scss_scoped_true___WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(93);__webpack_require__.n(_node_modules_mini_css_extract_plugin_dist_loader_js_node_modules_css_loader_index_js_ref_4_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_lib_index_js_ref_4_2_node_modules_sass_loader_dist_cjs_js_node_modules_vue_loader_lib_index_js_vue_loader_options_node_modules_svg_icon_inline_loader_index_js_index_vue_vue_type_style_index_0_id_3fc4646e_lang_scss_scoped_true___WEBPACK_IMPORTED_MODULE_0__).a},function(module,__webpack_exports__,__webpack_require__){"use strict";var _node_modules_mini_css_extract_plugin_dist_loader_js_node_modules_css_loader_index_js_ref_4_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_lib_index_js_ref_4_2_node_modules_sass_loader_dist_cjs_js_node_modules_vue_loader_lib_index_js_vue_loader_options_node_modules_svg_icon_inline_loader_index_js_UserGrid_vue_vue_type_style_index_0_id_2284b948_lang_scss_scoped_true___WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(94);__webpack_require__.n(_node_modules_mini_css_extract_plugin_dist_loader_js_node_modules_css_loader_index_js_ref_4_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_lib_index_js_ref_4_2_node_modules_sass_loader_dist_cjs_js_node_modules_vue_loader_lib_index_js_vue_loader_options_node_modules_svg_icon_inline_loader_index_js_UserGrid_vue_vue_type_style_index_0_id_2284b948_lang_scss_scoped_true___WEBPACK_IMPORTED_MODULE_0__).a},function(module,__webpack_exports__,__webpack_require__){"use strict";var _node_modules_mini_css_extract_plugin_dist_loader_js_node_modules_css_loader_index_js_ref_4_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_lib_index_js_ref_4_2_node_modules_sass_loader_dist_cjs_js_node_modules_vue_loader_lib_index_js_vue_loader_options_node_modules_svg_icon_inline_loader_index_js_index_vue_vue_type_style_index_0_id_4ca22e74_lang_scss_scoped_true___WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(95);__webpack_require__.n(_node_modules_mini_css_extract_plugin_dist_loader_js_node_modules_css_loader_index_js_ref_4_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_lib_index_js_ref_4_2_node_modules_sass_loader_dist_cjs_js_node_modules_vue_loader_lib_index_js_vue_loader_options_node_modules_svg_icon_inline_loader_index_js_index_vue_vue_type_style_index_0_id_4ca22e74_lang_scss_scoped_true___WEBPACK_IMPORTED_MODULE_0__).a},function(module,exports,__webpack_require__){var assignValue=__webpack_require__(119),castPath=__webpack_require__(36),isIndex=__webpack_require__(47),isObject=__webpack_require__(21),toKey=__webpack_require__(31);module.exports=function(object,path,value,customizer){if(!isObject(object))return object;for(var index=-1,length=(path=castPath(path,object)).length,lastIndex=length-1,nested=object;null!=nested&&++index<length;){var key=toKey(path[index]),newValue=value;if(index!=lastIndex){var objValue=nested[key];void 0===(newValue=customizer?customizer(objValue,key,nested):void 0)&&(newValue=isObject(objValue)?objValue:isIndex(path[index+1])?[]:{})}assignValue(nested,key,newValue),nested=nested[key]}return object}},function(module,__webpack_exports__,__webpack_require__){"use strict";var _node_modules_mini_css_extract_plugin_dist_loader_js_node_modules_css_loader_index_js_ref_4_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_lib_index_js_ref_4_2_node_modules_sass_loader_dist_cjs_js_node_modules_vue_loader_lib_index_js_vue_loader_options_node_modules_svg_icon_inline_loader_index_js_NewChannelVersionPage_vue_vue_type_style_index_0_id_aa381da6_lang_scss_scoped_true___WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(96);__webpack_require__.n(_node_modules_mini_css_extract_plugin_dist_loader_js_node_modules_css_loader_index_js_ref_4_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_lib_index_js_ref_4_2_node_modules_sass_loader_dist_cjs_js_node_modules_vue_loader_lib_index_js_vue_loader_options_node_modules_svg_icon_inline_loader_index_js_NewChannelVersionPage_vue_vue_type_style_index_0_id_aa381da6_lang_scss_scoped_true___WEBPACK_IMPORTED_MODULE_0__).a},function(module,__webpack_exports__,__webpack_require__){"use strict";var _node_modules_mini_css_extract_plugin_dist_loader_js_node_modules_css_loader_index_js_ref_4_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_lib_index_js_ref_4_2_node_modules_sass_loader_dist_cjs_js_node_modules_vue_loader_lib_index_js_vue_loader_options_node_modules_svg_icon_inline_loader_index_js_RearrangeChannelsPage_vue_vue_type_style_index_0_id_3b10a46e_lang_scss_scoped_true___WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(97);__webpack_require__.n(_node_modules_mini_css_extract_plugin_dist_loader_js_node_modules_css_loader_index_js_ref_4_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_lib_index_js_ref_4_2_node_modules_sass_loader_dist_cjs_js_node_modules_vue_loader_lib_index_js_vue_loader_options_node_modules_svg_icon_inline_loader_index_js_RearrangeChannelsPage_vue_vue_type_style_index_0_id_3b10a46e_lang_scss_scoped_true___WEBPACK_IMPORTED_MODULE_0__).a},function(module,__webpack_exports__,__webpack_require__){"use strict";var _node_modules_mini_css_extract_plugin_dist_loader_js_node_modules_css_loader_index_js_ref_4_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_lib_index_js_ref_4_2_node_modules_sass_loader_dist_cjs_js_node_modules_vue_loader_lib_index_js_vue_loader_options_node_modules_svg_icon_inline_loader_index_js_index_vue_vue_type_style_index_0_id_d8e2793c_lang_scss_scoped_true___WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(98);__webpack_require__.n(_node_modules_mini_css_extract_plugin_dist_loader_js_node_modules_css_loader_index_js_ref_4_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_lib_index_js_ref_4_2_node_modules_sass_loader_dist_cjs_js_node_modules_vue_loader_lib_index_js_vue_loader_options_node_modules_svg_icon_inline_loader_index_js_index_vue_vue_type_style_index_0_id_d8e2793c_lang_scss_scoped_true___WEBPACK_IMPORTED_MODULE_0__).a},function(module,__webpack_exports__,__webpack_require__){"use strict";var _node_modules_mini_css_extract_plugin_dist_loader_js_node_modules_css_loader_index_js_ref_4_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_lib_index_js_ref_4_2_node_modules_sass_loader_dist_cjs_js_node_modules_vue_loader_lib_index_js_vue_loader_options_node_modules_svg_icon_inline_loader_index_js_index_vue_vue_type_style_index_0_id_68615b03_lang_scss_scoped_true___WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(99);__webpack_require__.n(_node_modules_mini_css_extract_plugin_dist_loader_js_node_modules_css_loader_index_js_ref_4_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_lib_index_js_ref_4_2_node_modules_sass_loader_dist_cjs_js_node_modules_vue_loader_lib_index_js_vue_loader_options_node_modules_svg_icon_inline_loader_index_js_index_vue_vue_type_style_index_0_id_68615b03_lang_scss_scoped_true___WEBPACK_IMPORTED_MODULE_0__).a},function(module,__webpack_exports__,__webpack_require__){"use strict";var _node_modules_mini_css_extract_plugin_dist_loader_js_node_modules_css_loader_index_js_ref_4_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_lib_index_js_ref_4_2_node_modules_sass_loader_dist_cjs_js_node_modules_vue_loader_lib_index_js_vue_loader_options_node_modules_svg_icon_inline_loader_index_js_TaskProgress_vue_vue_type_style_index_0_id_0b7200f8_lang_scss_scoped_true___WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(100);__webpack_require__.n(_node_modules_mini_css_extract_plugin_dist_loader_js_node_modules_css_loader_index_js_ref_4_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_lib_index_js_ref_4_2_node_modules_sass_loader_dist_cjs_js_node_modules_vue_loader_lib_index_js_vue_loader_options_node_modules_svg_icon_inline_loader_index_js_TaskProgress_vue_vue_type_style_index_0_id_0b7200f8_lang_scss_scoped_true___WEBPACK_IMPORTED_MODULE_0__).a},function(module,__webpack_exports__,__webpack_require__){"use strict";var _node_modules_mini_css_extract_plugin_dist_loader_js_node_modules_css_loader_index_js_ref_4_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_lib_index_js_ref_4_2_node_modules_sass_loader_dist_cjs_js_node_modules_vue_loader_lib_index_js_vue_loader_options_node_modules_svg_icon_inline_loader_index_js_ChannelUpdateAnnotations_vue_vue_type_style_index_0_id_6f01158a_lang_scss_scoped_true___WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(101);__webpack_require__.n(_node_modules_mini_css_extract_plugin_dist_loader_js_node_modules_css_loader_index_js_ref_4_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_lib_index_js_ref_4_2_node_modules_sass_loader_dist_cjs_js_node_modules_vue_loader_lib_index_js_vue_loader_options_node_modules_svg_icon_inline_loader_index_js_ChannelUpdateAnnotations_vue_vue_type_style_index_0_id_6f01158a_lang_scss_scoped_true___WEBPACK_IMPORTED_MODULE_0__).a},function(module,__webpack_exports__,__webpack_require__){"use strict";var _node_modules_mini_css_extract_plugin_dist_loader_js_node_modules_css_loader_index_js_ref_4_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_lib_index_js_ref_4_2_node_modules_sass_loader_dist_cjs_js_node_modules_vue_loader_lib_index_js_vue_loader_options_node_modules_svg_icon_inline_loader_index_js_NewChannelVersionBanner_vue_vue_type_style_index_0_id_be97064c_lang_scss_scoped_true___WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(102);__webpack_require__.n(_node_modules_mini_css_extract_plugin_dist_loader_js_node_modules_css_loader_index_js_ref_4_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_lib_index_js_ref_4_2_node_modules_sass_loader_dist_cjs_js_node_modules_vue_loader_lib_index_js_vue_loader_options_node_modules_svg_icon_inline_loader_index_js_NewChannelVersionBanner_vue_vue_type_style_index_0_id_be97064c_lang_scss_scoped_true___WEBPACK_IMPORTED_MODULE_0__).a},function(module,__webpack_exports__,__webpack_require__){"use strict";var _node_modules_mini_css_extract_plugin_dist_loader_js_node_modules_css_loader_index_js_ref_4_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_lib_index_js_ref_4_2_node_modules_sass_loader_dist_cjs_js_node_modules_vue_loader_lib_index_js_vue_loader_options_node_modules_svg_icon_inline_loader_index_js_ChannelContentsSummary_vue_vue_type_style_index_0_id_3781a877_lang_scss_scoped_true___WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(103);__webpack_require__.n(_node_modules_mini_css_extract_plugin_dist_loader_js_node_modules_css_loader_index_js_ref_4_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_lib_index_js_ref_4_2_node_modules_sass_loader_dist_cjs_js_node_modules_vue_loader_lib_index_js_vue_loader_options_node_modules_svg_icon_inline_loader_index_js_ChannelContentsSummary_vue_vue_type_style_index_0_id_3781a877_lang_scss_scoped_true___WEBPACK_IMPORTED_MODULE_0__).a},function(module,exports){module.exports=function(array,predicate){for(var index=-1,length=null==array?0:array.length;++index<length;)if(!predicate(array[index],index,array))return!1;return!0}},function(module,exports,__webpack_require__){var baseEach=__webpack_require__(49);module.exports=function(collection,predicate){var result=!0;return baseEach(collection,(function(value,index,collection){return result=!!predicate(value,index,collection)})),result}},function(module,__webpack_exports__,__webpack_require__){"use strict";var _node_modules_mini_css_extract_plugin_dist_loader_js_node_modules_css_loader_index_js_ref_4_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_lib_index_js_ref_4_2_node_modules_sass_loader_dist_cjs_js_node_modules_vue_loader_lib_index_js_vue_loader_options_node_modules_svg_icon_inline_loader_index_js_ContentNodeRow_vue_vue_type_style_index_0_id_2a7f5978_lang_scss_scoped_true___WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(104);__webpack_require__.n(_node_modules_mini_css_extract_plugin_dist_loader_js_node_modules_css_loader_index_js_ref_4_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_lib_index_js_ref_4_2_node_modules_sass_loader_dist_cjs_js_node_modules_vue_loader_lib_index_js_vue_loader_options_node_modules_svg_icon_inline_loader_index_js_ContentNodeRow_vue_vue_type_style_index_0_id_2a7f5978_lang_scss_scoped_true___WEBPACK_IMPORTED_MODULE_0__).a},function(module,__webpack_exports__,__webpack_require__){"use strict";var _node_modules_mini_css_extract_plugin_dist_loader_js_node_modules_css_loader_index_js_ref_4_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_lib_index_js_ref_4_2_node_modules_sass_loader_dist_cjs_js_node_modules_vue_loader_lib_index_js_vue_loader_options_node_modules_svg_icon_inline_loader_index_js_ContentTreeViewer_vue_vue_type_style_index_0_id_27230e2d_lang_scss_scoped_true___WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(105);__webpack_require__.n(_node_modules_mini_css_extract_plugin_dist_loader_js_node_modules_css_loader_index_js_ref_4_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_lib_index_js_ref_4_2_node_modules_sass_loader_dist_cjs_js_node_modules_vue_loader_lib_index_js_vue_loader_options_node_modules_svg_icon_inline_loader_index_js_ContentTreeViewer_vue_vue_type_style_index_0_id_27230e2d_lang_scss_scoped_true___WEBPACK_IMPORTED_MODULE_0__).a},function(module,__webpack_exports__,__webpack_require__){"use strict";var _node_modules_mini_css_extract_plugin_dist_loader_js_node_modules_css_loader_index_js_ref_4_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_lib_index_js_ref_4_2_node_modules_sass_loader_dist_cjs_js_node_modules_vue_loader_lib_index_js_vue_loader_options_node_modules_svg_icon_inline_loader_index_js_index_vue_vue_type_style_index_0_id_6ad7e8b3_lang_scss_scoped_true___WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(106);__webpack_require__.n(_node_modules_mini_css_extract_plugin_dist_loader_js_node_modules_css_loader_index_js_ref_4_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_lib_index_js_ref_4_2_node_modules_sass_loader_dist_cjs_js_node_modules_vue_loader_lib_index_js_vue_loader_options_node_modules_svg_icon_inline_loader_index_js_index_vue_vue_type_style_index_0_id_6ad7e8b3_lang_scss_scoped_true___WEBPACK_IMPORTED_MODULE_0__).a},function(module,__webpack_exports__,__webpack_require__){"use strict";var _node_modules_mini_css_extract_plugin_dist_loader_js_node_modules_css_loader_index_js_ref_4_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_lib_index_js_ref_4_2_node_modules_sass_loader_dist_cjs_js_node_modules_vue_loader_lib_index_js_vue_loader_options_node_modules_svg_icon_inline_loader_index_js_index_vue_vue_type_style_index_0_id_f62f0338_lang_scss_scoped_true___WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(107);__webpack_require__.n(_node_modules_mini_css_extract_plugin_dist_loader_js_node_modules_css_loader_index_js_ref_4_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_lib_index_js_ref_4_2_node_modules_sass_loader_dist_cjs_js_node_modules_vue_loader_lib_index_js_vue_loader_options_node_modules_svg_icon_inline_loader_index_js_index_vue_vue_type_style_index_0_id_f62f0338_lang_scss_scoped_true___WEBPACK_IMPORTED_MODULE_0__).a},function(module,exports,__webpack_require__){var basePick=__webpack_require__(391),pick=__webpack_require__(131)((function(object,paths){return null==object?{}:basePick(object,paths)}));module.exports=pick},function(module,exports,__webpack_require__){var basePickBy=__webpack_require__(191),hasIn=__webpack_require__(174);module.exports=function(object,paths){return basePickBy(object,paths,(function(value,path){return hasIn(object,path)}))}},function(module,exports,__webpack_require__){var identity=__webpack_require__(38);module.exports=function(value){return"function"==typeof value?value:identity}},function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__);var selectContentActions_namespaceObject={};__webpack_require__.r(selectContentActions_namespaceObject),__webpack_require__.d(selectContentActions_namespaceObject,"loadChannelMetadata",(function(){return loadChannelMetadata})),__webpack_require__.d(selectContentActions_namespaceObject,"getAvailableSpaceOnDrive",(function(){return getAvailableSpaceOnDrive}));var availableChannelsActions_namespaceObject={};__webpack_require__.r(availableChannelsActions_namespaceObject),__webpack_require__.d(availableChannelsActions_namespaceObject,"getAllRemoteChannels",(function(){return getAllRemoteChannels})),__webpack_require__.d(availableChannelsActions_namespaceObject,"getAllDriveChannels",(function(){return getAllDriveChannels})),__webpack_require__.d(availableChannelsActions_namespaceObject,"fetchUnlistedChannelInfo",(function(){return fetchUnlistedChannelInfo}));var contentTreeViewerActions_namespaceObject={};__webpack_require__.r(contentTreeViewerActions_namespaceObject),__webpack_require__.d(contentTreeViewerActions_namespaceObject,"addNodeForTransfer",(function(){return addNodeForTransfer})),__webpack_require__.d(contentTreeViewerActions_namespaceObject,"removeNodeForTransfer",(function(){return removeNodeForTransfer}));var contentWizardActions_namespaceObject={};__webpack_require__.r(contentWizardActions_namespaceObject),__webpack_require__.d(contentWizardActions_namespaceObject,"goForwardFromSelectImportSourceModal",(function(){return goForwardFromSelectImportSourceModal})),__webpack_require__.d(contentWizardActions_namespaceObject,"goForwardFromSelectDriveModal",(function(){return goForwardFromSelectDriveModal}));var getters_namespaceObject={};__webpack_require__.r(getters_namespaceObject),__webpack_require__.d(getters_namespaceObject,"cachedTopicPath",(function(){return cachedTopicPath})),__webpack_require__.d(getters_namespaceObject,"getDriveById",(function(){return getDriveById})),__webpack_require__.d(getters_namespaceObject,"inExportMode",(function(){return inExportMode})),__webpack_require__.d(getters_namespaceObject,"inLocalImportMode",(function(){return inLocalImportMode})),__webpack_require__.d(getters_namespaceObject,"inRemoteImportMode",(function(){return inRemoteImportMode})),__webpack_require__.d(getters_namespaceObject,"inPeerImportMode",(function(){return inPeerImportMode})),__webpack_require__.d(getters_namespaceObject,"isStudioApplication",(function(){return isStudioApplication})),__webpack_require__.d(getters_namespaceObject,"driveCanBeUsedForTransfer",(function(){return driveCanBeUsedForTransfer})),__webpack_require__.d(getters_namespaceObject,"isImportingMore",(function(){return getters_isImportingMore}));var userPermissions_actions_namespaceObject={};__webpack_require__.r(userPermissions_actions_namespaceObject),__webpack_require__.d(userPermissions_actions_namespaceObject,"addOrUpdateUserPermissions",(function(){return addOrUpdateUserPermissions}));var external_kolibriCoreAppGlobal_coreVue_router_=__webpack_require__(12),external_kolibriCoreAppGlobal_coreVue_router_default=__webpack_require__.n(external_kolibriCoreAppGlobal_coreVue_router_),omit=__webpack_require__(22),omit_default=__webpack_require__.n(omit),external_kolibriCoreAppGlobal_lib_vuex_=__webpack_require__(3),external_kolibriCoreAppGlobal_coreVue_components_CoreBase_=__webpack_require__(192),external_kolibriCoreAppGlobal_coreVue_components_CoreBase_default=__webpack_require__.n(external_kolibriCoreAppGlobal_coreVue_components_CoreBase_),constants=__webpack_require__(0),external_kolibriCoreAppGlobal_coreVue_components_Navbar_=__webpack_require__(193),external_kolibriCoreAppGlobal_coreVue_components_Navbar_default=__webpack_require__.n(external_kolibriCoreAppGlobal_coreVue_components_Navbar_),external_kolibriCoreAppGlobal_coreVue_components_NavbarLink_=__webpack_require__(194),external_kolibriCoreAppGlobal_coreVue_components_NavbarLink_default=__webpack_require__.n(external_kolibriCoreAppGlobal_coreVue_components_NavbarLink_),external_kolibriCoreAppGlobal_coreVue_mixins_commonCoreStrings_=__webpack_require__(2),external_kolibriCoreAppGlobal_coreVue_mixins_commonCoreStrings_default=__webpack_require__.n(external_kolibriCoreAppGlobal_coreVue_mixins_commonCoreStrings_);function normalizeComponent(scriptExports,render,staticRenderFns,functionalTemplate,injectStyles,scopeId,moduleIdentifier,shadowMode){var hook,options="function"==typeof scriptExports?scriptExports.options:scriptExports;if(render&&(options.render=render,options.staticRenderFns=staticRenderFns,options._compiled=!0),functionalTemplate&&(options.functional=!0),scopeId&&(options._scopeId="data-v-"+scopeId),moduleIdentifier?(hook=function(context){(context=context||this.$vnode&&this.$vnode.ssrContext||this.parent&&this.parent.$vnode&&this.parent.$vnode.ssrContext)||"undefined"==typeof __VUE_SSR_CONTEXT__||(context=__VUE_SSR_CONTEXT__),injectStyles&&injectStyles.call(this,context),context&&context._registeredComponents&&context._registeredComponents.add(moduleIdentifier)},options._ssrRegister=hook):injectStyles&&(hook=shadowMode?function(){injectStyles.call(this,(options.functional?this.parent:this).$root.$options.shadowRoot)}:injectStyles),hook)if(options.functional){options._injectStyles=hook;var originalRender=options.render;options.render=function(h,context){return hook.call(context),originalRender(h,context)}}else{var existing=options.beforeCreate;options.beforeCreate=existing?[].concat(existing,hook):[hook]}return{exports:scriptExports,options:options}}var DeviceTopNav=normalizeComponent({name:"DeviceTopNav",components:{Navbar:external_kolibriCoreAppGlobal_coreVue_components_Navbar_default.a,NavbarLink:external_kolibriCoreAppGlobal_coreVue_components_NavbarLink_default.a},mixins:[external_kolibriCoreAppGlobal_coreVue_mixins_commonCoreStrings_default.a],computed:Object.assign({},Object(external_kolibriCoreAppGlobal_lib_vuex_.mapGetters)(["canManageContent","isSuperuser"])),$trs:{permissionsLabel:"Permissions",infoLabel:"Info",settingsLabel:"Settings"}},(function(){var _vm=this,_h=_vm.$createElement,_c=_vm._self._c||_h;return _c("Navbar",[_vm.canManageContent?_c("NavbarLink",{attrs:{title:_vm.coreString("channelsLabel"),link:_vm.$router.getRoute("MANAGE_CONTENT_PAGE")}},[_c("KIcon",{staticStyle:{top:"0",width:"24px",height:"24px"},attrs:{icon:"channel",color:_vm.$themeTokens.textInverted}})],1):_vm._e(),_vm.isSuperuser?_c("NavbarLink",{attrs:{title:_vm.$tr("permissionsLabel"),link:_vm.$router.getRoute("MANAGE_PERMISSIONS_PAGE")}},[_c("KIcon",{staticStyle:{top:"0",width:"24px",height:"24px"},attrs:{icon:"permissions",color:_vm.$themeTokens.textInverted}})],1):_vm._e(),_vm.isSuperuser?_c("NavbarLink",{attrs:{title:_vm.coreString("facilitiesLabel"),link:_vm.$router.getRoute("FACILITIES_PAGE")}},[_c("KIcon",{staticStyle:{top:"0",width:"24px",height:"24px"},attrs:{icon:"facility",color:_vm.$themeTokens.textInverted}})],1):_vm._e(),_c("NavbarLink",{attrs:{title:_vm.$tr("infoLabel"),link:_vm.$router.getRoute("DEVICE_INFO_PAGE")}},[_c("KIcon",{staticStyle:{top:"0",width:"24px",height:"24px"},attrs:{icon:"deviceInfo",color:_vm.$themeTokens.textInverted}})],1),_c("NavbarLink",{attrs:{title:_vm.$tr("settingsLabel"),link:_vm.$router.getRoute("DEVICE_SETTINGS_PAGE")}},[_c("KIcon",{staticStyle:{top:"0",width:"24px",height:"24px"},attrs:{icon:"settings",color:_vm.$themeTokens.textInverted}})],1)],1)}),[],!1,null,"1d2d21ca",null).exports,external_kolibriCoreAppGlobal_coreVue_mixins_commonSyncElements_=__webpack_require__(18),external_kolibriCoreAppGlobal_coreVue_mixins_commonSyncElements_default=__webpack_require__.n(external_kolibriCoreAppGlobal_coreVue_mixins_commonSyncElements_),external_kolibriCoreAppGlobal_coreVue_componentSets_sync_=__webpack_require__(13);function selectContentTopicLink(topicNode,query,channelId){return{name:constants.d.SELECT_CONTENT,params:{node:topicNode,scrollTo:".content-tree-viewer"},query:Object.assign({},query,{node_id:channelId===topicNode.id?void 0:topicNode.id})}}function availableChannelsPageLink(params){void 0===params&&(params={});var driveId=params.driveId,addressId=params.addressId;return{name:constants.d.AVAILABLE_CHANNELS,query:{drive_id:driveId,address_id:addressId}}}function selectContentPageLink(params){void 0===params&&(params={});var channelId=params.channelId,driveId=params.driveId,addressId=params.addressId;return{name:constants.d.SELECT_CONTENT,params:{channel_id:channelId},query:{drive_id:driveId,address_id:addressId}}}function manageContentPageLink(){return{name:constants.g.MANAGE_CONTENT_PAGE}}var views_WelcomeModalvue_type_script_lang_js_={name:"WelcomeModal",mixins:[external_kolibriCoreAppGlobal_coreVue_mixins_commonCoreStrings_default.a],props:{importedFacility:{type:Object,required:!1}},computed:{paragraphs:function(){return this.importedFacility?[this.$tr("postSyncWelcomeMessage1"),this.$tr("postSyncWelcomeMessage2",{facilityName:this.importedFacility.name})]:[this.$tr("welcomeModalContentDescription"),this.$tr("welcomeModalPermissionsDescription")]}},render:function(createElement){return window.setTimeout(createElement,750)},$trs:{welcomeModalHeader:"Welcome to Kolibri!",welcomeModalContentDescription:"The first thing you should do is import some resources from the Channels tab.",welcomeModalPermissionsDescription:"The super admin account you created during setup has special permissions to do this. Learn more in the Permissions tab later.",postSyncWelcomeMessage1:"The first thing you should do is import some channels to this device.",postSyncWelcomeMessage2:"The learner reports, lessons, and quizzes in '{facilityName}' will not display properly until you import the resources associated with them."}},WelcomeModal=(__webpack_require__(290),normalizeComponent(views_WelcomeModalvue_type_script_lang_js_,(function(){var _vm=this,_h=_vm.$createElement,_c=_vm._self._c||_h;return _c("KModal",{attrs:{title:_vm.$tr("welcomeModalHeader"),submitText:_vm.coreString("continueAction")},on:{submit:function($event){return _vm.$emit("submit")}}},_vm._l(_vm.paragraphs,(function(paragraph,idx){return _c("p",{key:idx,staticClass:"paragraph"},[_vm._v("\n    "+_vm._s(paragraph)+"\n  ")])})),0)}),[],!1,null,"bbcaecca",null).exports),views_PermissionsChangeModalvue_type_script_lang_js_={name:"PermissionsChangeModal",mixins:[external_kolibriCoreAppGlobal_coreVue_mixins_commonCoreStrings_default.a],props:{newRole:{type:String,required:!0}},computed:{paragraphs:function(){return"superadmin"===this.newRole?[this.$tr("superAdminMessage1"),this.$tr("superAdminMessage2")]:[this.$tr("manageContentMessage1")]}},render:function(createElement){return window.setTimeout(createElement,750)},$trs:{header:{message:"Your permissions have changed",context:"Modal window title"},superAdminMessage1:"Your role has been changed to Super Admin.",superAdminMessage2:"You can now manage channels and the permissions of other users. Learn more in the Permissions tab.",manageContentMessage1:"You have been given permissions to manage content on this device."}},PermissionsChangeModal=(__webpack_require__(291),normalizeComponent(views_PermissionsChangeModalvue_type_script_lang_js_,(function(){var _vm=this,_h=_vm.$createElement,_c=_vm._self._c||_h;return _c("KModal",{attrs:{title:_vm.$tr("header"),submitText:_vm.coreString("continueAction")},on:{submit:function($event){return _vm.$emit("submit")}}},_vm._l(_vm.paragraphs,(function(paragraph,idx){return _c("p",{key:idx,staticClass:"paragraph"},[_vm._v("\n    "+_vm._s(paragraph)+"\n  ")])})),0)}),[],!1,null,"d8cbd6ac",null).exports),Steps=Object.freeze({WELCOME:"WELCOME",PERMISSIONS_CHANGE:"PERMISSIONS_CHANGE",SELECT_SOURCE_FACILITY_PEER:"SELECT_SOURCE_FACILITY_PEER",SELECT_SOURCE_NORMAL:"SELECT_SOURCE_NORMAL"}),PostSetupModalGroup=normalizeComponent({name:"PostSetupModalGroup",components:{PermissionsChangeModal:PermissionsChangeModal,WelcomeModal:WelcomeModal,SelectAddressForm:external_kolibriCoreAppGlobal_coreVue_componentSets_sync_.SelectAddressForm},mixins:[external_kolibriCoreAppGlobal_coreVue_mixins_commonSyncElements_default.a],props:{},data:function(){return{step:Steps.WELCOME,Steps:Steps}},computed:{importedFacility:function(){var facility=this.$store.state.core.facilities[0];return facility&&null!==facility.last_synced?facility:null}},methods:{startNormalImportWorkflow:function(){this.$emit("cancel"),this.$store.dispatch("manageContent/startImportWorkflow")},handleSubmit:function(data){if(this.step===Steps.WELCOME)this.importedFacility?this.step=Steps.SELECT_SOURCE_FACILITY_PEER:this.$emit("cancel");else if(this.step===Steps.SELECT_SOURCE_FACILITY_PEER){this.$emit("cancel");var newRoute=availableChannelsPageLink({addressId:data.id});newRoute.query.setup=!0,this.$router.push(newRoute)}}},$trs:{chooseAnotherSourceLabel:{message:"Choose another source",context:"Button that opens the modal to choose source for content import workflow from Studio or an attached local drive"}}},(function(){var _vm=this,_h=_vm.$createElement,_c=_vm._self._c||_h;return _c("div",[_vm.step===_vm.Steps.WELCOME?_c("WelcomeModal",{attrs:{importedFacility:_vm.importedFacility},on:{submit:_vm.handleSubmit}}):_vm._e(),_vm.step===_vm.Steps.PERMISSIONS_CHANGE?_c("PermissionsChangeModal",{attrs:{newRole:"superadmin"}}):_vm.step===_vm.Steps.SELECT_SOURCE_FACILITY_PEER?_c("SelectAddressForm",{attrs:{title:_vm.getCommonSyncString("selectSourceTitle"),hideSavedAddresses:""},on:{submit:_vm.handleSubmit,cancel:function($event){return _vm.$emit("cancel")}},scopedSlots:_vm._u([{key:"underbuttons",fn:function(){return[_c("KButton",{attrs:{text:_vm.$tr("chooseAnotherSourceLabel"),appearance:"basic-link"},on:{click:_vm.startNormalImportWorkflow}})]},proxy:!0}])}):_vm._e()],1)}),[],!1,null,"3fe5ca28",null).exports,views_DeviceIndexvue_type_script_lang_js_={name:"DeviceIndex",components:{CoreBase:external_kolibriCoreAppGlobal_coreVue_components_CoreBase_default.a,PostSetupModalGroup:PostSetupModalGroup,DeviceTopNav:DeviceTopNav},computed:Object.assign({},Object(external_kolibriCoreAppGlobal_lib_vuex_.mapGetters)(["canManageContent","isSuperuser"]),Object(external_kolibriCoreAppGlobal_lib_vuex_.mapState)({welcomeModalVisibleState:"welcomeModalVisible"}),Object(external_kolibriCoreAppGlobal_lib_vuex_.mapState)("coreBase",["appBarTitle"]),{welcomeModalVisible:function(){return this.welcomeModalVisibleState&&!window.sessionStorage.getItem("DEVICE_WELCOME_MODAL_DISMISSED")},pageName:function(){return this.$route.name},containerStyles:function(){return this.$route.name===constants.g.DEVICE_SETTINGS_PAGE?{overflowX:"inherit"}:{}},currentPageAppBarTitle:function(){return this.pageName===constants.g.USER_PERMISSIONS_PAGE?this.$tr("permissionsLabel"):this.appBarTitle||this.$tr("deviceManagementTitle")},inMultipleImportPage:function(){return"AVAILABLE_CHANNELS"===this.pageName&&this.$route.query.multiple},immersivePageRoute:function(){return this.$route.query.last?{name:this.$route.query.last,query:omit_default()(this.$route.query,["last"])}:this.pageName===constants.g.MANAGE_TASKS?this.$route.params.lastRoute||{name:constants.g.MANAGE_CONTENT_PAGE}:this.pageName===constants.g.MANAGE_CHANNEL?{name:constants.g.MANAGE_CONTENT_PAGE}:this.inContentManagementPage?this.inMultipleImportPage?{query:omit_default()(this.$route.query,["multiple"])}:this.pageName===constants.d.SELECT_CONTENT?{name:constants.d.AVAILABLE_CHANNELS,query:this.$store.state.coreBase.query}:{name:constants.g.MANAGE_CONTENT_PAGE}:this.pageName===constants.g.USER_PERMISSIONS_PAGE?this.isSuperuser?{name:constants.g.MANAGE_PERMISSIONS_PAGE}:{name:constants.g.MANAGE_CONTENT_PAGE}:{}},immersivePagePrimary:function(){return this.pageName!==constants.g.MANAGE_TASKS&&this.inContentManagementPage},immersivePageIcon:function(){return this.pageName===constants.g.USER_PERMISSIONS_PAGE||this.pageName===constants.d.SELECT_CONTENT||this.inMultipleImportPage||this.pageName===constants.g.NEW_CHANNEL_VERSION_PAGE?"back":"close"},currentPageIsImmersive:function(){return this.pageName!=constants.g.MANAGE_CONTENT_PAGE&&this.pageName!==constants.g.MANAGE_TASKS&&(this.inContentManagementPage||[constants.g.USER_PERMISSIONS_PAGE].includes(this.pageName))},inContentManagementPage:function(){return this.$route.path.includes("/content")}}),watch:{inContentManagementPage:function(val){return val?this.startTaskPolling():this.stopTaskPolling()},currentPageIsImmersive:function(val){val||this.$store.commit("coreBase/SET_APP_BAR_TITLE","")}},mounted:function(){this.inContentManagementPage&&this.startTaskPolling()},destroyed:function(){this.stopTaskPolling()},methods:Object.assign({},Object(external_kolibriCoreAppGlobal_lib_vuex_.mapActions)("manageContent",["refreshTaskList"]),{hideWelcomeModal:function(){window.sessionStorage.setItem("DEVICE_WELCOME_MODAL_DISMISSED",!0),this.$store.commit("SET_WELCOME_MODAL_VISIBLE",!1)},startTaskPolling:function(){!this.intervalId&&this.canManageContent&&(this.intervalId=setInterval(this.refreshTaskList,1e3))},stopTaskPolling:function(){this.intervalId&&(this.intervalId=clearInterval(this.intervalId))}}),$trs:{deviceManagementTitle:"Device",permissionsLabel:"Permissions"}},DeviceIndex=(__webpack_require__(292),normalizeComponent(views_DeviceIndexvue_type_script_lang_js_,(function(){var _vm=this,_h=_vm.$createElement,_c=_vm._self._c||_h;return _c("CoreBase",{attrs:{appBarTitle:_vm.currentPageAppBarTitle,immersivePage:_vm.currentPageIsImmersive,immersivePagePrimary:_vm.immersivePagePrimary,immersivePageRoute:_vm.immersivePageRoute,immersivePageIcon:_vm.immersivePageIcon,toolbarTitle:_vm.currentPageAppBarTitle,showSubNav:_vm.canManageContent&&!_vm.currentPageIsImmersive}},[_c("DeviceTopNav",{attrs:{slot:"sub-nav"},slot:"sub-nav"}),_c("transition",{attrs:{name:"delay-entry"}},[_vm.welcomeModalVisible?_c("PostSetupModalGroup",{on:{cancel:_vm.hideWelcomeModal}}):_vm._e()],1),_c("KPageContainer",{style:_vm.containerStyles},[_c("router-view")],1)],1)}),[],!1,null,"60b58f57",null).exports),external_kolibriCoreAppGlobal_coreVue_vuex_store_=__webpack_require__(5),external_kolibriCoreAppGlobal_coreVue_vuex_store_default=__webpack_require__.n(external_kolibriCoreAppGlobal_coreVue_vuex_store_),external_kolibriCoreAppGlobal_client_=__webpack_require__(15),external_kolibriCoreAppGlobal_client_default=__webpack_require__.n(external_kolibriCoreAppGlobal_client_),external_kolibriCoreAppGlobal_urls_=__webpack_require__(11),external_kolibriCoreAppGlobal_urls_default=__webpack_require__.n(external_kolibriCoreAppGlobal_urls_),external_kolibriCoreAppGlobal_utils_samePageCheckGenerator_=__webpack_require__(25),external_kolibriCoreAppGlobal_utils_samePageCheckGenerator_default=__webpack_require__.n(external_kolibriCoreAppGlobal_utils_samePageCheckGenerator_),external_kolibriCoreAppGlobal_lib_conditionalPromise_=__webpack_require__(40),external_kolibriCoreAppGlobal_lib_conditionalPromise_default=__webpack_require__.n(external_kolibriCoreAppGlobal_lib_conditionalPromise_),external_kolibriCoreAppGlobal_utils_bytesForHumans_=__webpack_require__(9),external_kolibriCoreAppGlobal_utils_bytesForHumans_default=__webpack_require__.n(external_kolibriCoreAppGlobal_utils_bytesForHumans_),external_kolibriCoreAppGlobal_utils_browserInfo_=__webpack_require__(195);function getDeviceInfo(){var requests=[external_kolibriCoreAppGlobal_client_default()({url:external_kolibriCoreAppGlobal_urls_default.a["kolibri:core:deviceinfo"]()}),external_kolibriCoreAppGlobal_client_default()({url:external_kolibriCoreAppGlobal_urls_default.a["kolibri:core:devicename"]()})];return Promise.all(requests).then((function(ref){var infoResponse=ref[0],nameResponse=ref[1],data=infoResponse.data;data.server_time=new Date(data.server_time),data.free_space=data.content_storage_free_space,data.content_storage_free_space=external_kolibriCoreAppGlobal_utils_bytesForHumans_default()(data.content_storage_free_space),data.device_name=nameResponse.data.name;var server=infoResponse.headers.server;return server.includes("0.0.0.0")?external_kolibriCoreAppGlobal_utils_browserInfo_.isEmbeddedWebView?data.server_type="Kolibri app server":data.server_type="Kolibri internal server":data.server_type=server,data}))}var external_kolibriCoreAppGlobal_resources_=__webpack_require__(1),groupBy=__webpack_require__(196),groupBy_default=__webpack_require__.n(groupBy),mapValues=__webpack_require__(197),mapValues_default=__webpack_require__.n(mapValues),head=__webpack_require__(198),head_default=__webpack_require__.n(head);var external_kolibriCoreAppGlobal_utils_i18n_=__webpack_require__(8),translator=Object(external_kolibriCoreAppGlobal_utils_i18n_.createTranslator)("UserPermissionToolbarTitles",{loading:"Loading user permissions…",goBackTitle:"Go Back",invalidUserTitle:"Invalid user ID"});function fetchUserPermissions(userId){var permissionsPromise=external_kolibriCoreAppGlobal_resources_.DevicePermissionsResource.fetchModel({id:userId,force:!0}),userPromise=external_kolibriCoreAppGlobal_resources_.FacilityUserResource.fetchModel({id:userId});return permissionsPromise.then((function(permissions){return userPromise.then((function(user){return{permissions:permissions,user:user}}))})).catch((function(error){if(404===error.response.status)return userPromise.then((function(user){return{permissions:{is_superuser:!1,can_manage_content:!1},user:user}}))}))}var find=__webpack_require__(4),find_default=__webpack_require__.n(find),external_kolibriCoreAppGlobal_coreVue_mixins_responsiveWindowMixin_=__webpack_require__(6),external_kolibriCoreAppGlobal_coreVue_mixins_responsiveWindowMixin_default=__webpack_require__.n(external_kolibriCoreAppGlobal_coreVue_mixins_responsiveWindowMixin_),external_kolibriCoreAppGlobal_lib_apiResource_=__webpack_require__(44),deviceChannel=new external_kolibriCoreAppGlobal_lib_apiResource_.Resource({name:"device_channel",namespace:"kolibri.plugins.device"}),TaskSnackbarStrings=Object(external_kolibriCoreAppGlobal_utils_i18n_.createTranslator)("TaskSnackbarStrings",{taskStarted:"Task started…",taskFailed:"Task could not be started",taskFinished:"Task has finished",viewTasksAction:"View tasks",clearTaskAction:"Clear task"}),taskNotificationMixin={data:function(){return{showSnackbarWhenTaskHasFinished:!0}},computed:{watchedTaskId:function(){return this.$store.state.manageContent.watchedTaskId},watchedTaskHasFinished:function(){return this.$store.getters["manageContent/taskFinished"](this.watchedTaskId)}},watch:{watchedTaskHasFinished:function(val){val&&val===this.watchedTaskId&&(this.showSnackbarWhenTaskHasFinished&&this.createTaskFinishedSnackbar(),"function"==typeof this.onWatchedTaskFinished&&this.onWatchedTaskFinished())}},methods:{notifyAndWatchTask:function(taskResponse){this.startWatchingTask(taskResponse),this.createTaskStartedSnackbar(),this.$router.push({name:constants.g.MANAGE_TASKS})},createTaskFailedSnackbar:function(){this.$store.dispatch("createSnackbar",TaskSnackbarStrings.$tr("taskFailed"))},createTaskFinishedSnackbar:function(){this.$store.commit("CORE_CREATE_SNACKBAR",{text:TaskSnackbarStrings.$tr("taskFinished"),autoDismiss:!0})},createTaskStartedSnackbar:function(){this.$store.commit("CORE_CREATE_SNACKBAR",{text:TaskSnackbarStrings.$tr("taskStarted"),autoDismiss:!0})},startWatchingTask:function(taskResponse){Array.isArray(taskResponse.data)?this.$store.commit("manageContent/SET_WATCHED_TASK_ID",taskResponse.data[0].id):this.$store.commit("manageContent/SET_WATCHED_TASK_ID",taskResponse.data.id)}}},sumBy=__webpack_require__(23),sumBy_default=__webpack_require__.n(sumBy),external_kolibriCoreAppGlobal_coreVue_components_BottomAppBar_=__webpack_require__(108),external_kolibriCoreAppGlobal_coreVue_components_BottomAppBar_default=__webpack_require__.n(external_kolibriCoreAppGlobal_coreVue_components_BottomAppBar_),ManageContentPage_SelectionBottomBarvue_type_script_lang_js_={name:"SelectionBottomBar",components:{BottomAppBar:external_kolibriCoreAppGlobal_coreVue_components_BottomAppBar_default.a},mixins:[external_kolibriCoreAppGlobal_coreVue_mixins_commonCoreStrings_default.a,external_kolibriCoreAppGlobal_coreVue_mixins_responsiveWindowMixin_default.a],props:{selectedObjects:{type:Array,default:function(){return[]}},resourceCounts:{type:Object,required:!1,validator:function(value){return"number"==typeof value.count&&"number"==typeof value.fileSize}},objectType:{type:String,validator:function(value){return"channel"===value||"resource"===value}},actionType:{type:String,validator:function(value){return"import"===value||"export"===value||"delete"===value||"manage"===value}}},computed:{confirmButtonLabel:function(){return{import:this.$tr("importAction"),export:this.$tr("exportAction"),delete:this.$tr("deleteAction")}[this.actionType]},buttonsDisabled:function(){return"resource"===this.objectType?0===this.resourceCounts.count:0===this.selectedObjects},selectedObjectsFileSize:function(){return"channel"!==this.objectType||"export"!==this.actionType&&"delete"!==this.actionType?"channel"===this.objectType&&"import"===this.actionType?sumBy_default()(this.selectedObjects,"total_file_size"):0:sumBy_default()(this.selectedObjects,"on_device_file_size")},bytesText:function(){return 0===this.selectedObjects.length?"":external_kolibriCoreAppGlobal_utils_bytesForHumans_default()(this.selectedObjectsFileSize)},selectedMessage:function(){if("channel"===this.objectType){var count=this.selectedObjects.length;return 0===count?this.$tr("channelsSelectedNoFileSize",{count:0}):this.selectedObjectsFileSize?this.$tr("channelsSelectedWithFileSize",{count:count,bytesText:this.bytesText}):this.$tr("channelsSelectedNoFileSize",{count:count})}var ref=this.resourceCounts,count$1=ref.count,fileSize=ref.fileSize;return 0===count$1?this.$tr("zeroResourcesSelected"):this.$tr("someResourcesSelected",{bytesText:external_kolibriCoreAppGlobal_utils_bytesForHumans_default()(fileSize),count:count$1})}},watch:{selectedObjectsFileSize:function(value){this.$emit("update:fileSize",value)}},$trs:{importAction:"Import",exportAction:"Export",deleteAction:"Delete",channelsSelectedNoFileSize:"{count, number} {count, plural, one {channel} other {channels}} selected",channelsSelectedWithFileSize:"{count} {count, plural, one {channel} other {channels}} selected ({bytesText})",zeroResourcesSelected:"0 resources selected",someResourcesSelected:"{count} {count, plural, one {resource} other {resources}} selected ({bytesText})"}},SelectionBottomBar=(__webpack_require__(318),normalizeComponent(ManageContentPage_SelectionBottomBarvue_type_script_lang_js_,(function(){var _vm=this,_h=_vm.$createElement,_c=_vm._self._c||_h;return _c("BottomAppBar",["manage"===_vm.actionType?[_c("KButtonGroup",[_c("span",{staticClass:"message"},[_vm._v(_vm._s(_vm.selectedMessage))]),_c("KButton",{attrs:{disabled:_vm.$attrs.disabled||_vm.buttonsDisabled,text:_vm.coreString("deleteAction"),primary:!1},on:{click:function($event){return _vm.$emit("selectoption","DELETE")}}}),_c("KButton",{attrs:{disabled:_vm.$attrs.disabled||_vm.buttonsDisabled,text:_vm.$tr("exportAction"),primary:!0},on:{click:function($event){return _vm.$emit("selectoption","EXPORT")}}})],1)]:[_c("span",{staticClass:"message"},[_vm._v(_vm._s(_vm.selectedMessage))]),_c("KButton",{attrs:{disabled:_vm.$attrs.disabled||_vm.buttonsDisabled,text:_vm.confirmButtonLabel,primary:!0},on:{click:function($event){return _vm.$emit("clickconfirm")}}})]],2)}),[],!1,null,"c1eabaa4",null).exports),DeleteChannelModal=normalizeComponent({name:"DeleteChannelModal",mixins:[external_kolibriCoreAppGlobal_coreVue_mixins_commonCoreStrings_default.a],props:{channelTitle:{type:String,required:!1},numberOfChannels:{type:Number,default:1}},computed:{title:function(){return 1===this.numberOfChannels?this.$tr("titleSingleChannel"):this.$tr("titleMultipleChannels")}},$trs:{confirmationQuestion:"Are you sure you want to delete '{channelTitle}' from your device?",confirmationQuestionOneChannel:"Are you sure you want to delete this channel from your device?",confirmationQuestionMultipleChannels:{message:"Are you sure you want to delete these channels from your device?",context:"\nA confirmation that appears when a user tries to delete multiple channels"},titleSingleChannel:"Delete channel",titleMultipleChannels:"Delete channels"}},(function(){var _vm=this,_h=_vm.$createElement,_c=_vm._self._c||_h;return _c("KModal",{attrs:{title:_vm.title,submitText:_vm.coreString("deleteAction"),cancelText:_vm.coreString("cancelAction")},on:{submit:function($event){return _vm.$emit("submit")},cancel:function($event){return _vm.$emit("cancel")}}},[_vm.channelTitle?_c("p",[_vm._v("\n    "+_vm._s(_vm.$tr("confirmationQuestion",{channelTitle:_vm.channelTitle}))+"\n  ")]):1===_vm.numberOfChannels?_c("p",[_vm._v("\n    "+_vm._s(_vm.$tr("confirmationQuestionOneChannel"))+"\n  ")]):_c("p",[_vm._v("\n    "+_vm._s(_vm.$tr("confirmationQuestionMultipleChannels"))+"\n  ")])])}),[],!1,null,"58eba82c",null).exports,external_kolibriCoreAppGlobal_coreVue_components_UiAlert_=__webpack_require__(19),external_kolibriCoreAppGlobal_coreVue_components_UiAlert_default=__webpack_require__.n(external_kolibriCoreAppGlobal_coreVue_components_UiAlert_),SelectTransferSourceModal_DriveListvue_type_script_lang_js_={name:"DriveList",components:{UiAlert:external_kolibriCoreAppGlobal_coreVue_components_UiAlert_default.a},props:{drives:{type:Array,required:!0},mode:{type:String,required:!0},value:{type:String,required:!0}},data:function(){return{selectedDrive:""}},computed:{noDrivesText:function(){return"IMPORT"===this.mode?this.$tr("noImportableDrives"):"IMPORT_MORE"===this.mode?this.$tr("noDriveWithSelectedChannelError"):this.$tr("noExportableDrives")}},mounted:function(){this.selectedDrive=this.value},methods:{enabledDriveLabel:function(drive){var driveLabel=drive.name;return this.enabledMsg&&(driveLabel+=" ("+this.enabledMsg(drive)+")"),driveLabel}},$trs:{drivesFound:"Drives found",noImportableDrives:"No drives with Kolibri resources are connected to the server",noDriveWithSelectedChannelError:"No drives with the selected channel are connected to the server",noExportableDrives:"Could not find a writable drive connected to the server"}},DriveList_component=(__webpack_require__(319),normalizeComponent(SelectTransferSourceModal_DriveListvue_type_script_lang_js_,(function(){var _vm=this,_h=_vm.$createElement,_c=_vm._self._c||_h;return _c("div",{staticClass:"drive-list"},[0===_vm.drives.length?_c("div",[_c("UiAlert",{attrs:{type:"info",dismissible:!1}},[_vm._v("\n      "+_vm._s(_vm.noDrivesText)+"\n    ")])],1):_c("div",[_c("h2",[_vm._v(_vm._s(_vm.$tr("drivesFound")))]),_vm._l(_vm.drives,(function(drive){return _c("KRadioButton",{key:drive.id,attrs:{label:_vm.enabledDriveLabel(drive),value:drive.id,currentValue:_vm.value},on:{change:function($event){return _vm.$emit("input",drive.id)}}})}))],2)])}),[],!1,null,"47d45bc1",null)),SelectDriveModal=normalizeComponent({name:"SelectDriveModal",components:{DriveList:DriveList_component.exports,UiAlert:external_kolibriCoreAppGlobal_coreVue_components_UiAlert_default.a},mixins:[external_kolibriCoreAppGlobal_coreVue_mixins_commonCoreStrings_default.a],props:{exportFileSize:{type:Number,required:!1},manageMode:{type:Boolean,required:!1}},data:function(){return{driveStatus:"",selectedDriveId:""}},computed:Object.assign({},Object(external_kolibriCoreAppGlobal_lib_vuex_.mapGetters)("manageContent/wizard",["isImportingMore"]),Object(external_kolibriCoreAppGlobal_lib_vuex_.mapState)("manageContent/wizard",["driveList"]),{transferType:function(){return this.manageMode?constants.j.LOCALEXPORT:this.$store.state.manageContent.wizard.transferType},driveCanBeUsedForTransfer:function(){return this.manageMode?function(ref){return ref.drive.writable}:this.$store.getters["manageContent/wizard/driveCanBeUsedForTransfer"]},inImportMode:function(){return this.transferType===constants.j.LOCALIMPORT},title:function(){return this.$tr("selectDrive")},notEnoughFreeSpace:function(){return!(!this.exportFileSize||!this.selectedDriveId)&&find_default()(this.driveList,{id:this.selectedDriveId}).freespace<this.exportFileSize},enabledDrives:function(){var this$1=this;return this.driveList.filter((function(drive){return this$1.driveCanBeUsedForTransfer({drive:drive,transferType:this$1.transferType})}))},driveListMode:function(){return this.inImportMode?this.isImportingMore?"IMPORT_MORE":"IMPORT":"EXPORT"}}),mounted:function(){var this$1=this;this.driveStatus="LOADING",this.refreshDriveList().catch((function(){this$1.driveStatus="ERROR"})).then((function(){this$1.driveStatus="",this$1.enabledDrives.length>0&&(this$1.selectedDriveId=this$1.enabledDrives[0].id)}))},methods:Object.assign({},Object(external_kolibriCoreAppGlobal_lib_vuex_.mapActions)("manageContent",["refreshDriveList"]),Object(external_kolibriCoreAppGlobal_lib_vuex_.mapActions)("manageContent/wizard",["goForwardFromSelectDriveModal"]),Object(external_kolibriCoreAppGlobal_lib_vuex_.mapMutations)("manageContent/wizard",{resetContentWizardState:"RESET_STATE"}),{goForward:function(){this.manageMode?this.$emit("submit",{driveId:this.selectedDriveId}):this.goForwardFromSelectDriveModal({driveId:this.selectedDriveId,forExport:!this.inImportMode})},handleClickCancel:function(){this.manageMode?this.$emit("cancel"):this.resetContentWizardState()}}),$trs:{findingLocalDrives:"Finding local drives…",problemFindingLocalDrives:"There was a problem finding local drives.",selectDrive:"Select a drive",notEnoughFreeSpaceWarning:{message:"Not enough space available. Free up space on the drive or select fewer resources",context:"\nWarning that appears when a user has selected a drive without enough space for the selected resources"}}},(function(){var _vm=this,_h=_vm.$createElement,_c=_vm._self._c||_h;return _c("KModal",{attrs:{title:_vm.title,size:"medium",submitText:_vm.coreString("continueAction"),cancelText:_vm.coreString("cancelAction"),submitDisabled:""===_vm.selectedDriveId||_vm.notEnoughFreeSpace},on:{submit:_vm.goForward,cancel:_vm.handleClickCancel}},[_vm.notEnoughFreeSpace?_c("UiAlert",{attrs:{type:"error",dismissible:!1,removeIcon:!0}},[_vm._v("\n    "+_vm._s(_vm.$tr("notEnoughFreeSpaceWarning"))+"\n  ")]):_vm._e(),"ERROR"===_vm.driveStatus?_c("UiAlert",{attrs:{type:"error",dismissible:!1}},[_vm._v("\n    "+_vm._s(_vm.$tr("problemFindingLocalDrives"))+"\n  ")]):_vm._e(),_c("transition",{attrs:{mode:"out-in"}},["LOADING"===_vm.driveStatus?_c("UiAlert",{attrs:{type:"info",dismissible:!1}},[_c("span",{staticClass:"finding-local-drives"},[_vm._v("\n        "+_vm._s(_vm.$tr("findingLocalDrives"))+"\n      ")])]):_vm._e(),""===_vm.driveStatus?_c("DriveList",{attrs:{drives:_vm.enabledDrives,mode:_vm.driveListMode},model:{value:_vm.selectedDriveId,callback:function($$v){_vm.selectedDriveId=$$v},expression:"selectedDriveId"}}):_vm._e()],1)],1)}),[],!1,null,"9ecd52de",null).exports,external_kolibriCoreAppGlobal_coreVue_components_CoachContentLabel_=__webpack_require__(109),external_kolibriCoreAppGlobal_coreVue_components_CoachContentLabel_default=__webpack_require__.n(external_kolibriCoreAppGlobal_coreVue_components_CoachContentLabel_),ChannelPanel_ChannelDetailsvue_type_script_lang_js_={name:"ChannelDetails",components:{CoachContentLabel:external_kolibriCoreAppGlobal_coreVue_components_CoachContentLabel_default.a},mixins:[external_kolibriCoreAppGlobal_coreVue_mixins_responsiveWindowMixin_default.a],props:{channel:{type:Object},channelVersion:{type:[String,Number],required:!1}},$trs:{versionNumber:"Version {v}",defaultDescription:"(No description)"}},ChannelDetails=(__webpack_require__(320),normalizeComponent(ChannelPanel_ChannelDetailsvue_type_script_lang_js_,(function(){var _vm=this,_h=_vm.$createElement,_c=_vm._self._c||_h;return _c("div",{staticClass:"channel-detail-panel",class:{"channel-detail-panel-sm":_vm.windowIsSmall}},[_c("div",{staticClass:"col-1"},[_vm._t("beforethumbnail"),_vm.channel.thumbnail?_c("img",{staticClass:"thumbnail",attrs:{src:_vm.channel.thumbnail}}):_c("KIcon",{staticClass:"thumbnail-svg",style:{backgroundColor:_vm.$themePalette.grey.v_200},attrs:{icon:"channel"}})],2),_c("div",{staticClass:"col-2"},[_c("div",{staticClass:"col-2-row-1"},[_c("div",[_c("h2",{staticClass:"channel-name",attrs:{dir:"auto"}},[_vm._v("\n          "+_vm._s(_vm.channel.name)+"\n        ")]),_vm._t("belowname"),_c("p",{staticClass:"version",style:{color:_vm.$themeTokens.annotation}},[_vm._v("\n          "+_vm._s(_vm.$tr("versionNumber",{v:_vm.channelVersion||_vm.channel.version}))+"\n        ")])],2)]),_c("div",[_vm._t("abovedescription"),_c("p",{staticClass:"description",attrs:{dir:"auto"}},[_vm.channel.description?_c("span",[_vm._v(_vm._s(_vm.channel.description))]):_c("span",{style:{color:_vm.$themeTokens.annotation}},[_vm._v("\n          "+_vm._s(_vm.$tr("defaultDescription"))+"\n        ")])]),_c("p",{staticClass:"coach-content"},[_c("CoachContentLabel",{attrs:{value:_vm.channel.num_coach_contents,isTopic:!0}})],1),_vm._t("belowdescription")],2)]),_vm._t("append")],2)}),[],!1,null,"01732ac9",null).exports),ChannelPanel_WithCheckboxvue_type_script_lang_js_={name:"WithCheckbox",components:{ChannelDetails:ChannelDetails},mixins:[external_kolibriCoreAppGlobal_coreVue_mixins_responsiveWindowMixin_default.a],props:{channel:{type:Object},selectedMessage:{type:String,required:!1},resourcesOnDevice:{type:Boolean,default:!1}},$trs:{resourcesOnDevice:"Resources on device"}},WithCheckbox=(__webpack_require__(321),normalizeComponent(ChannelPanel_WithCheckboxvue_type_script_lang_js_,(function(){var _vm=this,_h=_vm.$createElement,_c=_vm._self._c||_h;return _c("div",{staticClass:"channel-card",class:{"channel-card-sm":_vm.windowIsSmall},style:{borderTopColor:_vm.$themePalette.grey.v_200}},[_c("ChannelDetails",{attrs:{channel:_vm.channel},scopedSlots:_vm._u([{key:"beforethumbnail",fn:function(){return[_c("KCheckbox",{staticClass:"checkbox",attrs:{label:_vm.channel.name,showLabel:!1,checked:_vm.$attrs.checked},on:{change:function($event){return _vm.$emit("checkboxchange",{channel:_vm.channel,isSelected:$event})}}})]},proxy:!0},{key:"abovedescription",fn:function(){return[_vm.resourcesOnDevice?_c("p",[_vm._v("\n        "+_vm._s(_vm.$tr("resourcesOnDevice"))+"\n      ")]):_vm._e()]},proxy:!0}])}),_c("div",{staticClass:"col-3"},[_vm.selectedMessage?_c("p",{staticClass:"selected"},[_vm._v("\n      "+_vm._s(_vm.selectedMessage)+"\n    ")]):_vm._e()])],1)}),[],!1,null,"6bad01e0",null).exports),differenceBy=__webpack_require__(32),differenceBy_default=__webpack_require__.n(differenceBy),unionBy=__webpack_require__(199),unionBy_default=__webpack_require__.n(unionBy),uniqBy=__webpack_require__(53),uniqBy_default=__webpack_require__.n(uniqBy),external_kolibriCoreAppGlobal_coreVue_components_FilterTextbox_=__webpack_require__(200),ManageContentPage_FilteredChannelListContainervue_type_script_lang_js_={name:"FilteredChannelListContainer",components:{FilterTextbox:__webpack_require__.n(external_kolibriCoreAppGlobal_coreVue_components_FilterTextbox_).a},mixins:[external_kolibriCoreAppGlobal_coreVue_mixins_responsiveWindowMixin_default.a],props:{channels:{type:Array},selectAllCheckbox:{type:Boolean,default:!1},selectedChannels:{type:Array,required:!1}},data:function(){return{languageFilter:{},titleFilter:"",channelsCopy:[].concat(this.channels)}},computed:{selectAllIsChecked:function(){return 0===differenceBy_default()(this.filteredItems,this.selectedChannels,"id").length},showItem:function(){return function(channel){return Boolean(find_default()(this.filteredItems,{id:channel.id}))}.bind(this)},itemIsSelected:function(){return function(channel){return Boolean(find_default()(this.selectedChannels,{id:channel.id}))}.bind(this)},allLanguagesOption:function(){return{label:this.$tr("allLanguages"),value:"ALL"}},languageFilterOptions:function(){var codes=uniqBy_default()(this.channelsCopy,"lang_code").map((function(ref){var lang_name=ref.lang_name;return{value:ref.lang_code,label:lang_name}})).filter((function(x){return x.value}));return[this.allLanguagesOption].concat(codes)},channelsCountMsg:function(){return this.$tr("numChannelsAvailable",{count:this.filteredItems.length})},filteredItems:function(){return this.channelsCopy.filter(this.channelPassesFilters)},noMatchMsg:function(){return""===this.titleFilter&&"ALL"===this.languageFilter.value||0!==this.filteredItems.length?"":this.$tr("noMatchingItems")}},beforeMount:function(){this.languageFilter=Object.assign({},this.allLanguagesOption)},methods:{handleChange:function(ref){var channel=ref.channel;ref.isSelected?this.itemIsSelected(channel)||this.$emit("update:selectedChannels",this.selectedChannels.concat([channel])):this.$emit("update:selectedChannels",this.selectedChannels.filter((function(ref){return ref.id!==channel.id}))),this.$emit("update:selected")},handleChangeSelectAll:function(ref){ref.isSelected?this.$emit("update:selectedChannels",unionBy_default()(this.selectedChannels,this.filteredItems,"id")):this.$emit("update:selectedChannels",differenceBy_default()(this.selectedChannels,this.filteredItems,"id"))},channelPassesFilters:function(channel){var languageMatches=!0,titleMatches=!0;("ALL"!==this.languageFilter.value&&(languageMatches=channel.lang_code===this.languageFilter.value),this.titleFilter)&&(titleMatches=this.titleFilter.split(/\s+/).map((function(val){return val.toLowerCase()})).every((function(token){return channel.name.toLowerCase().includes(token)})));return languageMatches&&titleMatches}},$trs:{languageFilterLabel:"Language",titleFilterPlaceholder:"Search for a channel",allLanguages:"All languages",numChannelsAvailable:"{count, number, integer} {count, plural, one {channel} other {channels}} available",noMatchingItems:"There are no channels matching these filters",selectAll:"Select all on page"}},FilteredChannelListContainer=(__webpack_require__(327),normalizeComponent(ManageContentPage_FilteredChannelListContainervue_type_script_lang_js_,(function(){var _vm=this,_h=_vm.$createElement,_c=_vm._self._c||_h;return _c("div",{class:{"fclc-sm":!_vm.windowIsLarge}},[_vm._t("header"),_vm._t("abovechannels"),_c("KGrid",{staticClass:"top-panel"},[_vm.channels.length>0?[_c("KGridItem",{attrs:{layout12:{span:4}}},[_c("KSelect",{staticClass:"filter-lang",attrs:{options:_vm.languageFilterOptions,label:_vm.$tr("languageFilterLabel"),inline:!0},model:{value:_vm.languageFilter,callback:function($$v){_vm.languageFilter=$$v},expression:"languageFilter"}})],1),_c("KGridItem",{staticClass:"filter-title",attrs:{layout12:{span:5}}},[_c("FilterTextbox",{attrs:{placeholder:_vm.$tr("titleFilterPlaceholder"),throttleInput:500},model:{value:_vm.titleFilter,callback:function($$v){_vm.titleFilter=$$v},expression:"titleFilter"}})],1)]:_vm._e(),_c("KGridItem",{attrs:{layout12:{span:3}}},[_c("p",{staticClass:"count-msg",attrs:{"data-test":"available"}},[_vm._v("\n        "+_vm._s(_vm.channelsCountMsg)+"\n      ")])])],2),_vm.selectAllCheckbox?[_vm.filteredItems.length>0?_c("KCheckbox",{staticClass:"select-all-checkbox",attrs:{label:_vm.$tr("selectAll"),checked:_vm.selectAllIsChecked},on:{change:function($event){return _vm.handleChangeSelectAll({isSelected:$event})}}}):_vm._e()]:_vm._e(),_vm._t("default",null,null,{filteredItems:_vm.filteredItems,showItem:_vm.showItem,itemIsSelected:_vm.itemIsSelected,handleChange:_vm.handleChange}),0===_vm.filteredItems.length?_c("div",{staticClass:"no-match"},[_vm._v("\n    "+_vm._s(_vm.noMatchMsg)+"\n  ")]):_vm._e()],2)}),[],!1,null,"097a5508",null).exports),DeleteExportChannelsPage=normalizeComponent({name:"DeleteExportChannelsPage",metaInfo:function(){return{title:this.deleteMode?this.$tr("deleteAppBarTitle"):this.$tr("exportAppBarTitle")}},components:{ChannelPanel:WithCheckbox,FilteredChannelListContainer:FilteredChannelListContainer,SelectionBottomBar:SelectionBottomBar,DeleteChannelModal:DeleteChannelModal,SelectDriveModal:SelectDriveModal},mixins:[external_kolibriCoreAppGlobal_coreVue_mixins_responsiveWindowMixin_default.a,taskNotificationMixin],props:{actionType:{type:String,required:!0,validator:function(value){return"delete"===value||"export"===value}}},data:function(){return{allChannels:[],selectedChannels:[],showModal:!1,loading:!0,fileSize:null}},computed:Object.assign({},Object(external_kolibriCoreAppGlobal_lib_vuex_.mapGetters)("manageContent",["channelIsBeingDeleted"]),{exportMode:function(){return"export"===this.actionType},deleteMode:function(){return"delete"===this.actionType},modalProps:function(){return this.exportMode?{exportFileSize:this.fileSize,manageMode:!0}:{numberOfChannels:this.selectedChannels.length}}}),beforeMount:function(){this.setAppBarTitle(),this.fetchData()},methods:{setAppBarTitle:function(){var title=this.exportMode?"exportAppBarTitle":"deleteAppBarTitle";this.$store.commit("coreBase/SET_APP_BAR_TITLE",this.$tr(title))},fetchData:function(){var this$1=this;return deviceChannel.fetchCollection({getParams:{include_fields:"on_device_file_size"},force:!0}).then((function(channels){this$1.allChannels=[].concat(channels.filter((function(c){return c.available&&!this$1.channelIsBeingDeleted(c)}))),this$1.loading=!1}))},deleteChannels:function(){var this$1=this,selectedCopy=[].concat(this.selectedChannels);return this.allChannels=this.allChannels.filter((function(c){return!find_default()(this$1.selectedChannels,{id:c.id})})),external_kolibriCoreAppGlobal_resources_.TaskResource.deleteBulkChannels({channelIds:this.selectedChannels.map((function(x){return x.id}))}).then((function(task){this$1.notifyAndWatchTask(task),this$1.selectedChannels=[]})).catch((function(){this$1.createTaskFailedSnackbar(),this$1.selectedChannels=[].concat(selectedCopy),this$1.loading=!0,this$1.fetchData()}))},exportChannels:function(params){var this$1=this;return external_kolibriCoreAppGlobal_resources_.TaskResource.startDiskBulkExport(this.selectedChannels.map((function(ref){return{channel_id:ref.id,drive_id:params.driveId}}))).then((function(task){this$1.notifyAndWatchTask(task)})).catch((function(){this$1.createTaskFailedSnackbar()}))},handleClickConfirm:function(){this.showModal=!0},handleClickModalSubmit:function(params){void 0===params&&(params={}),this.showModal=!1,this.deleteMode?this.deleteChannels():this.exportChannels(params)},channelIsSelected:function(channel){return Boolean(find_default()(this.selectedChannels,{id:channel.id}))},channelSelectedMessage:function(channel){return this.channelIsSelected(channel)?this.$tr("channelSelectedMessage",{bytesText:external_kolibriCoreAppGlobal_utils_bytesForHumans_default()(channel.on_device_file_size)}):""}},$trs:{deleteAppBarTitle:"Delete channels",exportAppBarTitle:"Export channels",channelsOnDevice:"Channels on device",channelSelectedMessage:"{bytesText} selected"}},(function(){var _vm=this,_h=_vm.$createElement,_c=_vm._self._c||_h;return _vm.loading?_vm._e():_c("div",[_c("FilteredChannelListContainer",{attrs:{channels:_vm.allChannels,selectedChannels:_vm.selectedChannels,selectAllCheckbox:!0},on:{"update:selectedChannels":function($event){_vm.selectedChannels=$event},"update:selected-channels":function($event){_vm.selectedChannels=$event}},scopedSlots:_vm._u([{key:"header",fn:function(){return[_c("h1",[_vm._v(_vm._s(_vm.$tr("channelsOnDevice")))])]},proxy:!0},{key:"default",fn:function(ref){ref.filteredItems;var showItem=ref.showItem,handleChange=ref.handleChange,itemIsSelected=ref.itemIsSelected;return _vm._l(_vm.allChannels,(function(channel){return _c("ChannelPanel",{directives:[{name:"show",rawName:"v-show",value:showItem(channel),expression:"showItem(channel)"}],key:channel.id,attrs:{channel:channel,selectedMessage:_vm.channelSelectedMessage(channel),checked:itemIsSelected(channel)},on:{checkboxchange:handleChange}})}))}}],null,!1,290994441)}),_vm.showModal?_c(_vm.exportMode?"SelectDriveModal":"DeleteChannelModal",_vm._b({tag:"component",on:{cancel:function($event){_vm.showModal=!1},submit:_vm.handleClickModalSubmit}},"component",_vm.modalProps,!1)):_vm._e(),_c("SelectionBottomBar",{attrs:{objectType:"channel",disabled:0===_vm.selectedChannels.length,actionType:_vm.actionType,selectedObjects:_vm.selectedChannels,fileSize:_vm.fileSize},on:{"update:fileSize":function($event){_vm.fileSize=$event},"update:file-size":function($event){_vm.fileSize=$event},clickconfirm:_vm.handleClickConfirm}})],1)}),[],!1,null,"8b8cd074",null).exports,external_kolibriCoreAppGlobal_coreVue_components_TechnicalTextBlock_=__webpack_require__(201),external_kolibriCoreAppGlobal_coreVue_components_TechnicalTextBlock_default=__webpack_require__.n(external_kolibriCoreAppGlobal_coreVue_components_TechnicalTextBlock_),views_DeviceInfoPagevue_type_script_lang_js_={name:"DeviceInfoPage",metaInfo:function(){return{title:this.$tr("header")}},components:{DeviceNameModal:normalizeComponent({name:"DeviceNameModal",mixins:[external_kolibriCoreAppGlobal_coreVue_mixins_commonCoreStrings_default.a],props:{deviceName:{type:String,required:!1}},data:function(){return{name:this.deviceName,nameBlurred:!1,formSubmitted:!1}},computed:{nameIsInvalidText:function(){return(this.nameBlurred||this.formSubmitted)&&""===this.name?this.coreString("requiredFieldError"):""},nameIsInvalid:function(){return Boolean(this.nameIsInvalidText)}},methods:{handleSubmit:function(){this.formSubmitted=!0,this.nameIsInvalid?this.$refs.name.focus():this.$emit("submit",this.name)}},$trs:{deviceNameExplanation:{message:"Give a unique and meaningful name to this device so you and others in your network can easily recognize it",context:"Explanation of what the device name is"}}},(function(){var _vm=this,_h=_vm.$createElement,_c=_vm._self._c||_h;return _c("KModal",{attrs:{title:_vm.coreString("deviceNameLabel"),submitText:_vm.coreString("saveAction"),cancelText:_vm.coreString("cancelAction")},on:{submit:_vm.handleSubmit,cancel:function($event){return _vm.$emit("cancel")}}},[_c("p",[_vm._v("\n    "+_vm._s(_vm.$tr("deviceNameExplanation"))+"\n  ")]),_c("KTextbox",{ref:"name",attrs:{type:"text",label:_vm.coreString("deviceNameLabel"),autofocus:!0,invalid:_vm.nameIsInvalid,invalidText:_vm.nameIsInvalidText,maxlength:50},on:{blur:function($event){_vm.nameBlurred=!0}},model:{value:_vm.name,callback:function($$v){_vm.name="string"==typeof $$v?$$v.trim():$$v},expression:"name"}})],1)}),[],!1,null,"770a789d",null).exports,TechnicalTextBlock:external_kolibriCoreAppGlobal_coreVue_components_TechnicalTextBlock_default.a},mixins:[external_kolibriCoreAppGlobal_coreVue_mixins_commonCoreStrings_default.a],data:function(){return{advancedShown:!1,showDeviceNameModal:!1}},computed:Object.assign({},Object(external_kolibriCoreAppGlobal_lib_vuex_.mapState)("deviceInfo",["deviceInfo","deviceName"]),{buttonText:function(){return this.advancedShown?this.$tr("hide"):this.coreString("showAction")},infoText:function(){return["Version:           "+this.deviceInfo.version,"OS:                "+this.deviceInfo.os,"Python:            "+this.deviceInfo.python_version,"Installer:         "+this.deviceInfo.installer,"Server:            "+this.deviceInfo.server_type,"Database:          "+this.deviceInfo.database_path,"Free disk space:   "+this.deviceInfo.content_storage_free_space,"Server time:       "+this.deviceInfo.server_time,"Server timezone:   "+this.deviceInfo.server_timezone].join("\n")},deviceNameWithId:function(){return this.$tr("deviceNameWithId",{deviceName:this.deviceName,deviceId:this.deviceInfo.device_id.slice(0,4)})}}),methods:{handleSubmitDeviceName:function(newName){var this$1=this;this.showDeviceNameModal=!1,this.$store.dispatch("deviceInfo/updateDeviceName",newName).then((function(){this$1.$store.dispatch("createSnackbar",this$1.coreString("changesSavedNotification"))})).catch((function(){this$1.$store.dispatch("createSnackbar",this$1.coreString("changesNotSavedNotification"))}))}},$trs:{header:"Device info",kolibriVersion:"Kolibri version",url:"Server {count, plural, one {URL} other {URLs}}",freeDisk:"Free disk space",advanced:"Advanced",advancedDescription:"This information may be helpful for troubleshooting or error reporting",hide:"Hide",deviceNameWithId:"{deviceName} ({deviceId})"}},DeviceInfoPage=(__webpack_require__(328),normalizeComponent(views_DeviceInfoPagevue_type_script_lang_js_,(function(){var _vm=this,_h=_vm.$createElement,_c=_vm._self._c||_h;return _c("div",[_c("h1",[_vm._v(_vm._s(_vm.$tr("header")))]),_c("table",[_c("tr",[_c("th",[_vm._v("\n        "+_vm._s(_vm.$tr("url",{count:_vm.deviceInfo.urls.length}))+"\n      ")]),_c("td",_vm._l(_vm.deviceInfo.urls,(function(url,index){return _c("KExternalLink",{key:index,attrs:{text:url,href:url,primary:!0,target:"_blank",appearance:"basic-link"}})})),1)]),_c("tr",[_c("th",[_vm._v(_vm._s(_vm.$tr("freeDisk")))]),_c("td",[_vm._v(_vm._s(_vm.deviceInfo.content_storage_free_space))])]),_c("tr",[_c("th",[_vm._v(_vm._s(_vm.$tr("kolibriVersion")))]),_c("td",[_vm._v(_vm._s(_vm.deviceInfo.version))])]),_c("tr",[_c("th",[_vm._v(_vm._s(_vm.coreString("deviceNameLabel")))]),_c("td",[_vm._v("\n        "+_vm._s(_vm.deviceNameWithId)+"\n        "),_c("KButton",{staticClass:"edit-button",attrs:{text:_vm.coreString("editAction"),appearance:"basic-link"},on:{click:function($event){_vm.showDeviceNameModal=!0}}})],1)])]),_c("h1",[_vm._v(_vm._s(_vm.$tr("advanced")))]),_c("p",[_vm._v(_vm._s(_vm.$tr("advancedDescription")))]),_c("div",[_c("KButton",{attrs:{text:_vm.buttonText,appearance:"basic-link"},on:{click:function($event){_vm.advancedShown=!_vm.advancedShown}}})],1),_vm.advancedShown?_c("TechnicalTextBlock",{staticClass:"bottom-section",attrs:{dir:"auto",text:_vm.infoText}}):_vm._e(),_vm.showDeviceNameModal?_c("DeviceNameModal",{attrs:{deviceName:_vm.deviceName},on:{submit:_vm.handleSubmitDeviceName,cancel:function($event){_vm.showDeviceNameModal=!1}}}):_vm._e()],1)}),[],!1,null,"45a64d16",null).exports),external_kolibriCoreAppGlobal_utils_sortLanguages_=__webpack_require__(202),external_kolibriCoreAppGlobal_utils_sortLanguages_default=__webpack_require__.n(external_kolibriCoreAppGlobal_utils_sortLanguages_),url=external_kolibriCoreAppGlobal_urls_default.a["kolibri:core:devicesettings"]();var views_DeviceSettingsPagevue_type_script_lang_js_={name:"DeviceSettingsPage",metaInfo:function(){return{title:this.$tr("pageHeader")}},components:{UiAlert:external_kolibriCoreAppGlobal_coreVue_components_UiAlert_default.a},mixins:[external_kolibriCoreAppGlobal_coreVue_mixins_commonCoreStrings_default.a],data:function(){return{language:{},landingPage:"",allowGuestAccess:null,allowLearnerUnassignedResourceAccess:null,allowPeerUnlistedChannelImport:null,allowOtherBrowsersToConnect:null,saveStatus:null,landingPageChoices:constants.f,browserDefaultOption:{value:null,label:this.$tr("browserDefaultLanguage")}}},computed:Object.assign({},Object(external_kolibriCoreAppGlobal_lib_vuex_.mapGetters)(["isAppContext"]),{facilities:function(){return this.$store.getters.facilities},isMultiFacilitySuperuser:function(){return this.$store.getters.isSuperuser&&this.facilities.length>1},languageOptions:function(){var languages=external_kolibriCoreAppGlobal_utils_sortLanguages_default()(Object.values(external_kolibriCoreAppGlobal_utils_i18n_.availableLanguages),external_kolibriCoreAppGlobal_utils_i18n_.currentLanguage).map((function(language){return{value:language.id,label:language.lang_name}}));return languages.splice(1,0,this.browserDefaultOption),languages},disableAllowGuestAccess:function(){return this.landingPage!==constants.f.SIGN_IN||!this.allowLearnerUnassignedResourceAccess},disableAllowLearnerUnassignedResourceAccess:function(){return this.landingPage!==constants.f.SIGN_IN||this.allowGuestAccess}}),beforeMount:function(){var this$1=this;this.getDeviceSettings().then((function(settings){var languageId=settings.languageId,landingPage=settings.landingPage,allowGuestAccess=settings.allowGuestAccess,allowLearnerUnassignedResourceAccess=settings.allowLearnerUnassignedResourceAccess,allowPeerUnlistedChannelImport=settings.allowPeerUnlistedChannelImport,allowOtherBrowsersToConnect=settings.allowOtherBrowsersToConnect,match=find_default()(this$1.languageOptions,{value:languageId});this$1.language=match?Object.assign({},match):this$1.browserDefaultOption,Object.assign(this$1,{landingPage:landingPage,allowGuestAccess:allowGuestAccess,allowLearnerUnassignedResourceAccess:allowLearnerUnassignedResourceAccess,allowPeerUnlistedChannelImport:allowPeerUnlistedChannelImport,allowOtherBrowsersToConnect:allowOtherBrowsersToConnect})}))},methods:{resetSaveStatus:function(){this.saveStatus=null},getFacilitySettingsPath:function(facilityId){void 0===facilityId&&(facilityId="");var getUrl=external_kolibriCoreAppGlobal_urls_default.a["kolibri:kolibri.plugins.facility:facility_management"];return getUrl?facilityId?getUrl()+"#/"+facilityId+"/settings":getUrl()+"#/settings":""},handleClickSave:function(){var this$1=this,language=this.language,landingPage=this.landingPage,allowGuestAccess=this.allowGuestAccess,allowLearnerUnassignedResourceAccess=this.allowLearnerUnassignedResourceAccess,allowPeerUnlistedChannelImport=this.allowPeerUnlistedChannelImport,allowOtherBrowsersToConnect=this.allowOtherBrowsersToConnect;this.resetSaveStatus(),this.saveDeviceSettings({languageId:language.value,landingPage:landingPage,allowGuestAccess:allowGuestAccess,allowLearnerUnassignedResourceAccess:allowLearnerUnassignedResourceAccess,allowPeerUnlistedChannelImport:allowPeerUnlistedChannelImport,allowOtherBrowsersToConnect:allowOtherBrowsersToConnect}).then((function(){this$1.saveStatus="SUCCESS"})).catch((function(){this$1.saveStatus="ERROR"}))},getDeviceSettings:function(){return external_kolibriCoreAppGlobal_client_default()({url:url}).then((function(ref){var data=ref.data;return{languageId:data.language_id,landingPage:data.landing_page,allowGuestAccess:data.allow_guest_access,allowLearnerUnassignedResourceAccess:data.allow_learner_unassigned_resource_access,allowPeerUnlistedChannelImport:data.allow_peer_unlisted_channel_import,allowOtherBrowsersToConnect:data.allow_other_browsers_to_connect}}))},saveDeviceSettings:function(settings){return external_kolibriCoreAppGlobal_client_default()({url:url,method:"PATCH",data:{language_id:settings.languageId,landing_page:settings.landingPage,allow_guest_access:settings.allowGuestAccess,allow_learner_unassigned_resource_access:settings.allowLearnerUnassignedResourceAccess,allow_peer_unlisted_channel_import:settings.allowPeerUnlistedChannelImport,allow_other_browsers_to_connect:settings.allowOtherBrowsersToConnect}})}},$trs:{browserDefaultLanguage:"Browser default",pageDescription:"The changes you make here will affect this device only.",pageHeader:"Device settings",saveFailureNotification:"Settings have not been updated",saveSuccessNotification:"Settings have been updated",selectedLanguageLabel:"Default language",facilitySettings:"You can also configure facility settings",allowGuestAccess:"Allow users to access resources without signing in",landingPageLabel:"Landing page",signInPageChoice:"Sign-in page",learnerAppPageChoice:{message:"Learn page",context:'\nThis refers to the page you reach when you click "Learn" in the main side nav'},unlistedChannels:"Allow other computers on this network to import my unlisted channels",lockedContent:"Learners should only see resources assigned to them in classes",configureFacilitySettingsHeader:"Configure facility settings",allowExternalConnectionsApp:{message:"Allow others in the network to access Kolibri on this device using a browser",context:"Description of a device setting option. This option is visible only When Kolibri runs on an Android app"},allowExternalConnectionsAppDescription:{message:"If learners are allowed to sign in with no password on this device, enabling this may allow external devices to view the user data, which could be a potential security concern.",context:"Warns the user of the potential security risk if this setting is enabled together with users accesing without password"}}},DeviceSettingsPage=(__webpack_require__(329),normalizeComponent(views_DeviceSettingsPagevue_type_script_lang_js_,(function(){var _vm=this,_h=_vm.$createElement,_c=_vm._self._c||_h;return _c("div",[_c("section",[_c("h1",[_vm._v("\n      "+_vm._s(_vm.$tr("pageHeader"))+"\n    ")]),_c("p",[_vm._v("\n      "+_vm._s(_vm.$tr("pageDescription"))+"\n      "),!_vm.isMultiFacilitySuperuser&&_vm.getFacilitySettingsPath()?_c("KExternalLink",{attrs:{text:_vm.$tr("facilitySettings"),href:_vm.getFacilitySettingsPath()}}):_vm._e()],1)]),_c("section",["SUCCESS"===_vm.saveStatus?_c("UiAlert",{attrs:{type:"success"},on:{dismiss:_vm.resetSaveStatus}},[_vm._v("\n      "+_vm._s(_vm.$tr("saveSuccessNotification"))+"\n    ")]):_vm._e(),"ERROR"===_vm.saveStatus?_c("UiAlert",{attrs:{type:"error"},on:{dismiss:_vm.resetSaveStatus}},[_vm._v("\n      "+_vm._s(_vm.$tr("saveFailureNotification"))+"\n    ")]):_vm._e()],1),_c("section",[_c("KSelect",{staticStyle:{"max-width":"300px"},attrs:{label:_vm.$tr("selectedLanguageLabel"),options:_vm.languageOptions,disabled:void 0===_vm.language.value,floatingLabel:!1},model:{value:_vm.language,callback:function($$v){_vm.language=$$v},expression:"language"}}),_c("KCheckbox",{attrs:{label:_vm.$tr("unlistedChannels"),checked:_vm.allowPeerUnlistedChannelImport},on:{change:function($event){_vm.allowPeerUnlistedChannelImport=$event}}}),_vm.isAppContext?_c("KCheckbox",{attrs:{checked:_vm.allowOtherBrowsersToConnect},on:{change:function($event){_vm.allowOtherBrowsersToConnect=$event}}},[_c("span",[_vm._v(" "+_vm._s(_vm.$tr("allowExternalConnectionsApp"))+"\n        "),_vm.allowOtherBrowsersToConnect?_c("p",{staticClass:"description",style:{color:_vm.$themeTokens.annotation}},[_vm._v("\n          "+_vm._s(_vm.$tr("allowExternalConnectionsAppDescription"))+"\n        ")]):_vm._e()])]):_vm._e(),_c("p",[_c("label",[_vm._v(_vm._s(_vm.$tr("landingPageLabel")))]),_c("KRadioButton",{attrs:{label:_vm.$tr("signInPageChoice"),value:_vm.landingPageChoices.SIGN_IN,currentValue:_vm.landingPage},on:{change:function($event){_vm.landingPage=_vm.landingPageChoices.SIGN_IN}}}),_c("KRadioButton",{attrs:{label:_vm.$tr("learnerAppPageChoice"),value:_vm.landingPageChoices.LEARN,currentValue:_vm.landingPage},on:{change:function($event){_vm.landingPage=_vm.landingPageChoices.LEARN}}})],1),_c("KCheckbox",{attrs:{label:_vm.$tr("allowGuestAccess"),disabled:_vm.disableAllowGuestAccess,checked:_vm.allowGuestAccess||_vm.landingPage===_vm.landingPageChoices.LEARN},on:{change:function($event){_vm.allowGuestAccess=$event}}}),_c("KCheckbox",{attrs:{label:_vm.$tr("lockedContent"),disabled:_vm.disableAllowLearnerUnassignedResourceAccess,checked:!_vm.allowLearnerUnassignedResourceAccess&&_vm.landingPage!==_vm.landingPageChoices.LEARN},on:{change:function($event){_vm.allowLearnerUnassignedResourceAccess=!$event}}})],1),_c("section",[_c("KButton",{attrs:{text:_vm.coreString("saveAction"),appearance:"raised-button",primary:""},on:{click:_vm.handleClickSave}})],1),_vm.isMultiFacilitySuperuser?_c("section",[_c("h2",[_vm._v(_vm._s(_vm.$tr("configureFacilitySettingsHeader")))]),_c("ul",{staticClass:"ul-reset"},[_vm._l(_vm.facilities,(function(facility,idx){return[_c("li",{key:idx},[_c("KExternalLink",{attrs:{text:facility.name,href:_vm.getFacilitySettingsPath(facility.id)}})],1)]}))],2)]):_vm._e()])}),[],!1,null,"1daead90",null).exports),external_kolibriCoreAppGlobal_coreVue_components_CoreTable_=__webpack_require__(42),external_kolibriCoreAppGlobal_coreVue_components_CoreTable_default=__webpack_require__.n(external_kolibriCoreAppGlobal_coreVue_components_CoreTable_),some=__webpack_require__(26),some_default=__webpack_require__.n(some),external_kolibriCoreAppGlobal_coreVue_mixins_commonTaskStrings_=__webpack_require__(27),external_kolibriCoreAppGlobal_coreVue_mixins_commonTaskStrings_default=__webpack_require__.n(external_kolibriCoreAppGlobal_coreVue_mixins_commonTaskStrings_),ManageContentPage_TasksBarvue_type_script_lang_js_={name:"TasksBar",mixins:[external_kolibriCoreAppGlobal_coreVue_mixins_commonCoreStrings_default.a,external_kolibriCoreAppGlobal_coreVue_mixins_responsiveWindowMixin_default.a,external_kolibriCoreAppGlobal_coreVue_mixins_commonTaskStrings_default.a],props:{tasks:{type:Array,required:!0},taskManagerLink:{type:Object,required:!0}},computed:{showClearCompletedButton:function(){return some_default()(this.tasks,constants.l)},totalTasks:function(){return this.tasks.length},clearableTasks:function(){return this.tasks.filter((function(t){return Object(constants.l)(t)}))},inProgressTasks:function(){return this.tasks.filter((function(t){return!Object(constants.l)(t)}))},progress:function(){return(this.clearableTasks.length+sumBy_default()(this.inProgressTasks,"percentage"))/this.totalTasks*100},tasksString:function(){return this.$tr("someTasksComplete",{done:this.clearableTasks.length,total:this.totalTasks})}},$trs:{someTasksComplete:"{done, number} of {total, plural, one {{total, number} task completed} other {{total, number} tasks completed}}",taskManagerLink:"View task manager"}},TasksBar=(__webpack_require__(331),normalizeComponent(ManageContentPage_TasksBarvue_type_script_lang_js_,(function(){var _vm=this,_h=_vm.$createElement,_c=_vm._self._c||_h;return _c("div",{staticClass:"progress-bar"},[_vm.totalTasks>0?_c("p",[_vm._v("\n    "+_vm._s(_vm.tasksString)+"\n  ")]):_vm._e(),_c("p",[_vm.totalTasks>0?_c("KLinearLoader",{staticClass:"k-linear-loader",style:{backgroundColor:_vm.$themeTokens.fineLine},attrs:{delay:!1,progress:_vm.progress,type:"determinate"}}):_vm._e()],1),_c("p",[_vm.showClearCompletedButton?_c("KButton",{attrs:{appearance:"basic-link",text:_vm.getTaskString("clearCompletedTasksAction")},on:{click:function($event){return _vm.$emit("clearall")}}}):_vm._e(),_c("span",[_vm._v("  ")]),_c("KRouterLink",{attrs:{appearance:"basic-link",text:_vm.$tr("taskManagerLink"),to:_vm.taskManagerLink}})],1)])}),[],!1,null,"c1af3a94",null).exports),views_HeaderWithOptionsvue_type_script_lang_js_={name:"HeaderWithOptions",mixins:[external_kolibriCoreAppGlobal_coreVue_mixins_responsiveWindowMixin_default.a],props:{headerText:{type:String,required:!1}}},HeaderWithOptions=(__webpack_require__(332),normalizeComponent(views_HeaderWithOptionsvue_type_script_lang_js_,(function(){var _h=this.$createElement,_c=this._self._c||_h;return _c("KGrid",[_c("KGridItem",{attrs:{layout8:{span:4},layout12:{span:6}}},[this._t("header",[_c("h1",[this._v(this._s(this.headerText))])])],2),_c("KGridItem",{staticClass:"buttons",style:{padding:this.windowIsSmall?"0 8px 16px":"0"},attrs:{layout8:{span:4,alignment:"right"},layout12:{span:6,alignment:"right"}}},[this._t("options")],2)],1)}),[],!1,null,"64b89c49",null).exports),FacilitiesPage_RemoveFacilityModalvue_type_script_lang_js_={name:"RemoveFacilityModal",components:{},mixins:[external_kolibriCoreAppGlobal_coreVue_mixins_commonCoreStrings_default.a,external_kolibriCoreAppGlobal_coreVue_mixins_commonSyncElements_default.a],props:{facility:{type:Object,required:!0}},data:function(){return{confirmationChecked:!1}},computed:{header:function(){return this.canRemove?this.$tr("removeFacilityHeader"):this.$tr("cannotRemoveFacilityHeader")},submitText:function(){return this.canRemove?this.coreString("removeAction"):null},submitDisabled:function(){return!this.canRemove||!this.confirmationChecked},cancelText:function(){return this.canRemove?this.coreString("cancelAction"):this.coreString("closeAction")},facilityName:function(){return this.formatNameAndId(this.facility.name,this.facility.id)},canRemove:function(){return this.$store.state.core.session.facility_id!==this.facility.id}},methods:{handleSubmit:function(){var this$1=this;this.canRemove?external_kolibriCoreAppGlobal_resources_.FacilityTaskResource.deleteFacility(this.facility.id).then((function(data){this$1.$emit("success",data.id)})).catch((function(error){this$1.$store.dispatch("handleApiError",error)})):this.$emit("cancel")}},$trs:{removeFacilityHeader:{message:"Remove facility from this device",context:"Title of the modal window where the user confirms the removal of a facility from the device"},cannotRemoveFacilityHeader:{message:"Cannot remove facility",context:"Title of the modal window if user is unable to remove the facility"},willLoseAccessWarning:{message:"You will lose access to all '{facilityName}' data.",context:""},facilityReloadExplanation:{message:"If you have synced this facility to Kolibri Data Portal or to another device on your local network, you may be able to load it back to this device.",context:"Modal description text when removing a facility that has previously been synced"},removingFacilityConfirmation:{message:"I understand the consequences of removing the facility",context:""},cannotRemoveOwnFacilityExplanation:{message:"Super admins cannot remove facilities they are a member of.",context:"Modal description text"},signInAsOtherAdminExplanation:{message:"You cannot remove the facility that your user is a member of. To remove '{facilityName}', create a super admin in a different facility and sign in as them.",context:"Modal description text"}}},RemoveFacilityModal=(__webpack_require__(333),normalizeComponent(FacilitiesPage_RemoveFacilityModalvue_type_script_lang_js_,(function(){var _vm=this,_h=_vm.$createElement,_c=_vm._self._c||_h;return _c("KModal",{attrs:{title:_vm.header,cancelText:_vm.cancelText,submitText:_vm.submitText,submitDisabled:_vm.submitDisabled},on:{submit:_vm.handleSubmit,cancel:function($event){return _vm.$emit("cancel")}}},[_vm.canRemove?[_c("p",{staticClass:"warning"},[_vm._v("\n      "+_vm._s(_vm.$tr("willLoseAccessWarning",{facilityName:_vm.facilityName}))+"\n    ")]),_c("p",[_vm._v("\n      "+_vm._s(_vm.$tr("facilityReloadExplanation"))+"\n    ")]),_c("KCheckbox",{attrs:{checked:_vm.confirmationChecked,label:_vm.$tr("removingFacilityConfirmation")},on:{change:function($event){_vm.confirmationChecked=$event}}})]:[_c("p",[_vm._v("\n      "+_vm._s(_vm.$tr("cannotRemoveOwnFacilityExplanation"))+"\n    ")]),_c("p",[_vm._v("\n      "+_vm._s(_vm.$tr("signInAsOtherAdminExplanation",{facilityName:_vm.facilityName}))+"\n    ")])]],2)}),[],!1,null,"73ca346e",null).exports),SyncAllFacilitiesModal=normalizeComponent({name:"SyncAllFacilitiesModal",mixins:[external_kolibriCoreAppGlobal_coreVue_mixins_commonCoreStrings_default.a],props:{facilities:{type:Array,required:!0}},computed:{submitDisabled:function(){return this.noRegisteredFacilities},noRegisteredFacilities:function(){return!some_default()(this.facilities,(function(fac){return fac.dataset.registered}))}},methods:{handleSubmit:function(){if(!this.submitDisabled)return this.startSyncAllTask()},startSyncAllTask:function(){var this$1=this;return external_kolibriCoreAppGlobal_resources_.FacilityTaskResource.dataportalbulksync().then((function(){this$1.$emit("success")})).catch((function(error){this$1.$store.dispatch("handleApiError",error)}))}},$trs:{syncAllFacilityDataHeader:{message:"Sync all facility data",context:"Title of the modal window"},syncExplanation:{message:"This will sync all registered facilities on this device to Kolibri Data Portal.",context:"Modal description text"},mustBeConnectedToInternet:{message:"You must be connected to the internet.",context:"Modal description text"},currentlyOfflineTooltip:{message:"You are currently offline",context:"Floating notification message that appears over the 'Sync' button and indicates why is it not active"},noFacilitiesTooltip:{message:"There are no registered facilities on this device",context:"Floating notification message that appears over the 'Sync' button and indicates why is it not active"}}},(function(){var _vm=this,_h=_vm.$createElement,_c=_vm._self._c||_h;return _c("KModal",{attrs:{title:_vm.$tr("syncAllFacilityDataHeader")},on:{submit:_vm.handleSubmit,cancel:function($event){return _vm.$emit("cancel")}},scopedSlots:_vm._u([{key:"actions",fn:function(){return[_c("KButtonGroup",[_c("KButton",{attrs:{text:_vm.coreString("cancelAction")},on:{click:function($event){return _vm.$emit("cancel")}}}),_c("span",{ref:"syncbutton"},[_c("KButton",{attrs:{text:_vm.coreString("syncAction"),disabled:_vm.submitDisabled,primary:"",type:"submit"}})],1),_vm.submitDisabled?_c("KTooltip",{attrs:{reference:"syncbutton",refs:_vm.$refs}},[_vm.noRegisteredFacilities?_c("span",[_vm._v("\n          "+_vm._s(_vm.$tr("noFacilitiesTooltip"))+"\n        ")]):_c("span",[_vm._v("\n          "+_vm._s(_vm.$tr("currentlyOfflineTooltip"))+"\n        ")])]):_vm._e()],1)]},proxy:!0}])},[_c("p",[_vm._v("\n    "+_vm._s(_vm.$tr("syncExplanation"))+"\n  ")]),_c("p",[_vm._v("\n    "+_vm._s(_vm.$tr("mustBeConnectedToInternet"))+"\n  ")])])}),[],!1,null,"5f95c352",null).exports,SelectFacilityModal=normalizeComponent({name:"SelectFacilityModal",components:{RadioButtonGroup:external_kolibriCoreAppGlobal_coreVue_componentSets_sync_.RadioButtonGroup},mixins:[external_kolibriCoreAppGlobal_coreVue_mixins_commonCoreStrings_default.a,external_kolibriCoreAppGlobal_coreVue_mixins_commonSyncElements_default.a],props:{device:{type:Object,required:!0}},data:function(){return{facilities:[],selectedId:""}},computed:{deviceInfoMsg:function(){return this.coreString("commaSeparatedPair",{item1:this.formatNameAndId(this.device.name,this.device.id),item2:this.device.baseurl})}},beforeMount:function(){var this$1=this;this.fetchNetworkLocationFacilities(this.device.id).then((function(data){this$1.facilities=[].concat(data.facilities)}))},methods:{handleSubmit:function(){var this$1=this,selected=this.facilities.find((function(fac){return fac.id===this$1.selectedId}));this.$emit("submit",selected)}}},(function(){var _vm=this,_h=_vm.$createElement,_c=_vm._self._c||_h;return _c("KModal",{attrs:{title:_vm.getCommonSyncString("selectFacilityTitle"),submitText:_vm.coreString("continueAction"),cancelText:_vm.coreString("cancelAction"),submitDisabled:!_vm.selectedId},on:{submit:_vm.handleSubmit,cancel:function($event){return _vm.$emit("cancel")}}},[_vm._t("description",[_vm._v("\n    "+_vm._s(_vm.deviceInfoMsg)+"\n  ")]),_c("RadioButtonGroup",{attrs:{items:_vm.facilities,currentValue:_vm.selectedId,itemLabel:function(fac){return _vm.formatNameAndId(fac.name,fac.id)},itemValue:function(fac){return fac.id}},on:{"update:currentValue":function($event){_vm.selectedId=$event},"update:current-value":function($event){_vm.selectedId=$event}}})],2)}),[],!1,null,"01e5da94",null).exports,FacilityAdminCredentialsModal=normalizeComponent({name:"FacilityAdminCredentialsModal",components:{FacilityAdminCredentialsForm:external_kolibriCoreAppGlobal_coreVue_componentSets_sync_.FacilityAdminCredentialsForm},mixins:[external_kolibriCoreAppGlobal_coreVue_mixins_commonCoreStrings_default.a,external_kolibriCoreAppGlobal_coreVue_mixins_commonSyncElements_default.a],props:{device:{type:Object,required:!0},facility:{type:Object,required:!0}},data:function(){return{formDisabled:!1}},computed:{},methods:{handleSubmit:function(){var this$1=this;this.formDisabled=!0,this.$refs.credentialsForm.startImport().then((function(taskId){taskId?this$1.$emit("submit",taskId):this$1.formDisabled=!1}))}}},(function(){var _vm=this,_h=_vm.$createElement,_c=_vm._self._c||_h;return _c("KModal",{attrs:{title:_vm.getCommonSyncString("adminCredentialsTitle"),submitText:_vm.coreString("continueAction"),cancelText:_vm.coreString("cancelAction"),submitDisabled:_vm.formDisabled},on:{submit:_vm.handleSubmit,cancel:function($event){return _vm.$emit("cancel")}}},[_c("FacilityAdminCredentialsForm",{ref:"credentialsForm",attrs:{facility:_vm.facility,device:_vm.device,disabled:_vm.formDisabled}})],1)}),[],!1,null,"2f82176c",null).exports,ImportFacilityModalGroupvue_type_script_lang_js_Steps=Object.freeze({SELECT_ADDRESS:"SELECT_ADDRESS",SELECT_FACILITY:"SELECT_FACILITY",CREDENTIALS:"CREDENTIALS"}),ImportFacilityModalGroup=normalizeComponent({name:"ImportFacilityModalGroup",components:{SelectAddressModalGroup:external_kolibriCoreAppGlobal_coreVue_componentSets_sync_.SelectAddressModalGroup,SelectFacilityModal:SelectFacilityModal,FacilityAdminCredentialsModal:FacilityAdminCredentialsModal},mixins:[external_kolibriCoreAppGlobal_coreVue_mixins_commonCoreStrings_default.a,external_kolibriCoreAppGlobal_coreVue_mixins_commonSyncElements_default.a],data:function(){return{step:ImportFacilityModalGroupvue_type_script_lang_js_Steps.SELECT_ADDRESS,facility:{},device:{}}},computed:{atSelectAddress:function(){return this.step===ImportFacilityModalGroupvue_type_script_lang_js_Steps.SELECT_ADDRESS},atSelectFacility:function(){return this.step===ImportFacilityModalGroupvue_type_script_lang_js_Steps.SELECT_FACILITY},atCredentials:function(){return this.step===ImportFacilityModalGroupvue_type_script_lang_js_Steps.CREDENTIALS}},methods:{handleAddressSubmit:function(address){this.device={id:address.id,name:address.nickname||address.device_name,baseurl:address.base_url},this.step=ImportFacilityModalGroupvue_type_script_lang_js_Steps.SELECT_FACILITY},handleFacilitySubmit:function(facility){this.facility=facility,this.step=ImportFacilityModalGroupvue_type_script_lang_js_Steps.CREDENTIALS},handleCredentialsSubmit:function(taskId){this.$emit("success",taskId)},closeModal:function(){this.$emit("cancel")}}},(function(){var _vm=this,_h=_vm.$createElement,_c=_vm._self._c||_h;return _c("div",[_vm.atSelectAddress?_c("SelectAddressModalGroup",{on:{submit:_vm.handleAddressSubmit,cancel:_vm.closeModal}}):_vm.atSelectFacility?_c("SelectFacilityModal",{attrs:{device:_vm.device},on:{submit:_vm.handleFacilitySubmit,cancel:_vm.closeModal}}):_vm.atCredentials?_c("FacilityAdminCredentialsModal",{attrs:{facility:_vm.facility,device:_vm.device},on:{submit:_vm.handleCredentialsSubmit,cancel:_vm.closeModal}}):_vm._e()],1)}),[],!1,null,"72f61ddb",null).exports;function facilityTasksQueue_isSyncTask(task){return task.type===constants.i.SYNCDATAPORTAL||task.type===constants.i.SYNCPEERFULL}function taskFacilityMatch(task,facility){return task.facility===facility.id}var facilityTasksQueue={data:function(){return{facilityTasks:[],isPolling:!0}},methods:{isSyncTask:facilityTasksQueue_isSyncTask,pollFacilityTasks:function(){var this$1=this;external_kolibriCoreAppGlobal_resources_.FacilityTaskResource.fetchCollection({force:!0}).then((function(tasks){this$1.facilityTasks=tasks,this$1.isPolling&&setTimeout((function(){return this$1.pollFacilityTasks()}),2e3)}))},manageFacilityTask:function(action,task){return"cancel"===action?external_kolibriCoreAppGlobal_resources_.FacilityTaskResource.canceltask(task.id):"clear"===action?external_kolibriCoreAppGlobal_resources_.FacilityTaskResource.cleartask(task.id):"retry"===action?task.type===constants.i.SYNCDATAPORTAL?function(task){return external_kolibriCoreAppGlobal_resources_.FacilityTaskResource.cleartask(task.id).then((function(){return external_kolibriCoreAppGlobal_resources_.FacilityTaskResource.dataportalsync({id:task.facility,name:task.facility_name})}))}(task):task.type===constants.i.SYNCPEERFULL?function(task){var retryData={facility:task.facility,facility_name:task.facility_name,device_name:task.device_name,device_id:task.device_id,baseurl:task.baseurl};return external_kolibriCoreAppGlobal_resources_.FacilityTaskResource.cleartask(task.id).then((function(){return external_kolibriCoreAppGlobal_resources_.FacilityTaskResource.startpeerfacilitysync(retryData)}))}(task):Promise.resolve():Promise.resolve()},clearCompletedFacilityTasks:function(){return external_kolibriCoreAppGlobal_resources_.FacilityTaskResource.deleteFinishedTasks()}},beforeMount:function(){this.pollFacilityTasks()},beforeDestroy:function(){this.isPolling=!1},computed:{facilityIsSyncing:function(){return function(facility){var syncTasks=this.facilityTasks.filter((function(t){return facilityTasksQueue_isSyncTask(t)&&!Object(constants.l)(t)}));return Boolean(syncTasks.find((function(task){return taskFacilityMatch(task,facility)})))}},facilityIsDeleting:function(){return function(facility){return Boolean(this.facilityTasks.find((function(task){return task.type===constants.i.DELETEFACILITY&&taskFacilityMatch(task,facility)&&!Object(constants.l)(task.status)})))}}}},Options=Object.freeze({REGISTER:"REGISTER",REMOVE:"REMOVE"}),views_FacilitiesPagevue_type_script_lang_js_={name:"FacilitiesPage",metaInfo:function(){return{title:this.coreString("facilitiesLabel")}},components:{ConfirmationRegisterModal:external_kolibriCoreAppGlobal_coreVue_componentSets_sync_.ConfirmationRegisterModal,CoreTable:external_kolibriCoreAppGlobal_coreVue_components_CoreTable_default.a,HeaderWithOptions:HeaderWithOptions,FacilityNameAndSyncStatus:external_kolibriCoreAppGlobal_coreVue_componentSets_sync_.FacilityNameAndSyncStatus,ImportFacilityModalGroup:ImportFacilityModalGroup,RegisterFacilityModal:external_kolibriCoreAppGlobal_coreVue_componentSets_sync_.RegisterFacilityModal,RemoveFacilityModal:RemoveFacilityModal,SyncFacilityModalGroup:external_kolibriCoreAppGlobal_coreVue_componentSets_sync_.SyncFacilityModalGroup,SyncAllFacilitiesModal:SyncAllFacilitiesModal,TasksBar:TasksBar},mixins:[external_kolibriCoreAppGlobal_coreVue_mixins_commonCoreStrings_default.a,external_kolibriCoreAppGlobal_coreVue_mixins_commonSyncElements_default.a,facilityTasksQueue],props:{},data:function(){return{showSyncAllModal:!1,showImportModal:!1,facilities:[],facilityForSync:null,facilityForRemoval:null,facilityForRegister:null,kdpProject:null,taskIdsToWatch:[]}},watch:{facilityTasks:function(newTasks){var this$1=this,loop=function(index){var task=newTasks[index];if(this$1.taskIdsToWatch.includes(task.id))if(task.status===constants.h.COMPLETED)this$1.fetchFacilites(),task.type===constants.i.DELETEFACILITY&&this$1.showFacilityRemovedSnackbar(task.facility_name),this$1.taskIdsToWatch=this$1.taskIdsToWatch.filter((function(x){return x!==task.id}));else if(this$1.isSyncTask(task)&&task.status===constants.h.FAILED){var match=this$1.facilities.find((function(ref){return ref.id===task.facility}));match&&this$1.$set(match,"syncHasFailed",!0)}};for(var index in newTasks)loop(index)}},beforeMount:function(){this.fetchFacilites()},methods:{facilityOptions:function(facility){return[{label:this.coreString("registerAction"),value:Options.REGISTER,disabled:facility.dataset.registered},{label:this.coreString("removeAction"),value:Options.REMOVE}]},handleOptionSelect:function(option,facility){option===Options.REMOVE?this.facilityForRemoval=facility:option===Options.REGISTER&&(this.facilityForRegister=facility)},fetchFacilites:function(){var this$1=this;return external_kolibriCoreAppGlobal_resources_.FacilityResource.fetchCollection({force:!0}).then((function(facilities){this$1.facilities=[].concat(facilities)}))},handleClickClearAll:function(){Promise.all([this.fetchFacilites(),this.clearCompletedFacilityTasks()])},handleValidateSuccess:function(ref){var name=ref.name,token=ref.token;this.kdpProject={name:name,token:token}},handleConfirmationSuccess:function(){this.fetchFacilites(),this.clearRegistrationState()},clearRegistrationState:function(){this.facilityForRegister=null,this.kdpProject=null},handleStartSyncSuccess:function(taskId){this.taskIdsToWatch.push(taskId),this.facilityForSync=null},handleSyncAllSuccess:function(){this.showSyncAllModal=!1},handleStartImportSuccess:function(){this.$router.push({name:"FACILITIES_TASKS_PAGE"}),this.showImportModal=!1},showFacilityRemovedSnackbar:function(facilityName){this.$store.dispatch("createSnackbar",this.$tr("facilityRemovedSnackbar",{facilityName:facilityName}))},handleRemoveSuccess:function(taskId){this.taskIdsToWatch.push(taskId),this.facilityForRemoval=null}},$trs:{syncAllAction:{message:"Sync all",context:"Label for a button used to synchronize all facilities at once with the data portal"},importFacilityAction:{message:"Import facility",context:"Label for a button used to import a facility on the device"},facilityRemovedSnackbar:{message:"Removed '{facilityName}' from this device",context:"Notification that appears after a facility has been deleted"}}},FacilitiesPage=(__webpack_require__(334),normalizeComponent(views_FacilitiesPagevue_type_script_lang_js_,(function(){var _vm=this,_h=_vm.$createElement,_c=_vm._self._c||_h;return _c("div",[_c("HeaderWithOptions",{attrs:{headerText:_vm.coreString("facilitiesLabel")},scopedSlots:_vm._u([{key:"options",fn:function(){return[_c("KButtonGroup",[_c("KButton",{attrs:{text:_vm.$tr("syncAllAction")},on:{click:function($event){_vm.showSyncAllModal=!0}}}),_c("KButton",{attrs:{text:_vm.$tr("importFacilityAction"),primary:""},on:{click:function($event){_vm.showImportModal=!0}}})],1)]},proxy:!0}])}),_vm.facilityTasks.length>0?_c("TasksBar",{attrs:{tasks:_vm.facilityTasks,taskManagerLink:{name:"FACILITIES_TASKS_PAGE"}},on:{clearall:_vm.handleClickClearAll}}):_vm._e(),_c("CoreTable",[_c("thead",{attrs:{slot:"thead"},slot:"thead"},[_c("tr",[_c("th",[_vm._v(_vm._s(_vm.coreString("facilityLabel")))])])]),_c("tbody",{attrs:{slot:"tbody"},slot:"tbody"},_vm._l(_vm.facilities,(function(facility,idx){return _c("tr",{key:idx},[_c("td",[_c("FacilityNameAndSyncStatus",{attrs:{facility:facility,isSyncing:_vm.facilityIsSyncing(facility),isDeleting:_vm.facilityIsDeleting(facility),syncHasFailed:facility.syncHasFailed}})],1),_c("td",{staticClass:"button-col"},[_c("KButtonGroup",[_c("KButton",{attrs:{text:_vm.coreString("syncAction"),appearance:"flat-button"},on:{click:function($event){_vm.facilityForSync=facility}}}),_c("KDropdownMenu",{attrs:{text:_vm.coreString("optionsLabel"),options:_vm.facilityOptions(facility),appearance:"flat-button"},on:{select:function($event){return _vm.handleOptionSelect($event.value,facility)}}})],1)],1)])})),0)]),Boolean(_vm.facilityForRemoval)?_c("RemoveFacilityModal",{attrs:{facility:_vm.facilityForRemoval},on:{success:_vm.handleRemoveSuccess,cancel:function($event){_vm.facilityForRemoval=null}}}):_vm._e(),_vm.showSyncAllModal?_c("SyncAllFacilitiesModal",{attrs:{facilities:_vm.facilities},on:{success:_vm.handleSyncAllSuccess,cancel:function($event){_vm.showSyncAllModal=!1}}}):_vm._e(),_vm.showImportModal?_c("ImportFacilityModalGroup",{on:{success:_vm.handleStartImportSuccess,cancel:function($event){_vm.showImportModal=!1}}}):_vm._e(),Boolean(_vm.facilityForRegister)?[_vm.kdpProject?_c("ConfirmationRegisterModal",{attrs:{targetFacility:_vm.facilityForRegister,projectName:_vm.kdpProject.name,token:_vm.kdpProject.token},on:{success:_vm.handleConfirmationSuccess,cancel:_vm.clearRegistrationState}}):_c("RegisterFacilityModal",{attrs:{facility:_vm.facilityForRegister},on:{success:_vm.handleValidateSuccess,cancel:_vm.clearRegistrationState}})]:_vm._e(),Boolean(_vm.facilityForSync)?_c("SyncFacilityModalGroup",{attrs:{facilityForSync:_vm.facilityForSync},on:{close:function($event){_vm.facilityForSync=null},success:_vm.handleStartSyncSuccess}}):_vm._e()],2)}),[],!1,null,"f32f3372",null).exports),reverse=__webpack_require__(203),reverse_default=__webpack_require__.n(reverse),typeToTrMap={};typeToTrMap[constants.i.REMOTECONTENTIMPORT]="importChannelPartial",typeToTrMap[constants.i.DISKCONTENTIMPORT]="importChannelPartial",typeToTrMap[constants.i.REMOTEIMPORT]="importChannelWhole",typeToTrMap[constants.i.DISKIMPORT]="importChannelWhole",typeToTrMap[constants.i.DISKEXPORT]="exportChannelWhole",typeToTrMap[constants.i.DISKCONTENTEXPORT]="exportChannelPartial",typeToTrMap[constants.i.DELETECHANNEL]="deleteChannelWhole",typeToTrMap[constants.i.DELETECONTENT]="deleteChannelPartial",typeToTrMap[constants.i.UPDATECHANNEL]="updatingChannelVersion";var typeToTrPrefixMap={};typeToTrPrefixMap[constants.i.REMOTECONTENTIMPORT]="import",typeToTrPrefixMap[constants.i.DISKCONTENTIMPORT]="import",typeToTrPrefixMap[constants.i.UPDATECHANNEL]="import",typeToTrPrefixMap[constants.i.REMOTEIMPORT]="import",typeToTrPrefixMap[constants.i.DISKIMPORT]="import",typeToTrPrefixMap[constants.i.DISKEXPORT]="export",typeToTrPrefixMap[constants.i.DISKCONTENTEXPORT]="export",typeToTrPrefixMap[constants.i.DELETECHANNEL]="delete",typeToTrPrefixMap[constants.i.DELETECONTENT]="delete";var statusToTrMap={};statusToTrMap[constants.h.COMPLETED]="statusComplete",statusToTrMap[constants.h.FAILED]="statusFailed",statusToTrMap[constants.h.RUNNING]="statusInProgress",statusToTrMap[constants.h.QUEUED]="statusInQueue",statusToTrMap[constants.h.CANCELED]="statusCanceled",statusToTrMap[constants.h.CANCELING]="statusCanceling";var obj,obj$1,ManageTasksPage_TaskPanelvue_type_script_lang_js_={name:"TaskPanel",mixins:[external_kolibriCoreAppGlobal_coreVue_mixins_commonCoreStrings_default.a,external_kolibriCoreAppGlobal_coreVue_mixins_responsiveWindowMixin_default.a],props:{task:{type:Object,required:!0}},computed:{buttonLabel:function(){return this.taskIsClearable?this.coreString("clearAction"):this.coreString("cancelAction")},taskIsRunning:function(){return this.task.status===constants.h.RUNNING},taskIsCompleted:function(){return this.task.status===constants.h.COMPLETED},taskIsCanceling:function(){return this.task.status===constants.h.CANCELING},taskIsCanceled:function(){return this.task.status===constants.h.CANCELED},taskIsFailed:function(){return this.task.status===constants.h.FAILED||this.taskIsCanceled},taskIsCancellable:function(){return this.task.cancellable},taskIsClearable:function(){return Object(constants.l)(this.task)},taskPercentage:function(){return!1===this.task.database_ready?null:this.task.percentage},loaderType:function(){return null===this.taskPercentage?"indeterminate":"determinate"},descriptionText:function(){var trName=typeToTrMap[this.task.type];return this.$tr(trName,{channelName:this.task.channel_name||this.$tr("unknownChannelName"),newVersion:this.task.new_version})},sizeText:function(){var ref=this.task,file_size=ref.file_size,total_resources=ref.total_resources;return file_size&&total_resources?this.$tr("numResourcesAndSize",{numResources:total_resources,bytesText:external_kolibriCoreAppGlobal_utils_bytesForHumans_default()(file_size)}):""},finishedSizeText:function(){var ref=this.task,transferred_file_size=ref.transferred_file_size,transferred_resources=ref.transferred_resources,file_size=ref.file_size,total_resources=ref.total_resources;if((this.task.type===constants.i.DISKEXPORT||this.task.type===constants.i.DISKCONTENTEXPORT)&&this.task.status===constants.h.CANCELED)return"";if(file_size&&total_resources){var trPrefix=typeToTrPrefixMap[this.task.type];return transferred_file_size&&transferred_resources&&(transferred_file_size<file_size||transferred_resources<total_resources)?this.$tr(trPrefix+"PartialRatio",{currentResources:transferred_resources,totalResources:total_resources,currentSize:external_kolibriCoreAppGlobal_utils_bytesForHumans_default()(transferred_file_size),totalSize:external_kolibriCoreAppGlobal_utils_bytesForHumans_default()(file_size)}):this.$tr(trPrefix+"Success",{totalResources:total_resources,totalSize:external_kolibriCoreAppGlobal_utils_bytesForHumans_default()(file_size)})}return""},statusText:function(){var trName=statusToTrMap[this.task.status];return this.$tr(trName)},startedByText:function(){return this.$tr("startedByUser",{user:this.task.started_by_username||this.$tr("unknownUsername")})}},methods:{handleClick:function(){this.taskIsCompleted||this.taskIsFailed?this.$emit("clickclear"):this.$emit("clickcancel")}},$trs:{startedByUser:{message:"Started by '{user}'",context:"\nRefers to the content management *task*.\n"},numResourcesAndSize:"{numResources} {numResources, plural, one {resource} other {resources}} ({bytesText})",statusInProgress:"In-progress",statusInQueue:"Waiting",statusComplete:{message:"Finished",context:"\nLabel indicating that the *task* was completed successfully. \n\n"},statusFailed:"Failed",statusCanceled:"Canceled",statusCanceling:"Canceling",importChannelWhole:"Import '{channelName}'",importChannelPartial:"Import resources from '{channelName}'",exportChannelWhole:"Export '{channelName}'",exportChannelPartial:"Export resources from '{channelName}'",deleteChannelWhole:"Delete '{channelName}'",deleteChannelPartial:"Delete resources from '{channelName}'",updatingChannelVersion:"Update {channelName} to version {newVersion}",unknownUsername:"Unknown user",unknownChannelName:"(Channel name unavailable)",stopAction:"Stop",importPartialRatio:"{currentResources} of {totalResources} {totalResources, plural, one {resource} other {resources}} ({currentSize} of {totalSize}) imported",exportPartialRatio:"{currentResources} of {totalResources} {totalResources, plural, one {resource} other {resources}} ({currentSize} of {totalSize}) exported",deletePartialRatio:"{currentResources} of {totalResources} {totalResources, plural, one {resource} other {resources}} ({currentSize} of {totalSize}) deleted",importSuccess:"{totalResources} {totalResources, plural, one {resource} other {resources}} ({totalSize}) successfully imported",exportSuccess:"{totalResources} {totalResources, plural, one {resource} other {resources}} ({totalSize}) successfully exported",deleteSuccess:"{totalResources} {totalResources, plural, one {resource} other {resources}} ({totalSize}) successfully deleted"}},TaskPanel=(__webpack_require__(361),normalizeComponent(ManageTasksPage_TaskPanelvue_type_script_lang_js_,(function(){var _vm=this,_h=_vm.$createElement,_c=_vm._self._c||_h;return _c("div",{staticClass:"task-panel",class:{"task-panel-sm":_vm.windowIsSmall}},[_c("div",{staticClass:"icon"},[_c("transition",{attrs:{mode:"out-in"}},[_vm.taskIsFailed?_c("KIcon",{style:{fill:_vm.$themeTokens.error},attrs:{icon:"helpNeeded"}}):_vm.taskIsCompleted?_c("KIcon",{style:{fill:_vm.$themeTokens.success},attrs:{icon:"done"}}):_vm.taskIsRunning?_c("KCircularLoader",{attrs:{size:24,stroke:5}}):_c("KIcon",{style:{fill:_vm.$themeTokens.annotation},attrs:{icon:"inProgress"}})],1)],1),_c("div",{staticClass:"details"},[_c("p",{staticClass:"details-status",style:{color:_vm.$themeTokens.annotation}},[_vm._v("\n      "+_vm._s(_vm.statusText)+"\n    ")]),_c("h2",{staticClass:"details-description"},[_vm._v("\n      "+_vm._s(_vm.descriptionText)+"\n    ")]),_vm.taskIsRunning||_vm.taskIsCanceling?_c("div",{staticClass:"details-progress-bar"},[_vm.taskIsRunning?[_c("KLinearLoader",{staticClass:"k-linear-loader",style:{backgroundColor:_vm.$themeTokens.fineLine},attrs:{type:_vm.loaderType,delay:!1,progress:100*_vm.task.percentage}}),_vm.taskPercentage?_c("span",{staticClass:"details-percentage"},[_vm._v("\n          "+_vm._s(_vm.$formatNumber(_vm.taskPercentage,{style:"percent"}))+"\n        ")]):_vm._e()]:_vm.taskIsCanceling?[_c("KLinearLoader",{staticClass:"k-linear-loader",style:{backgroundColor:_vm.$themeTokens.fineLine},attrs:{type:"indeterminate",delay:!1}})]:_vm._e()],2):_vm._e(),_vm.taskIsCompleted||_vm.taskIsCanceled?[_vm.finishedSizeText?_c("p",{staticClass:"details-size"},[_vm._v("\n        "+_vm._s(_vm.finishedSizeText)+"\n      ")]):_vm._e()]:[_vm.sizeText?_c("p",{staticClass:"details-size"},[_vm._v("\n        "+_vm._s(_vm.sizeText)+"\n      ")]):_vm._e()],_c("p",{staticClass:"details-startedby",style:{color:_vm.$themeTokens.annotation}},[_vm._v("\n      "+_vm._s(_vm.startedByText)+"\n    ")])],2),_c("div",{staticClass:"buttons",class:{"button-lift":_vm.taskIsRunning}},[_vm.taskIsCancellable||_vm.taskIsClearable?_c("KButton",{attrs:{disabled:_vm.taskIsCanceling,text:_vm.buttonLabel,appearance:"flat-button"},on:{click:_vm.handleClick}}):_vm._e()],1)])}),[],!1,null,"390bea63",null).exports),ManageTasksPage_BackLinkvue_type_script_lang_js_={name:"BackLink",props:{text:{type:String,required:!0},to:{type:Object,required:!0}}},BackLink=(__webpack_require__(362),normalizeComponent(ManageTasksPage_BackLinkvue_type_script_lang_js_,(function(){var _h=this.$createElement,_c=this._self._c||_h;return _c("span",{staticClass:"offset"},[_c("KRouterLink",{attrs:{icon:"back",text:this.text,color:this.$themeTokens.primary,to:this.to}})],1)}),[],!1,null,"26953346",null).exports),views_ManageTasksPagevue_type_script_lang_js_={name:"ManageTasksPage",metaInfo:function(){return{title:this.$tr("appBarTitle")}},components:{TaskPanel:TaskPanel,BackLink:BackLink},mixins:[external_kolibriCoreAppGlobal_coreVue_mixins_responsiveWindowMixin_default.a,external_kolibriCoreAppGlobal_coreVue_mixins_commonCoreStrings_default.a],data:function(){return{loading:!0}},computed:Object.assign({},Object(external_kolibriCoreAppGlobal_lib_vuex_.mapGetters)("manageContent",["managedTasks"]),{sortedTaskList:function(){return reverse_default()(this.managedTasks)},showClearCompletedButton:function(){return some_default()(this.managedTasks,constants.l)},homeRoute:function(){return constants.g.MANAGE_CONTENT_PAGE}}),watch:{managedTasks:function(val){val.length>0&&(this.loading=!1)}},mounted:function(){var this$1=this;0===this.managedTasks.length&&setTimeout((function(){this$1.loading=!1}),2e3)},methods:{handleClickClear:function(task){external_kolibriCoreAppGlobal_resources_.TaskResource.deleteFinishedTask(task.id).catch((function(){}))},handleClickCancel:function(task){external_kolibriCoreAppGlobal_resources_.TaskResource.cancelTask(task.id)},handleClickClearAll:function(){external_kolibriCoreAppGlobal_resources_.TaskResource.deleteFinishedTasks()}},$trs:{backToChannelsAction:"Back to channels",tasksHeader:"Tasks",appBarTitle:"Task manager",emptyTasksMessage:"There are no tasks to display",clearCompletedAction:{message:"Clear completed",context:"\nButton on the task manager page.\nWhen pressed it will clear all the completed tasks from the list.\n\n\n"}}},ManageTasksPage=(__webpack_require__(363),normalizeComponent(views_ManageTasksPagevue_type_script_lang_js_,(function(){var _vm=this,_h=_vm.$createElement,_c=_vm._self._c||_h;return _c("div",[_c("p",[_c("BackLink",{attrs:{to:_vm.$router.getRoute(_vm.homeRoute),text:_vm.$tr("backToChannelsAction")}})],1),_c("KGrid",[_c("KGridItem",{attrs:{layout8:{span:5},layout12:{span:8}}},[_c("h1",[_vm._v("\n        "+_vm._s(_vm.$tr("tasksHeader"))+"\n      ")])]),_c("KGridItem",{attrs:{layout8:{span:3,alignment:"right"},layout12:{span:4,alignment:"right"}}},[_vm.showClearCompletedButton?_c("KButton",{class:{"button-offset":_vm.windowIsLarge},attrs:{text:_vm.$tr("clearCompletedAction")},on:{click:_vm.handleClickClearAll}}):_vm._e()],1)],1),_vm.loading?_c("KLinearLoader",{attrs:{delay:!1,type:"indeterminate"}}):_vm._e(),_vm.loading||0!==_vm.managedTasks.length?_vm._e():_c("p",{staticClass:"empty-tasks-message"},[_vm._v("\n    "+_vm._s(_vm.$tr("emptyTasksMessage"))+"\n  ")]),_c("transition-group",{staticClass:"task-panels",attrs:{name:"fade"}},_vm._l(_vm.sortedTaskList,(function(task){return _c("TaskPanel",{key:task.id,staticClass:"task-panel",style:{borderBottomColor:_vm.$themePalette.grey.v_200},attrs:{task:task},on:{clickclear:function($event){return _vm.handleClickClear(task)},clickcancel:function($event){return _vm.handleClickCancel(task)}}})})),1)],1)}),[],!1,null,"b583d0ce",null).exports),SyncTaskStatuses_SESSION_CREATION="SESSION_CREATION",SyncTaskStatuses_REMOTE_QUEUING="REMOTE_QUEUING",SyncTaskStatuses_PULLING="PULLING",SyncTaskStatuses_LOCAL_DEQUEUING="LOCAL_DEQUEUING",SyncTaskStatuses_LOCAL_QUEUING="LOCAL_QUEUING",SyncTaskStatuses_PUSHING="PUSHING",SyncTaskStatuses_REMOTE_DEQUEUING="REMOTE_DEQUEUING",getTaskString=external_kolibriCoreAppGlobal_coreVue_mixins_commonTaskStrings_default.a.methods.getTaskString,coreString=external_kolibriCoreAppGlobal_coreVue_mixins_commonCoreStrings_default.a.methods.coreString,syncTaskStatusToStepMap={};syncTaskStatusToStepMap[SyncTaskStatuses_SESSION_CREATION]=1,syncTaskStatusToStepMap[SyncTaskStatuses_REMOTE_QUEUING]=2,syncTaskStatusToStepMap[SyncTaskStatuses_PULLING]=3,syncTaskStatusToStepMap[SyncTaskStatuses_LOCAL_DEQUEUING]=4,syncTaskStatusToStepMap[SyncTaskStatuses_LOCAL_QUEUING]=5,syncTaskStatusToStepMap[SyncTaskStatuses_PUSHING]=6,syncTaskStatusToStepMap[SyncTaskStatuses_REMOTE_DEQUEUING]=7;var genericStatusToDescriptionMap={};genericStatusToDescriptionMap[constants.h.PENDING]=getTaskString("taskWaitingStatus"),genericStatusToDescriptionMap[constants.h.QUEUED]=getTaskString("taskWaitingStatus"),genericStatusToDescriptionMap[constants.h.COMPLETED]=getTaskString("taskFinishedStatus"),genericStatusToDescriptionMap[constants.h.CANCELED]=getTaskString("taskCanceledStatus"),genericStatusToDescriptionMap[constants.h.CANCELING]=getTaskString("taskCancelingStatus"),genericStatusToDescriptionMap[constants.h.FAILED]=getTaskString("taskFailedStatus");var syncStatusToDescriptionMap=Object.assign({},genericStatusToDescriptionMap,((obj={})[SyncTaskStatuses_SESSION_CREATION]=getTaskString("establishingConnectionStatus"),obj[SyncTaskStatuses_REMOTE_QUEUING]=getTaskString("remotelyPreparingDataStatus"),obj[SyncTaskStatuses_PULLING]=getTaskString("receivingDataStatus"),obj[SyncTaskStatuses_LOCAL_DEQUEUING]=getTaskString("locallyIntegratingDataStatus"),obj[SyncTaskStatuses_LOCAL_QUEUING]=getTaskString("locallyPreparingDataStatus"),obj[SyncTaskStatuses_PUSHING]=getTaskString("sendingDataStatus"),obj[SyncTaskStatuses_REMOTE_DEQUEUING]=getTaskString("remotelyIntegratingDataStatus"),obj));function formatNameWithId(name,id){return coreString("nameWithIdInParens",{name:name,id:id.slice(0,4)})}function syncFacilityTaskDisplayInfo(task){var statusMsg,bytesTransferredMsg="",deviceNameMsg="",facilityName=formatNameWithId(task.facility_name,task.facility);task.type===constants.i.SYNCDATAPORTAL?deviceNameMsg="Kolibri Data Portal":task.device_name&&(deviceNameMsg=coreString("quotedPhrase",{phrase:formatNameWithId(task.device_name,task.device_id)}));var syncStep=syncTaskStatusToStepMap[task.sync_state],statusDescription=syncStatusToDescriptionMap[task.status]||syncStatusToDescriptionMap[task.sync_state]||getTaskString("taskUnknownStatus");statusMsg=task.status===constants.h.COMPLETED?getTaskString("taskFinishedStatus"):syncStep?getTaskString("syncStepAndDescription",{step:syncStep,total:task.type===constants.i.SYNCPEERPULL?4:7,description:statusDescription}):statusDescription,task.status===constants.h.COMPLETED&&(bytesTransferredMsg=getTaskString("syncBytesSentAndReceived",{bytesReceived:external_kolibriCoreAppGlobal_utils_bytesForHumans_default()(task.bytes_received),bytesSent:external_kolibriCoreAppGlobal_utils_bytesForHumans_default()(task.bytes_sent)}));var canClear=Object(constants.l)(task);return{headingMsg:getTaskString("syncFacilityTaskLabel",{facilityName:facilityName}),statusMsg:statusMsg,startedByMsg:getTaskString("taskStartedByLabel",{username:task.started_by_username}),bytesTransferredMsg:bytesTransferredMsg,deviceNameMsg:deviceNameMsg,isRunning:Boolean(syncStep)&&!canClear,canClear:canClear,canCancel:!canClear&&task.cancellable,canRetry:task.status===constants.h.FAILED}}var removeStatusToDescriptionMap=Object.assign({},genericStatusToDescriptionMap,((obj$1={})[constants.h.RUNNING]=getTaskString("removingFacilityStatus"),obj$1));var FacilitiesPage_FacilityTaskPanelDetailsvue_type_script_lang_js_={name:"FacilityTaskPanelDetails",mixins:[external_kolibriCoreAppGlobal_coreVue_mixins_commonCoreStrings_default.a,external_kolibriCoreAppGlobal_coreVue_mixins_responsiveWindowMixin_default.a,external_kolibriCoreAppGlobal_coreVue_mixins_commonTaskStrings_default.a],props:{task:{type:Object,required:!0},statusMsg:{type:String,required:!0},headingMsg:{type:String,required:!0},underHeadingMsg:{type:String,required:!1},underProgressMsg:{type:String,required:!1},showCircularLoader:{type:Boolean,default:!1},loaderType:{type:String,required:!1,validator:function(value){return"determinate"===value||"indeterminate"===value}},buttonSet:{type:String,required:!1,validator:function(value){return""===value||"clear"===value||"cancel"===value||"retry"===value}}},computed:{taskIsCompleted:function(){return this.task.status===constants.h.COMPLETED},taskIsCanceling:function(){return this.task.status===constants.h.CANCELING},taskIsCanceled:function(){return this.task.status===constants.h.CANCELED},taskIsFailed:function(){return this.task.status===constants.h.FAILED||this.taskIsCanceled},taskPercentage:function(){return this.task.percentage},startedByMsg:function(){return this.task.started_by_username?this.getTaskString("taskStartedByLabel",{username:this.task.started_by_username||this.getTaskString("unknownUsername")}):""},statusHidesLoader:function(){return this.task.status===constants.h.PENDING||this.taskIsCompleted||this.taskIsCanceling||this.taskIsFailed}}},FacilityTaskPanelDetails=(__webpack_require__(364),normalizeComponent(FacilitiesPage_FacilityTaskPanelDetailsvue_type_script_lang_js_,(function(){var _vm=this,_h=_vm.$createElement,_c=_vm._self._c||_h;return _c("div",{staticClass:"task-panel",class:{"task-panel-sm":_vm.windowIsSmall}},[_c("div",{staticClass:"icon"},[_c("transition",{attrs:{mode:"out-in"}},[_vm.showCircularLoader||_vm.taskIsCanceling?_c("KCircularLoader",{attrs:{size:24,stroke:5}}):_vm.taskIsFailed?_c("KIcon",{style:{fill:_vm.$themeTokens.error},attrs:{icon:"helpNeeded"}}):_vm.taskIsCompleted?_c("KIcon",{style:{fill:_vm.$themeTokens.success},attrs:{icon:"done"}}):_c("KIcon",{style:{fill:_vm.$themeTokens.annotation},attrs:{icon:"inProgress"}})],1)],1),_c("div",{staticClass:"details"},[_c("p",{staticClass:"details-status",style:{color:_vm.$themeTokens.annotation}},[_vm._v("\n      "+_vm._s(_vm.statusMsg)+"\n    ")]),_vm.headingMsg?_c("h2",{staticClass:"details-description"},[_vm._v("\n      "+_vm._s(_vm.headingMsg)+"\n    ")]):_vm._e(),_vm.underHeadingMsg?_c("p",{staticClass:"fs0"},[_vm._v("\n      "+_vm._s(_vm.underHeadingMsg)+"\n    ")]):_vm._e(),_vm.loaderType&&!_vm.statusHidesLoader?_c("div",{staticClass:"details-progress-bar"},["determinate"===_vm.loaderType?[_c("KLinearLoader",{staticClass:"k-linear-loader",style:{backgroundColor:_vm.$themeTokens.fineLine},attrs:{type:"determinate",delay:!1,progress:100*_vm.task.percentage}}),_vm.taskPercentage?_c("span",{staticClass:"details-percentage"},[_vm._v("\n          "+_vm._s(_vm.$formatNumber(_vm.taskPercentage,{style:"percent"}))+"\n        ")]):_vm._e()]:"indeterminate"===_vm.loaderType?[_c("KLinearLoader",{staticClass:"k-linear-loader",style:{backgroundColor:_vm.$themeTokens.fineLine},attrs:{type:"indeterminate",delay:!1}})]:_vm._e()],2):_vm._e(),_vm.underProgressMsg?_c("p",{staticClass:"fs0"},[_vm._v("\n      "+_vm._s(_vm.underProgressMsg)+"\n    ")]):_vm._e(),_vm.startedByMsg?_c("p",{staticClass:"fs0",style:{color:_vm.$themeTokens.annotation}},[_vm._v("\n      "+_vm._s(_vm.startedByMsg)+"\n    ")]):_vm._e()]),_c("KButtonGroup",{staticClass:"nowrap",class:{"button-lift":Boolean(_vm.loaderType)}},["cancel"===_vm.buttonSet?_c("KButton",{attrs:{disabled:_vm.taskIsCanceling,text:_vm.coreString("cancelAction"),appearance:"flat-button"},on:{click:function($event){return _vm.$emit("cancel")}}}):_vm._e(),"clear"===_vm.buttonSet||"retry"===_vm.buttonSet?_c("KButton",{attrs:{text:_vm.coreString("clearAction"),appearance:"flat-button"},on:{click:function($event){return _vm.$emit("clear")}}}):_vm._e(),"retry"===_vm.buttonSet?_c("KButton",{attrs:{text:_vm.coreString("retryAction"),appearance:"raised-button",primary:""},on:{click:function($event){return _vm.$emit("retry")}}}):_vm._e()],1)],1)}),[],!1,null,"6e0ca715",null).exports),indeterminateSyncStatuses=[SyncTaskStatuses_SESSION_CREATION,SyncTaskStatuses_LOCAL_QUEUING,SyncTaskStatuses_LOCAL_DEQUEUING,SyncTaskStatuses_REMOTE_QUEUING,SyncTaskStatuses_REMOTE_DEQUEUING],FacilityTaskPanel=normalizeComponent({name:"FacilityTaskPanel",components:{FacilityTaskPanelDetails:FacilityTaskPanelDetails},mixins:[external_kolibriCoreAppGlobal_coreVue_mixins_commonCoreStrings_default.a],props:{task:{type:Object,required:!0}},data:function(){return{}},computed:{isSyncTask:function(){return this.task.type===constants.i.SYNCDATAPORTAL||this.task.type===constants.i.SYNCPEERFULL},isDeleteTask:function(){return this.task.type===constants.i.DELETEFACILITY},isSetupImportTask:function(){return!this.task.started_by&&this.task.type===constants.i.SYNCPEERPULL},isImportTask:function(){return this.task.type===constants.i.SYNCPEERPULL},taskInfo:function(){return this.isSetupImportTask?(task=this.task,(info=syncFacilityTaskDisplayInfo(task)).bytesTransferredMsg="",info.headingMsg="",task.status===constants.h.FAILED?(info.deviceNameMsg=getTaskString("importFailedStatus",{facilityName:task.facility_name}),info.statusMsg=getTaskString("taskFailedStatus"),info.isRunning=!1):task.status===constants.h.COMPLETED?(info.deviceNameMsg=getTaskString("importSuccessStatus",{facilityName:task.facility_name}),info.statusMsg=getTaskString("taskFinishedStatus"),info.isRunning=!1):info.deviceNameMsg="",info.canRetry=!1,info.canClear=!1,info):this.isSyncTask||this.isImportTask?syncFacilityTaskDisplayInfo(this.task):this.isDeleteTask?function(task){var facilityName=formatNameWithId(task.facility_name,task.facility),statusDescription=removeStatusToDescriptionMap[task.status]||getTaskString("taskUnknownStatus");return{headingMsg:getTaskString("removeFacilityTaskLabel",{facilityName:facilityName}),statusMsg:statusDescription,startedByMsg:getTaskString("taskStartedByLabel",{username:task.started_by_username}),isRunning:"RUNNING"===task.status,canClear:Object(constants.l)(task),canCancel:!Object(constants.l)(task)&&"RUNNING"!==task.status,canRetry:task.status===constants.h.FAILED}}(this.task):{};var task,info},loaderType:function(){var sync_state=this.task.sync_state;return void 0===sync_state&&(sync_state=""),indeterminateSyncStatuses.find((function(s){return s===sync_state}))?"indeterminate":"determinate"},statusMsg:function(){return this.taskInfo.statusMsg},headingMsg:function(){return this.taskInfo.headingMsg},underHeadingMsg:function(){return this.taskInfo.deviceNameMsg},underProgressMsg:function(){return this.taskInfo.bytesTransferredMsg},buttonSet:function(){return this.taskInfo.canCancel?"cancel":this.taskInfo.canClear?this.isImportTask?"clear":this.taskInfo.canRetry?"retry":"clear":""}},$trs:{}},(function(){var _vm=this,_h=_vm.$createElement;return(_vm._self._c||_h)("FacilityTaskPanelDetails",{attrs:{statusMsg:_vm.statusMsg,headingMsg:_vm.headingMsg,underHeadingMsg:_vm.underHeadingMsg,underProgressMsg:_vm.underProgressMsg,task:_vm.task,loaderType:_vm.loaderType,showCircularLoader:_vm.taskInfo.isRunning,buttonSet:_vm.buttonSet},on:{cancel:function($event){return _vm.$emit("click","cancel")},clear:function($event){return _vm.$emit("click","clear")},retry:function($event){return _vm.$emit("click","retry")}}})}),[],!1,null,"4dcecdbd",null).exports,ManageTasksPageStrings=Object(external_kolibriCoreAppGlobal_utils_i18n_.crossComponentTranslator)(ManageTasksPage),FacilitiesPage_FacilitiesTasksPagevue_type_script_lang_js_={name:"FacilitiesTasksPage",metaInfo:function(){return{title:this.coreString("tasksLabel")}},components:{FacilityTaskPanel:FacilityTaskPanel,HeaderWithOptions:HeaderWithOptions,BackLink:BackLink},mixins:[external_kolibriCoreAppGlobal_coreVue_mixins_commonCoreStrings_default.a,external_kolibriCoreAppGlobal_coreVue_mixins_commonTaskStrings_default.a,external_kolibriCoreAppGlobal_coreVue_mixins_commonSyncElements_default.a,facilityTasksQueue],props:{},data:function(){return{}},computed:{someClearableTasks:function(){return Boolean(this.facilityTasks.find(constants.l))},emptyTasksMessage:function(){return ManageTasksPageStrings.$tr("emptyTasksMessage")}},methods:{handleClickClearAll:function(){this.clearCompletedFacilityTasks()},handlePanelClick:function(action,task){this.manageFacilityTask(action,task).catch((function(){}))}},$trs:{backToFacilitiesLabel:"Back to facilities"}},FacilitiesTasksPage=(__webpack_require__(365),normalizeComponent(FacilitiesPage_FacilitiesTasksPagevue_type_script_lang_js_,(function(){var _vm=this,_h=_vm.$createElement,_c=_vm._self._c||_h;return _c("div",[_c("p",[_c("BackLink",{attrs:{to:{name:"FACILITIES_PAGE"},text:_vm.$tr("backToFacilitiesLabel")}})],1),_c("HeaderWithOptions",{attrs:{headerText:_vm.coreString("tasksLabel")},scopedSlots:_vm._u([{key:"options",fn:function(){return[_vm.someClearableTasks?_c("KButton",{attrs:{text:_vm.getTaskString("clearCompletedTasksAction")},on:{click:_vm.handleClickClearAll}}):_vm._e()]},proxy:!0}])}),0===_vm.facilityTasks.length?_c("p",[_vm._v("\n    "+_vm._s(_vm.emptyTasksMessage)+"\n  ")]):_vm._e(),_c("div",_vm._l(_vm.facilityTasks,(function(task,idx){return _c("FacilityTaskPanel",{key:idx,staticClass:"task-panel",style:{borderBottomColor:_vm.$themePalette.grey.v_200},attrs:{task:task},on:{click:function($event){return _vm.handlePanelClick($event,task)}}})})),1)],1)}),[],!1,null,"77926426",null).exports),get=__webpack_require__(41),get_default=__webpack_require__.n(get),sortBy=__webpack_require__(110),sortBy_default=__webpack_require__.n(sortBy),SelectNetworkAddressModal=normalizeComponent({name:"SelectNetworkAddressModal",components:{SelectAddressModalGroup:external_kolibriCoreAppGlobal_coreVue_componentSets_sync_.SelectAddressModalGroup},props:{manageMode:{type:Boolean,required:!1}},data:function(){return{}},computed:Object.assign({},Object(external_kolibriCoreAppGlobal_lib_vuex_.mapGetters)("manageContent/wizard",["isImportingMore"]),Object(external_kolibriCoreAppGlobal_lib_vuex_.mapState)("manageContent/wizard",["transferredChannel"]),{filterByChannelId:function(){return this.isImportingMore?this.transferredChannel.id:""}}),methods:Object.assign({},Object(external_kolibriCoreAppGlobal_lib_vuex_.mapMutations)("manageContent/wizard",{resetContentWizardState:"RESET_STATE"}),{handleSelectAddressSubmit:function(address){var addressId=address.id;this.manageMode?this.$emit("submit",{addressId:addressId}):this.isImportingMore?this.$router.push(selectContentPageLink({addressId:addressId,channelId:this.transferredChannel.id})):this.$router.push(availableChannelsPageLink({addressId:addressId}))},handleCancel:function(){this.manageMode?this.$emit("cancel"):this.resetContentWizardState()}})},(function(){var _h=this.$createElement;return(this._self._c||_h)("SelectAddressModalGroup",{attrs:{filterByChannelId:this.filterByChannelId},on:{cancel:this.handleCancel,submit:this.handleSelectAddressSubmit}})}),[],!1,null,"bf7946f4",null).exports,SelectImportSourceModal_component=normalizeComponent({name:"SelectImportSourceModal",components:{SelectSourceModal:external_kolibriCoreAppGlobal_coreVue_componentSets_sync_.SelectSourceModal},data:function(){return{source:constants.b.KOLIBRI_STUDIO,initialDelay:!0,formIsDisabled:!0,kolibriStudioIsOffline:!1,ContentSources:constants.b}},created:function(){var this$1=this;setTimeout((function(){this$1.initialDelay=!1}),1e3),external_kolibriCoreAppGlobal_resources_.RemoteChannelResource.getKolibriStudioStatus().then((function(ref){"offline"===ref.data.status&&(this$1.source=constants.b.PEER_KOLIBRI_SERVER,this$1.kolibriStudioIsOffline=!0),this$1.formIsDisabled=!1}))},methods:Object.assign({},Object(external_kolibriCoreAppGlobal_lib_vuex_.mapActions)("manageContent/wizard",["goForwardFromSelectImportSourceModal"]),Object(external_kolibriCoreAppGlobal_lib_vuex_.mapMutations)("manageContent/wizard",{resetContentWizardState:"RESET_STATE"}),{handleSubmit:function(){this.formIsDisabled||(this.$attrs.manageMode?this.$emit("submit",{source:this.source}):this.goForwardFromSelectImportSourceModal(this.source))},handleCancel:function(){this.$attrs.manageMode?this.$emit("cancel"):this.resetContentWizardState()}}),$trs:{network:"Kolibri Studio (online)",localNetworkOrInternet:"Local network or internet",localDrives:"Attached drive or memory card",studioDescription:"Import resources from Kolibri Studio if you are connected to the internet",networkDescription:"Import resources from another instance of Kolibri running on another device, either in the same local network or on the internet",localDescription:"Import resources from a drive. Channels must have first been exported onto the drive from another instance of Kolibri"}},(function(){var _vm=this,_h=_vm.$createElement,_c=_vm._self._c||_h;return _c("SelectSourceModal",{attrs:{submitDisabled:_vm.formIsDisabled,showLoadingMessage:_vm.formIsDisabled&&!_vm.initialDelay},on:{submit:_vm.handleSubmit,cancel:_vm.handleCancel}},[_c("KRadioButton",{attrs:{label:_vm.$tr("network"),value:_vm.ContentSources.KOLIBRI_STUDIO,disabled:_vm.kolibriStudioIsOffline||_vm.formIsDisabled,autofocus:!_vm.kolibriStudioIsOffline,description:_vm.$tr("studioDescription")},model:{value:_vm.source,callback:function($$v){_vm.source=$$v},expression:"source"}}),_c("KRadioButton",{attrs:{label:_vm.$tr("localNetworkOrInternet"),value:_vm.ContentSources.PEER_KOLIBRI_SERVER,disabled:_vm.formIsDisabled,description:_vm.$tr("networkDescription")},model:{value:_vm.source,callback:function($$v){_vm.source=$$v},expression:"source"}}),_c("KRadioButton",{attrs:{label:_vm.$tr("localDrives"),value:_vm.ContentSources.LOCAL_DRIVE,disabled:_vm.formIsDisabled,description:_vm.$tr("localDescription")},model:{value:_vm.source,callback:function($$v){_vm.source=$$v},expression:"source"}})],1)}),[],!1,null,"a9f3c884",null),SelectTransferSourceModal=normalizeComponent({name:"SelectTransferSourceModal",components:{SelectDriveModal:SelectDriveModal,SelectImportSourceModal:SelectImportSourceModal_component.exports,SelectNetworkAddressModal:SelectNetworkAddressModal},props:{pageName:{type:String},manageMode:{type:Boolean,default:!1}},computed:{atSelectImportSource:function(){return this.pageName===constants.d.SELECT_IMPORT_SOURCE},atSelectDrive:function(){return this.pageName===constants.d.SELECT_DRIVE},atSelectNetworkAddress:function(){return this.pageName===constants.d.SELECT_NETWORK_ADDRESS}},mounted:function(){this.pageName||this.$emit("update:pageName",constants.d.SELECT_IMPORT_SOURCE)},methods:{emitCancel:function(){this.$emit("cancel")},nextState:function(data){this.atSelectImportSource?data.source===constants.b.KOLIBRI_STUDIO?this.$emit("submit",{source:constants.b.KOLIBRI_STUDIO}):data.source===constants.b.LOCAL_DRIVE?this.$emit("update:pageName",constants.d.SELECT_DRIVE):data.source===constants.b.PEER_KOLIBRI_SERVER&&this.$emit("update:pageName",constants.d.SELECT_NETWORK_ADDRESS):this.atSelectDrive?this.$emit("submit",{source:constants.b.LOCAL_DRIVE,drive_id:data.driveId}):this.atSelectNetworkAddress&&this.$emit("submit",{source:constants.b.PEER_KOLIBRI_SERVER,address_id:data.addressId})}}},(function(){var _vm=this,_h=_vm.$createElement,_c=_vm._self._c||_h;return _c("div",[_vm.atSelectImportSource?_c("SelectImportSourceModal",{attrs:{manageMode:_vm.manageMode},on:{submit:_vm.nextState,cancel:_vm.emitCancel}}):_vm._e(),_vm.atSelectDrive?_c("SelectDriveModal",{attrs:{manageMode:_vm.manageMode},on:{submit:_vm.nextState,cancel:_vm.emitCancel}}):_vm._e(),_vm.atSelectNetworkAddress?_c("SelectNetworkAddressModal",{attrs:{manageMode:_vm.manageMode},on:{submit:_vm.nextState,cancel:_vm.emitCancel}}):_vm._e()],1)}),[],!1,null,"6fe0cb00",null).exports,ChannelPanel_WithImportDetailsvue_type_script_lang_js_={name:"WithImportDetails",components:{ChannelDetails:ChannelDetails},mixins:[external_kolibriCoreAppGlobal_coreVue_mixins_commonCoreStrings_default.a,external_kolibriCoreAppGlobal_coreVue_mixins_responsiveWindowMixin_default.a],props:{channel:{type:Object,required:!0},onDevice:{type:Boolean,default:!1},multipleMode:{type:Boolean,default:!1}},computed:Object.assign({},Object(external_kolibriCoreAppGlobal_lib_vuex_.mapGetters)("manageContent",["channelIsInstalled"]),{channelSelectedMessage:function(){return this.channel.total_file_size?this.$tr("channelSelectedWithFileSize",{bytesText:this.bytesForHumans(this.channel.total_file_size)}):this.$tr("channelSelectedNoFileSize")},isUnlistedChannel:function(){return!1===this.channel.public},versionNumber:function(){var installed=this.channelIsInstalled(this.channel.id);return installed?installed.version:this.channel.version},newVersionAvailable:function(){return this.versionNumber<this.channel.latest_version},newChannelVersionPageRoute:function(){return{name:constants.g.NEW_CHANNEL_VERSION_PAGE,params:{channel_id:this.channel.id},query:Object.assign({},this.$route.query,{last:constants.g.AVAILABLE_CHANNELS_PAGE})}},selectContentLink:function(){return selectContentPageLink({addressId:this.$route.query.address_id,channelId:this.channel.id,driveId:this.$route.query.drive_id})},verticalPadding:function(){return{paddingBottom:this.windowGutter+"px",paddingTop:this.windowGutter+"px"}}}),methods:{bytesForHumans:external_kolibriCoreAppGlobal_utils_bytesForHumans_default.a},$trs:{onYourDevice:"Resources on device",selectResourcesAction:"Select resources",newLabel:{message:"New",context:"\nRefers to CHANNEL; indicates that it was recently updated, imported, and unlocked"},unlistedChannelTooltip:"Unlisted channel",newVersionMessage:"New version available",moreInformationLabel:"More information",channelSelectedNoFileSize:"Selected",channelSelectedWithFileSize:"{bytesText} selected"}},WithImportDetails=(__webpack_require__(370),normalizeComponent(ChannelPanel_WithImportDetailsvue_type_script_lang_js_,(function(){var _vm=this,_h=_vm.$createElement,_c=_vm._self._c||_h;return _c("div",{staticClass:"channel-list-item",class:{"channel-list-item-sm":_vm.windowIsSmall},style:[_vm.verticalPadding,{borderTop:"1px solid "+_vm.$themePalette.grey.v_200}]},[_c("ChannelDetails",{attrs:{channel:_vm.channel,channelVersion:_vm.versionNumber},scopedSlots:_vm._u([_vm.multipleMode?{key:"beforethumbnail",fn:function(){return[_c("KCheckbox",{staticClass:"checkbox",attrs:{label:_vm.channel.name,showLabel:!1,checked:_vm.$attrs.checked},on:{change:function($event){return _vm.$emit("checkboxchange",{channel:_vm.channel,isSelected:$event})}}})]},proxy:!0}:null,_vm.isUnlistedChannel?{key:"belowname",fn:function(){return[_c("KTooltip",{attrs:{reference:"lockicon",refs:_vm.$refs,placement:"top"}},[_vm._v("\n        "+_vm._s(_vm.$tr("unlistedChannelTooltip"))+"\n      ")]),_c("div",{staticClass:"private-icons"},[_c("KIcon",{ref:"lockicon",staticClass:"lock-icon",attrs:{icon:"unlistedchannel"}}),_vm.channel.newUnlistedChannel?_c("span",{staticClass:"new-label",style:{color:_vm.$themeTokens.textInverted,backgroundColor:_vm.$themeTokens.success}},[_vm._v(_vm._s(_vm.$tr("newLabel")))]):_vm._e()],1)]},proxy:!0}:null,{key:"abovedescription",fn:function(){return[_vm.newVersionAvailable?_c("div",[_c("KIcon",{staticClass:"update-icon",style:{fill:_vm.$themeTokens.primary},attrs:{icon:"error"}}),_vm._v("\n        "+_vm._s(_vm.$tr("newVersionMessage"))+"\n        "),_c("KRouterLink",{attrs:{to:_vm.newChannelVersionPageRoute,text:_vm.$tr("moreInformationLabel")}})],1):_vm._e(),_vm.onDevice?_c("div",{staticClass:"on-device"},[_c("KIcon",{staticClass:"check-icon",style:{fill:_vm.$themeTokens.success},attrs:{icon:"correct"}}),_c("span",{staticClass:"on-device-text"},[_vm._v(_vm._s(_vm.$tr("onYourDevice")))])],1):_vm._e()]},proxy:!0},{key:"append",fn:function(){return[_c("div",{staticClass:"col-3"},[_vm.multipleMode&&_vm.$attrs.checked?_c("p",{staticClass:"selected-msg"},[_vm._v("\n          "+_vm._s(_vm.channelSelectedMessage)+"\n        ")]):_vm._e(),_vm.multipleMode?_vm._e():_c("KRouterLink",{attrs:{text:_vm.$tr("selectResourcesAction"),to:_vm.selectContentLink,appearance:"raised-button"}})],1)]},proxy:!0}],null,!0)})],1)}),[],!1,null,"4f962247",null).exports),WithImportDetailsStrings=Object(external_kolibriCoreAppGlobal_utils_i18n_.crossComponentTranslator)(WithImportDetails),ChannelPanel_WithSizeAndOptionsvue_type_script_lang_js_={name:"WithSizeAndOptions",components:{ChannelDetails:ChannelDetails},mixins:[external_kolibriCoreAppGlobal_coreVue_mixins_responsiveWindowMixin_default.a,external_kolibriCoreAppGlobal_coreVue_mixins_commonCoreStrings_default.a],props:{channel:{type:Object,required:!0},disabled:{type:Boolean,default:!1},showNewLabel:{type:Boolean,required:!1}},computed:{resourcesSizeText:function(){return external_kolibriCoreAppGlobal_utils_bytesForHumans_default()(this.channel.on_device_file_size)},WithImportDetailsStrings:function(){return WithImportDetailsStrings}},methods:{handleManageChannelAction:function(){return this.$emit("select_manage",Object.assign({},this.channel))}},$trs:{manageChannelAction:{message:"Manage",context:"\nOperation that can be performed on a channel"}}},views_ManageContentPagevue_type_script_lang_js_=(__webpack_require__(371),{name:"ManageContentPage",metaInfo:function(){return{title:this.$tr("documentTitle")}},components:{ChannelPanel:normalizeComponent(ChannelPanel_WithSizeAndOptionsvue_type_script_lang_js_,(function(){var _vm=this,_h=_vm.$createElement,_c=_vm._self._c||_h;return _c("div",{staticClass:"panel",class:{"panel-sm":_vm.windowIsSmall},style:{borderTop:"1px solid "+_vm.$themePalette.grey.v_200}},[_c("ChannelDetails",{attrs:{channel:_vm.channel},scopedSlots:_vm._u([{key:"belowname",fn:function(){return[_c("div",{staticClass:"private-icons"},[_c("KTooltip",{attrs:{reference:"lockicon",refs:_vm.$refs,placement:"top"}},[_vm._v("\n          "+_vm._s(_vm.WithImportDetailsStrings.$tr("unlistedChannelTooltip"))+"\n        ")]),!1===_vm.channel.public?_c("KIcon",{ref:"lockicon",staticClass:"lock-icon",attrs:{icon:"unlistedchannel"}}):_vm._e(),_vm.showNewLabel?_c("span",{staticClass:"new-label",style:{color:_vm.$themeTokens.textInverted,backgroundColor:_vm.$themeTokens.success}},[_vm._v(_vm._s(_vm.WithImportDetailsStrings.$tr("newLabel")))]):_vm._e()],1)]},proxy:!0}])}),_c("div",{staticClass:"col-2",attrs:{dir:"auto","data-test":"resources-size"}},[_vm._v("\n    "+_vm._s(_vm.resourcesSizeText)+"\n  ")]),_c("div",{staticClass:"col-3"},[_c("KButton",{attrs:{text:_vm.$tr("manageChannelAction"),disabled:_vm.disabled},on:{click:_vm.handleManageChannelAction}})],1)],1)}),[],!1,null,"3bf471f1",null).exports,DeleteChannelModal:DeleteChannelModal,HeaderWithOptions:HeaderWithOptions,SelectTransferSourceModal:SelectTransferSourceModal,TasksBar:TasksBar},mixins:[external_kolibriCoreAppGlobal_coreVue_mixins_commonCoreStrings_default.a,taskNotificationMixin],data:function(){return{deleteChannelId:null,channelOrders:{}}},computed:Object.assign({},Object(external_kolibriCoreAppGlobal_lib_vuex_.mapGetters)("manageContent",["installedChannelsWithResources","channelIsBeingDeleted","managedTasks"]),Object(external_kolibriCoreAppGlobal_lib_vuex_.mapState)("manageContent/wizard",["pageName"]),{doneTasks:function(){return this.managedTasks.filter((function(task){return task.status===constants.h.COMPLETED})).length},sortedChannels:function(){var this$1=this;return sortBy_default()(this.installedChannelsWithResources,(function(channel){var order=-this$1.channelOrders[channel.id];return Number.isNaN(order)?1:order}))},channelsAreInstalled:function(){return this.installedChannelsWithResources.length>0},selectedChannelTitle:function(){return this.deleteChannelId?find_default()(this.installedChannelsWithResources,{id:this.deleteChannelId}).name:""},dropdownOptions:function(){return[{label:this.$tr("exportChannels"),value:"EXPORT"},{label:this.$tr("deleteChannels"),value:"DELETE"},{label:this.$tr("editChannelOrder"),value:"REARRANGE",disabled:1===this.installedChannelsWithResources.length}]}}),watch:{installedChannelsWithResources:{handler:function(val){var this$1=this;val.forEach((function(channel){var currentOrder=this$1.channelOrders[channel.id];(!currentOrder&&channel.taskIndex>-1||currentOrder<channel.taskIndex)&&this$1.$set(this$1.channelOrders,channel.id,channel.taskIndex)}))},immediate:!0,deep:!0},doneTasks:function(val,oldVal){val>oldVal&&this.refreshChannelList()}},created:function(){this.channelsAreInstalled||this.$store.commit("SET_WELCOME_MODAL_VISIBLE",!0)},methods:Object.assign({},Object(external_kolibriCoreAppGlobal_lib_vuex_.mapActions)("manageContent",["refreshChannelList","startImportWorkflow"]),{handleSelect:function(ref){var value=ref.value,nextRoute={DELETE:constants.g.DELETE_CHANNELS,EXPORT:constants.g.EXPORT_CHANNELS,REARRANGE:constants.g.REARRANGE_CHANNELS}[value];this.$router.push(this.$router.getRoute(nextRoute))},showNewLabel:function(channelId){var match=find_default()(this.installedChannelsWithResources,{id:channelId});return match&&match.taskIndex>-1},handleDeleteChannel:function(){var this$1=this;if(this.deleteChannelId){var channelId=this.deleteChannelId;return this.deleteChannelId=null,external_kolibriCoreAppGlobal_resources_.TaskResource.deleteChannel({channelId:channelId}).then((function(task){this$1.notifyAndWatchTask(task)})).catch((function(err){"This channel does not exist"===get_default()(err,"data[0]")?this$1.refreshChannelList():this$1.createTaskFailedSnackbar()}))}},handleSelectManage:function(channelId){this.$router.push({name:constants.g.MANAGE_CHANNEL,params:{channel_id:channelId}})},handleClickClearAll:function(){external_kolibriCoreAppGlobal_resources_.TaskResource.deleteFinishedTasks()},onWatchedTaskFinished:function(){this.refreshChannelList()}}),$trs:{import:"Import",documentTitle:"Manage Device Channels",exportChannels:"Export channels",deleteChannels:"Delete channels",editChannelOrder:"Edit channel order",emptyChannelListMessage:"No channels installed"}}),ManageContentPage=(__webpack_require__(372),normalizeComponent(views_ManageContentPagevue_type_script_lang_js_,(function(){var _vm=this,_h=_vm.$createElement,_c=_vm._self._c||_h;return _c("div",[_c("div",[_c("HeaderWithOptions",{attrs:{headerText:_vm.coreString("channelsLabel")},scopedSlots:_vm._u([{key:"options",fn:function(){return[_c("KButtonGroup",[_vm.channelsAreInstalled?_c("KDropdownMenu",{staticClass:"options-btn",attrs:{appearance:"raised-button",text:_vm.coreString("optionsLabel"),position:"bottom left",options:_vm.dropdownOptions},on:{select:_vm.handleSelect}}):_vm._e(),_c("KButton",{attrs:{text:_vm.$tr("import"),primary:!0},on:{click:function($event){return _vm.startImportWorkflow()}}})],1)]},proxy:!0}])}),_vm.managedTasks.length>0?_c("TasksBar",{attrs:{tasks:_vm.managedTasks,taskManagerLink:{name:"MANAGE_TASKS"}},on:{clearall:_vm.handleClickClearAll}}):_vm._e(),_vm.channelsAreInstalled?_vm._e():_c("p",[_vm._v("\n      "+_vm._s(_vm.$tr("emptyChannelListMessage"))+"\n    ")]),_c("div",{staticClass:"channels-list"},_vm._l(_vm.sortedChannels,(function(channel){return _c("ChannelPanel",{key:channel.id,attrs:{channel:channel,disabled:_vm.channelIsBeingDeleted(channel.id),showNewLabel:_vm.showNewLabel(channel.id)},on:{select_delete:function($event){_vm.deleteChannelId=channel.id},select_manage:function($event){return _vm.handleSelectManage(channel.id)}}})})),1),_c("SelectTransferSourceModal",{attrs:{pageName:_vm.pageName}}),_vm.deleteChannelId?_c("DeleteChannelModal",{attrs:{channelTitle:_vm.selectedChannelTitle},on:{submit:_vm.handleDeleteChannel,cancel:function($event){_vm.deleteChannelId=null}}}):_vm._e()],1)])}),[],!1,null,"3fc4646e",null).exports),external_kolibriCoreAppGlobal_coreVue_components_PaginatedListContainer_=__webpack_require__(204),external_kolibriCoreAppGlobal_coreVue_components_PaginatedListContainer_default=__webpack_require__.n(external_kolibriCoreAppGlobal_coreVue_components_PaginatedListContainer_),external_kolibriCoreAppGlobal_coreVue_vuex_constants_=__webpack_require__(7);var external_kolibriCoreAppGlobal_coreVue_components_PermissionsIcon_=__webpack_require__(111),external_kolibriCoreAppGlobal_coreVue_components_PermissionsIcon_default=__webpack_require__.n(external_kolibriCoreAppGlobal_coreVue_components_PermissionsIcon_),memoize=__webpack_require__(145),memoize_default=__webpack_require__.n(memoize),ManagePermissionsPage_UserGridvue_type_script_lang_js_={name:"UserGrid",components:{PermissionsIcon:external_kolibriCoreAppGlobal_coreVue_components_PermissionsIcon_default.a,CoreTable:external_kolibriCoreAppGlobal_coreVue_components_CoreTable_default.a},mixins:[external_kolibriCoreAppGlobal_coreVue_mixins_commonCoreStrings_default.a],props:{filterText:{type:String},facilityUsers:{type:Array},userPermissions:{type:Function}},computed:Object.assign({},Object(external_kolibriCoreAppGlobal_lib_vuex_.mapGetters)(["facilities","currentUserId"]),{emptyMessage:function(){return this.$tr("noUsersMatching",{searchFilter:this.filterText})},hasMultipleFacilities:function(){return this.facilities.length>1},memoizedFacilityName:function(){return memoize_default()(this.facilityName)}}),methods:{facilityName:function(facilityId){return this.facilities.find((function(facility){return facility.id===facilityId})).name||""},isCurrentUser:function(user){return this.currentUserId===user.id},fullNameLabel:function(user){return this.isCurrentUser(user)?this.$tr("selfUsernameLabel",{full_name:user.full_name}):user.full_name},permissionsButtonText:function(user){return this.isCurrentUser(user)?this.$tr("viewPermissions"):this.$tr("editPermissions")},goToUserPermissionsPage:function(userId){this.$router.push({name:"USER_PERMISSIONS_PAGE",params:{userId:userId}})},getPermissionType:function(userId){var permissions=this.userPermissions(userId);return permissions?permissions.is_superuser?external_kolibriCoreAppGlobal_coreVue_vuex_constants_.PermissionTypes.SUPERUSER:permissions.can_manage_content?external_kolibriCoreAppGlobal_coreVue_vuex_constants_.PermissionTypes.LIMITED_PERMISSIONS:null:null}},$trs:{viewPermissions:"View Permissions",editPermissions:"Edit Permissions",noUsersMatching:"No users match the selected filters",selfUsernameLabel:"{full_name} (You)"}},UserGrid=(__webpack_require__(373),normalizeComponent(ManagePermissionsPage_UserGridvue_type_script_lang_js_,(function(){var _vm=this,_h=_vm.$createElement,_c=_vm._self._c||_h;return _c("div",[_c("CoreTable",{attrs:{emptyMessage:_vm.emptyMessage}},[_c("thead",{attrs:{slot:"thead"},slot:"thead"},[_c("tr",[_c("th",[_vm._v(_vm._s(_vm.coreString("fullNameLabel")))]),_c("th",[_vm._v(_vm._s(_vm.coreString("usernameLabel")))]),_vm.hasMultipleFacilities?_c("th",[_vm._v("\n          "+_vm._s(_vm.coreString("facilityLabel"))+"\n        ")]):_vm._e(),_c("th")])]),_c("tbody",{attrs:{slot:"tbody"},slot:"tbody"},_vm._l(_vm.facilityUsers,(function(user){return _c("tr",{key:user.id},[_c("td",[_c("KLabeledIcon",{attrs:{label:_vm.fullNameLabel(user)}},[Boolean(_vm.getPermissionType(user.id))?_c("PermissionsIcon",{attrs:{slot:"icon",permissionType:_vm.getPermissionType(user.id)},slot:"icon"}):_vm._e()],1)],1),_c("td",[_c("span",{staticClass:"maxwidth",attrs:{dir:"auto"}},[_vm._v("\n            "+_vm._s(user.username)+"\n          ")])]),_vm.hasMultipleFacilities?_c("td",[_c("span",{staticClass:"maxwidth",attrs:{dir:"auto"}},[_vm._v("\n            "+_vm._s(_vm.memoizedFacilityName(user.facility))+"\n          ")])]):_vm._e(),_c("td",{staticClass:"btn-col"},[_c("KButton",{staticStyle:{"margin-top":"6px"},attrs:{appearance:"flat-button",text:_vm.permissionsButtonText(user)},on:{click:function($event){return _vm.goToUserPermissionsPage(user.id)}}})],1)])})),0)])],1)}),[],!1,null,"2284b948",null).exports),ALL_FILTER="all",views_ManagePermissionsPagevue_type_script_lang_js_={name:"ManagePermissionsPage",metaInfo:function(){return{title:this.$tr("documentTitle")}},components:{PaginatedListContainer:external_kolibriCoreAppGlobal_coreVue_components_PaginatedListContainer_default.a,UserGrid:UserGrid},mixins:[external_kolibriCoreAppGlobal_coreVue_mixins_commonCoreStrings_default.a],data:function(){return{searchFilterText:"",permissionsFilter:null,userTypeFilter:null,facilityFilter:null}},computed:Object.assign({},Object(external_kolibriCoreAppGlobal_lib_vuex_.mapState)("managePermissions",{facilityUsers:function(state){return state.facilityUsers},userPermissions:function(state){return function(userid){return state.permissions[userid]}}}),Object(external_kolibriCoreAppGlobal_lib_vuex_.mapState)("coreBase",{query:function(state){return state.query}}),Object(external_kolibriCoreAppGlobal_lib_vuex_.mapGetters)(["facilities"]),{hasMultipleFacilities:function(){return!!this.facilities&&this.facilities.length>1},facilityOptions:function(){var facilityChoices=this.facilities.map((function(f){return{label:f.name,value:f.id}}));return[{label:this.$tr("allFacilityFilter"),value:ALL_FILTER}].concat(facilityChoices)},userTypeOptions:function(){return[{label:this.$tr("allUserTypeFilter"),value:ALL_FILTER},{label:this.coreString("learnersLabel"),value:external_kolibriCoreAppGlobal_coreVue_vuex_constants_.UserKinds.LEARNER},{label:this.coreString("coachesLabel"),value:external_kolibriCoreAppGlobal_coreVue_vuex_constants_.UserKinds.COACH},{label:this.$tr("adminsLabel"),value:external_kolibriCoreAppGlobal_coreVue_vuex_constants_.UserKinds.ADMIN}]},permissionsOptions:function(){return[{label:this.$tr("allPermissionsFilterLabel"),value:ALL_FILTER},{label:this.$tr("canManageContentLabel"),value:external_kolibriCoreAppGlobal_coreVue_vuex_constants_.PermissionTypes.LIMITED_PERMISSIONS},{label:this.$tr("superAdminLabel"),value:external_kolibriCoreAppGlobal_coreVue_vuex_constants_.PermissionTypes.SUPERUSER},{label:this.$tr("noDevicePermissionsLabel"),value:external_kolibriCoreAppGlobal_coreVue_vuex_constants_.PermissionTypes.NO_DEVICE_PERMISSIONS}]},usersFilteredByDropdown:function(){var this$1=this,users=this.facilityUsers;return this.hasMultipleFacilities&&(users=this.facilityFilter.value===ALL_FILTER?users:users.filter((function(user){return user.facility==this$1.facilityFilter.value}))),users=this.userTypeFilter.value===ALL_FILTER?users:users.filter((function(user){return 0===user.roles.length?this$1.userTypeFilter.value===external_kolibriCoreAppGlobal_coreVue_vuex_constants_.UserKinds.LEARNER:this$1.userTypeFilter.value===external_kolibriCoreAppGlobal_coreVue_vuex_constants_.UserKinds.COACH?Boolean(user.roles.find((function(role){return role.kind===external_kolibriCoreAppGlobal_coreVue_vuex_constants_.UserKinds.COACH||role.kind===external_kolibriCoreAppGlobal_coreVue_vuex_constants_.UserKinds.ASSIGNABLE_COACH}))):this$1.userTypeFilter.value===external_kolibriCoreAppGlobal_coreVue_vuex_constants_.UserKinds.ADMIN&&Boolean(user.roles.find((function(role){return role.kind===external_kolibriCoreAppGlobal_coreVue_vuex_constants_.UserKinds.SUPERUSER||role.kind===external_kolibriCoreAppGlobal_coreVue_vuex_constants_.UserKinds.ADMIN})))})),users=this.permissionsFilter.value===ALL_FILTER?users:users.filter((function(user){var userPermissions=this$1.userPermissions(user.id);switch(this$1.permissionsFilter.value){case external_kolibriCoreAppGlobal_coreVue_vuex_constants_.PermissionTypes.LIMITED_PERMISSIONS:return Boolean(userPermissions)&&userPermissions.can_manage_content;case external_kolibriCoreAppGlobal_coreVue_vuex_constants_.PermissionTypes.SUPERUSER:return Boolean(userPermissions)&&userPermissions.is_superuser;case external_kolibriCoreAppGlobal_coreVue_vuex_constants_.PermissionTypes.NO_DEVICE_PERMISSIONS:return!userPermissions||!userPermissions.is_superuser&&!userPermissions.can_manage_content;default:return!1}}))}}),watch:{permissionsFilter:function(value){var query=this.query;query.permissionsFilter=value,this.$store.commit("coreBase/SET_QUERY",query)},userTypeFilter:function(value){var query=this.query;query.userTypeFilter=value,this.$store.commit("coreBase/SET_QUERY",query)},facilityFilter:function(value){var query=this.query;query.facilityFilter=value,this.$store.commit("coreBase/SET_QUERY",query)}},beforeMount:function(){this.facilityFilter=this.query.facilityFilter||this.facilityOptions[0],this.permissionsFilter=this.query.permissionsFilter||this.permissionsOptions[0],this.userTypeFilter=this.query.userTypeFilter||this.userTypeOptions[0]},methods:{filterUsers:function(users,filterText){return function(users,pred,sortByKey){return void 0===sortByKey&&(sortByKey="username"),users.filter(pred).sort((function(a,b){return Object(external_kolibriCoreAppGlobal_utils_i18n_.localeCompare)(a[sortByKey],b[sortByKey])}))}(users,(function(user){return function(user,searchFilter){var searchTerms=searchFilter.split(/\s+/).map((function(val){return val.toLowerCase()})),fullName=user.full_name.toLowerCase(),username=user.username.toLowerCase();return searchTerms.every((function(term){return fullName.includes(term)||username.includes(term)}))}(user,filterText)}))}},$trs:{devicePermissionsDescription:"Make changes to what users can manage on your device",searchPlaceholder:"Search for a user…",documentTitle:"Manage Device Permissions",adminsLabel:"Admins",permissionsLabel:"Permissions",canManageContentLabel:"Can manage content",superAdminLabel:"Super admin",noDevicePermissionsLabel:"No device permissions",allPermissionsFilterLabel:"All",allUserTypeFilter:"All",allFacilityFilter:"All"}},ManagePermissionsPage=(__webpack_require__(374),normalizeComponent(views_ManagePermissionsPagevue_type_script_lang_js_,(function(){var _vm=this,_h=_vm.$createElement,_c=_vm._self._c||_h;return _c("div",[_c("div",{staticClass:"description"},[_c("h1",[_vm._v(_vm._s(_vm.coreString("devicePermissionsLabel")))]),_c("p",[_vm._v(_vm._s(_vm.$tr("devicePermissionsDescription")))])]),_c("PaginatedListContainer",{attrs:{items:_vm.usersFilteredByDropdown,filterFunction:_vm.filterUsers,filterPlaceholder:_vm.$tr("searchPlaceholder")},scopedSlots:_vm._u([{key:"otherFilter",fn:function(){return[_c("KSelect",{staticClass:"type-filter",attrs:{label:_vm.$tr("permissionsLabel"),options:_vm.permissionsOptions,inline:!0},model:{value:_vm.permissionsFilter,callback:function($$v){_vm.permissionsFilter=$$v},expression:"permissionsFilter"}}),_c("KSelect",{staticClass:"type-filter",attrs:{label:_vm.coreString("userTypeLabel"),options:_vm.userTypeOptions,inline:!0},model:{value:_vm.userTypeFilter,callback:function($$v){_vm.userTypeFilter=$$v},expression:"userTypeFilter"}}),_vm.hasMultipleFacilities?_c("KSelect",{staticClass:"type-filter",attrs:{label:_vm.coreString("facilityLabel"),options:_vm.facilityOptions,inline:!0},model:{value:_vm.facilityFilter,callback:function($$v){_vm.facilityFilter=$$v},expression:"facilityFilter"}}):_vm._e()]},proxy:!0},{key:"default",fn:function(ref){var items=ref.items,filterInput=ref.filterInput;return[_c("UserGrid",{attrs:{searchFilter:_vm.searchFilterText,facilityUsers:items,userPermissions:_vm.userPermissions,filterText:filterInput}})]}}])})],1)}),[],!1,null,"4ca22e74",null).exports),pickBy=__webpack_require__(205),pickBy_default=__webpack_require__.n(pickBy),map=__webpack_require__(146),map_default=__webpack_require__.n(map),external_kolibriCoreAppGlobal_coreVue_components_CoreInfoIcon_=__webpack_require__(206),external_kolibriCoreAppGlobal_coreVue_components_CoreInfoIcon_default=__webpack_require__.n(external_kolibriCoreAppGlobal_coreVue_components_CoreInfoIcon_),NetworkLocationResource=new external_kolibriCoreAppGlobal_lib_apiResource_.Resource({name:"networklocation"});new external_kolibriCoreAppGlobal_lib_apiResource_.Resource({name:"staticnetworklocation"}),new external_kolibriCoreAppGlobal_lib_apiResource_.Resource({name:"dynamicnetworklocation"});function getInstalledChannel(channelId){return external_kolibriCoreAppGlobal_resources_.ChannelResource.fetchModel({id:channelId}).catch((function(){return Promise.reject("CHANNEL_NOT_INSTALLED")}))}function fetchChannelAtSource(params){var sourcePromise,channelId=params.channelId,driveId=params.driveId,addressId=params.addressId;return sourcePromise=driveId?function(driveId,channelId){var reject=function(){return Promise.reject("CHANNEL_NOT_ON_DRIVE")};return external_kolibriCoreAppGlobal_resources_.TaskResource.localDrives().then((function(response){var drives=response.data,driveMatch=find_default()(drives,{id:driveId});if(!driveMatch)return reject();var channelMatch=find_default()(driveMatch.metadata.channels,{id:channelId});return channelMatch?Object.assign({},channelMatch,{driveId:driveId}):reject()}))}(driveId,channelId):addressId?function(addressId,channelId){return NetworkLocationResource.fetchModel({id:addressId}).then((function(location){return external_kolibriCoreAppGlobal_resources_.RemoteChannelResource.fetchModel({id:channelId,getParams:{baseurl:location.base_url},force:!0}).then((function(ref){var channel=ref[0];return Object.assign({},channel,{baseurl:location.base_url})}))})).catch((function(){return Promise.reject("CHANNEL_NOT_ON_PEER")}))}(addressId,channelId):function(channelId){return external_kolibriCoreAppGlobal_resources_.RemoteChannelResource.fetchModel({id:channelId}).then((function(ref){var channel=ref[0];return Object.assign({},channel,{baseurl:"https://studio.learningequality.org"})})).catch((function(){return Promise.reject("CHANNEL_NOT_ON_STUDIO")}))}(channelId),Promise.all([getInstalledChannel(channelId),sourcePromise])}var ManageContentPage_NewChannelVersionPagevue_type_script_lang_js_={name:"NewChannelVersionPage",metaInfo:function(){return{title:this.versionAvailableText}},components:{CoreInfoIcon:external_kolibriCoreAppGlobal_coreVue_components_CoreInfoIcon_default.a,BottomAppBar:external_kolibriCoreAppGlobal_coreVue_components_BottomAppBar_default.a},mixins:[external_kolibriCoreAppGlobal_coreVue_mixins_commonCoreStrings_default.a],data:function(){return{channelName:"",nextVersion:null,currentVersion:null,deletedResources:null,newResources:null,updatedResources:null,versionNotes:{},showModal:!1,disableModal:!1,loadingTask:!0,loadingChannel:!0,watchedTaskId:null}},computed:{channelIsIncomplete:function(){return!1},versionAvailableText:function(){return this.channelName?this.$tr("versionIsAvailable",{channelName:this.channelName,nextVersion:this.nextVersion}):""},params:function(){return pickBy_default()({channelId:this.$route.params.channel_id,driveId:this.$route.query.drive_id,addressId:this.$route.query.address_id})},sortedFilteredVersionNotes:function(){var this$1=this,versionArray=map_default()(this.versionNotes,(function(val,key){return{version:Number(key),notes:val}})).filter((function(note){return note.version>this$1.currentVersion}));return sortBy_default()(versionArray,(function(note){return-note.version}))},watchedTaskHasFinished:function(){return this.$store.getters["manageContent/taskFinished"](this.watchedTaskId)}},watch:{watchedTaskHasFinished:function(val){val&&val===this.watchedTaskId&&this.onWatchedTaskFinished()}},mounted:function(){var this$1=this;this.$store.commit("coreBase/SET_APP_BAR_TITLE",this.coreString("loadingLabel")),this.loadChannelInfo().then((function(ref){var installedChannel=ref[0],sourceChannel=ref[1];this$1.setChannelData(installedChannel,sourceChannel),this$1.loadingChannel=!1,this$1.startDiffStatsTask({baseurl:sourceChannel.baseurl,driveId:sourceChannel.driveId})}))},methods:{handleSubmit:function(){var this$1=this;this.disableModal=!0;var updateParams={sourcetype:"remote",channel_id:this.params.channelId,new_version:this.nextVersion};return this.params.driveId?(updateParams.sourcetype="local",updateParams.drive_id=this.params.driveId):this.params.addressId&&(updateParams.peer_id=this.params.addressId),external_kolibriCoreAppGlobal_resources_.TaskResource.postListEndpoint("startchannelupdate",updateParams).then((function(taskResponse){if(this$1.newResources){this$1.loadingTask=!0;var taskId=taskResponse.data.id,stopWatching=this$1.$store.watch((function(state){return state.manageContent.taskList}),(function(tasks){var match=tasks.find((function(task){return task.id===taskId}))||{};match&&match.database_ready?(stopWatching(),this$1.$router.push(this$1.$router.getRoute("SELECT_CONTENT"))):match.status===constants.h.FAILED&&(stopWatching(),this$1.$router.push(this$1.$router.getRoute("MANAGE_TASKS")))}))}else this$1.$router.push(this$1.$router.getRoute("MANAGE_TASKS"))})).catch((function(error){this$1.$store.dispatch("handleApiError",error)}))},setChannelData:function(installedChannel,sourceChannel){this.$store.commit("coreBase/SET_APP_BAR_TITLE",installedChannel.name),this.channelName=installedChannel.name,this.currentVersion=installedChannel.version,this.nextVersion=sourceChannel.version,this.versionNotes=sourceChannel.version_notes||{}},loadChannelInfo:function(){var this$1=this;return fetchChannelAtSource(this.params).catch((function(error){this$1.$store.dispatch("handleApiError",error)}))},startDiffStatsTask:function(sourceParams){var params,method,channelId,driveId,baseurl,taskAttrs,this$1=this;return(params=Object.assign({},{channelId:this.params.channelId},sourceParams),channelId=params.channelId,driveId=params.driveId,baseurl=params.baseurl,taskAttrs={channel_id:channelId},baseurl?(taskAttrs.baseurl=baseurl,method="network"):driveId&&(taskAttrs.drive_id=driveId,method="disk"),external_kolibriCoreAppGlobal_resources_.TaskResource.fetchCollection({force:!0}).then((function(tasks){var match=find_default()(tasks,Object.assign({},taskAttrs,{type:constants.i.CHANNELDIFFSTATS}));return match||external_kolibriCoreAppGlobal_resources_.TaskResource.postListEndpoint("channeldiffstats",Object.assign({},taskAttrs,{method:method})).then((function(taskResponse){return taskResponse.data}))}))).then((function(task){Object(constants.l)(task)?task.status===constants.h.FAILED?(this$1.startDiffStatsTask({baseurl:task.baseurl,driveId:task.drive_id}),external_kolibriCoreAppGlobal_resources_.TaskResource.deleteFinishedTask(task.id)):this$1.readAndDeleteTask(task):this$1.watchedTaskId=task.id}))},readAndDeleteTask:function(task){return this.loadingTask=!1,this.newResources=task.new_resources_count,this.deletedResources=task.deleted_resources_count,this.updatedResources=task.updated_resources_count,external_kolibriCoreAppGlobal_resources_.TaskResource.deleteFinishedTask(task.id)},onWatchedTaskFinished:function(){var task=find_default()(this.$store.state.manageContent.taskList,{id:this.watchedTaskId});this.readAndDeleteTask(task)}},$trs:{versionIsAvailable:"Version {nextVersion} of '{channelName}' is available",youAreCurrentlyOnVersion:"You are currently on version {currentVersion}",versionChangesHeader:{message:"Changes if you choose to update from version {oldVersion} to {newVersion}:",context:"Header above a table that lists what the consequences of updating the channel would be"},resourcesAvailableForImport:{message:"New resources available",context:"Label associated with the number of resources that would become available for importing if the channel is updated"},resourcesToBeDeleted:{message:"Resources that will be deleted",context:"Label associated with the number of resources that would be deleted if the channel is updated"},resourcesToBeDeletedTooltip:{message:"When you update this channel, some resources will be deleted. This may affect lessons or quizzes that are using the deleted resources",context:"Warning about the effects of updating the channel"},resourcesToBeUpdated:{message:"Resources to be updated",context:"Label associated with the number of resources would be updated"},updateChannelAction:"Update channel",versionNumberHeader:"Version {version}",updateConfirmationQuestion:"Are you sure you want to update '{channelName}' to version {version}?",channelIsIncomplete:{message:"This copy of '{channel}' is incomplete. It contains {resourcesInChannel} of {totalResources} resources from the original channel",context:"Warning indicating that the source does not have all content from the original channel"}}},NewChannelVersionPage=(__webpack_require__(376),normalizeComponent(ManageContentPage_NewChannelVersionPagevue_type_script_lang_js_,(function(){var _vm=this,_h=_vm.$createElement,_c=_vm._self._c||_h;return _vm.loadingChannel?_vm._e():_c("div",[_c("section",[_c("h1",[_vm._v("\n      "+_vm._s(_vm.versionAvailableText)+"\n    ")]),_c("p",[_vm._v(" "+_vm._s(_vm.$tr("youAreCurrentlyOnVersion",{currentVersion:_vm.currentVersion})))]),_vm.channelIsIncomplete?_c("p",[_vm._v("\n      "+_vm._s(_vm.$tr("channelIsIncomplete",{available:_vm.available,total:_vm.total}))+"\n    ")]):_vm._e()]),_c("section",[_c("p",[_c("strong",[_vm._v("\n        "+_vm._s(_vm.$tr("versionChangesHeader",{oldVersion:_vm.currentVersion,newVersion:_vm.nextVersion}))+"\n      ")])]),_vm.loadingChannel||_vm.loadingTask?_c("KLinearLoader",{attrs:{indeterminate:!0,delay:!1}}):_c("table",[_c("tr",[_c("th",[_vm._v(_vm._s(_vm.$tr("resourcesAvailableForImport")))]),_c("td",{staticClass:"col-2"},[_c("span",{class:{"count-added":_vm.newResources},style:{color:_vm.$themeTokens.success}},[_vm._v("\n            "+_vm._s(_vm.newResources)+"\n          ")])])]),_c("tr",[_c("th",[_vm._v(_vm._s(_vm.$tr("resourcesToBeDeleted")))]),_c("td",[_c("span",{class:{"count-deleted":_vm.deletedResources>0},style:{color:_vm.$themeTokens.error}},[_vm._v("\n            "+_vm._s(_vm.deletedResources)+"\n          ")])]),_c("td",[_vm.deletedResources?_c("CoreInfoIcon",{staticClass:"info-icon",attrs:{tooltipText:_vm.$tr("resourcesToBeDeletedTooltip"),iconAriaLabel:_vm.$tr("resourcesToBeDeletedTooltip"),tooltipPlacement:"right"}}):_vm._e()],1)]),_c("tr",[_c("th",[_vm._v(_vm._s(_vm.$tr("resourcesToBeUpdated")))]),_c("td",[_vm._v("\n          "+_vm._s(_vm.updatedResources)+"\n        ")])])])],1),_c("dl",[_vm._l(_vm.sortedFilteredVersionNotes,(function(note,idx){return[_c("dt",{key:"dt-"+idx},[_vm._v("\n        "+_vm._s(_vm.$tr("versionNumberHeader",{version:note.version}))+"\n      ")]),_c("dd",{key:"dd-"+idx,attrs:{dir:"auto"}},[_vm._v("\n        "+_vm._s(note.notes)+"\n      ")])]}))],2),_vm.showModal?_c("KModal",{attrs:{title:_vm.$tr("updateChannelAction"),submitText:_vm.coreString("continueAction"),cancelText:_vm.coreString("cancelAction"),disabled:_vm.disableModal},on:{submit:_vm.handleSubmit,cancel:function($event){_vm.showModal=!1}}},[_c("p",[_vm._v(_vm._s(_vm.$tr("updateConfirmationQuestion",{channelName:_vm.channelName,version:_vm.nextVersion})))])]):_vm._e(),_c("BottomAppBar",[_c("KButton",{attrs:{text:_vm.$tr("updateChannelAction"),appearance:"raised-button",primary:!0,disabled:_vm.loadingChannel||_vm.loadingTask},on:{click:function($event){_vm.showModal=!0}}})],1)],1)}),[],!1,null,"aa381da6",null).exports),external_kolibriCoreAppGlobal_coreVue_components_DragSortWidget_=__webpack_require__(207),external_kolibriCoreAppGlobal_coreVue_components_DragSortWidget_default=__webpack_require__.n(external_kolibriCoreAppGlobal_coreVue_components_DragSortWidget_),external_kolibriCoreAppGlobal_coreVue_components_DragContainer_=__webpack_require__(208),external_kolibriCoreAppGlobal_coreVue_components_DragContainer_default=__webpack_require__.n(external_kolibriCoreAppGlobal_coreVue_components_DragContainer_),external_kolibriCoreAppGlobal_coreVue_components_DragHandle_=__webpack_require__(209),external_kolibriCoreAppGlobal_coreVue_components_DragHandle_default=__webpack_require__.n(external_kolibriCoreAppGlobal_coreVue_components_DragHandle_),external_kolibriCoreAppGlobal_coreVue_components_Draggable_=__webpack_require__(210),external_kolibriCoreAppGlobal_coreVue_components_Draggable_default=__webpack_require__.n(external_kolibriCoreAppGlobal_coreVue_components_Draggable_),views_RearrangeChannelsPagevue_type_script_lang_js_={name:"RearrangeChannelsPage",metaInfo:function(){return{title:this.$tr("title")}},components:{DragSortWidget:external_kolibriCoreAppGlobal_coreVue_components_DragSortWidget_default.a,DragContainer:external_kolibriCoreAppGlobal_coreVue_components_DragContainer_default.a,DragHandle:external_kolibriCoreAppGlobal_coreVue_components_DragHandle_default.a,Draggable:external_kolibriCoreAppGlobal_coreVue_components_Draggable_default.a},data:function(){return{loading:!0,channels:[]}},computed:{itemClass:function(){return{":hover":{backgroundColor:this.$themePalette.grey.v_200}}}},beforeMount:function(){var this$1=this;if(!this.$store.getters.canManageContent)return this.$router.replace(this.$router.getRoute("MANAGE_CONTENT_PAGE"));this.fetchChannels().then((function(channels){this$1.channels=[].concat(channels),this$1.loading=!1})).catch((function(error){this$1.$store.disptch("CORE_SET_ERROR",error)})),this.$store.commit("coreBase/SET_APP_BAR_TITLE",this.$tr("title"))},methods:{postNewOrder:function(channelIds){return external_kolibriCoreAppGlobal_client_default()({url:external_kolibriCoreAppGlobal_urls_default.a["kolibri:kolibri.plugins.device:devicechannelorder"](),method:"POST",data:channelIds})},fetchChannels:function(){return deviceChannel.fetchCollection({force:!0,getParams:{available:!0}})},shiftOne:function(index,delta){var newArray=[].concat(this.channels),adjacentItem=newArray[index+delta];newArray[index+delta]=newArray[index],newArray[index]=adjacentItem,this.handleOrderChange({newArray:newArray})},handleOrderChange:function(event){var this$1=this,oldArray=[].concat(this.channels);this.channels=[].concat(event.newArray),this.postNewOrder(event.newArray.map((function(x){return x.id}))).then((function(){this$1.$store.dispatch("createSnackbar",this$1.$tr("successNotification"))})).catch((function(){this$1.channels=[],this$1.$nextTick().then((function(){this$1.channels=oldArray})),this$1.$store.dispatch("createSnackbar",this$1.$tr("failureNotification"))}))}},$trs:{instructions:{message:"Control the order in which channels will be displayed to learners and coaches",context:"\nText explaining how the channel reordering feature works"},successNotification:{message:"Channel order saved",context:"\nSuccess message shown when the admin re-orders channels"},failureNotification:"There was a problem reordering the channels",noChannels:"There are no channels",upLabel:"Move {name} up one",downLabel:"Move {name} down one",title:"Edit channel order"}},RearrangeChannelsPage=(__webpack_require__(377),normalizeComponent(views_RearrangeChannelsPagevue_type_script_lang_js_,(function(){var _vm=this,_h=_vm.$createElement,_c=_vm._self._c||_h;return _c("div",[_c("p",{staticClass:"instructions"},[_vm._v("\n    "+_vm._s(_vm.$tr("instructions"))+"\n  ")]),_vm.loading||0!==_vm.channels.length?[_c("DragContainer",{staticClass:"container",attrs:{items:_vm.channels},on:{sort:_vm.handleOrderChange}},[_c("transition-group",{staticClass:"wrapper",attrs:{tag:"div",name:"list"}},_vm._l(_vm.channels,(function(channel,index){return _c("Draggable",{key:channel.id},[_c("DragHandle",[_c("div",{staticClass:"item",class:_vm.$computedClass(_vm.itemClass),style:{backgroundColor:_vm.$themeTokens.surface}},[_c("DragSortWidget",{staticClass:"sort-widget",attrs:{moveUpText:_vm.$tr("upLabel",{name:channel.name}),moveDownText:_vm.$tr("downLabel",{name:channel.name}),isFirst:0===index,isLast:index===_vm.channels.length-1},on:{moveUp:function($event){return _vm.shiftOne(index,-1)},moveDown:function($event){return _vm.shiftOne(index,1)}}}),_c("div",{staticClass:"title"},[_vm._v("\n                "+_vm._s(channel.name)+"\n              ")])],1)])],1)})),1)],1)]:_c("p",[_vm._v("\n    "+_vm._s(_vm.$tr("noChannels"))+"\n  ")])],2)}),[],!1,null,"3b10a46e",null).exports),external_kolibriCoreAppGlobal_utils_UserType_=__webpack_require__(211),external_kolibriCoreAppGlobal_utils_UserType_default=__webpack_require__.n(external_kolibriCoreAppGlobal_utils_UserType_),external_kolibriCoreAppGlobal_coreVue_components_UserTypeDisplay_=__webpack_require__(212),external_kolibriCoreAppGlobal_coreVue_components_UserTypeDisplay_default=__webpack_require__.n(external_kolibriCoreAppGlobal_coreVue_components_UserTypeDisplay_),views_UserPermissionsPagevue_type_script_lang_js_={name:"UserPermissionsPage",metaInfo:function(){return{title:this.$tr("documentTitle",{name:this.user.full_name})}},components:{PermissionsIcon:external_kolibriCoreAppGlobal_coreVue_components_PermissionsIcon_default.a,UserTypeDisplay:external_kolibriCoreAppGlobal_coreVue_components_UserTypeDisplay_default.a},mixins:[external_kolibriCoreAppGlobal_coreVue_mixins_commonCoreStrings_default.a],data:function(){return{devicePermissionsChecked:void 0,saveFailed:!1,superuserChecked:void 0,uiBlocked:!1}},computed:Object.assign({},Object(external_kolibriCoreAppGlobal_lib_vuex_.mapGetters)(["facilities","currentUserId"]),Object(external_kolibriCoreAppGlobal_lib_vuex_.mapState)("userPermissions",["user","permissions"]),{facilityName:function(){var this$1=this;return this.facilities.find((function(facility){return facility.id===this$1.user.facility})).name},isCurrentUser:function(){return this.currentUserId===this.user.id},superuserDisabled:function(){return this.uiBlocked||this.isCurrentUser},saveDisabled:function(){return this.uiBlocked||this.isCurrentUser||this.permissionsAreUnchanged},devicePermissionsDisabled:function(){return this.uiBlocked||this.superuserChecked},permissionsAreUnchanged:function(){return this.permissions.is_superuser===this.superuserChecked&&this.permissions.can_manage_content===this.devicePermissionsChecked}}),watch:{superuserChecked:function(newVal,oldVal){void 0!==oldVal&&(this.devicePermissionsChecked=newVal)}},beforeMount:function(){this.superuserChecked=this.permissions.is_superuser,this.devicePermissionsChecked=this.permissions.can_manage_content||this.permissions.is_superuser},methods:Object.assign({},Object(external_kolibriCoreAppGlobal_lib_vuex_.mapActions)("userPermissions",["addOrUpdateUserPermissions"]),{save:function(){var this$1=this;this.uiBlocked=!0,this.addOrUpdateUserPermissions({userId:this.user.id,is_superuser:this.superuserChecked,can_manage_content:this.devicePermissionsChecked}).then((function(){this$1.showSnackbarNotification("changesSaved"),this$1.uiBlocked=!1,this$1.goBack()})).catch((function(){this$1.uiBlocked=!1,this$1.saveFailed=!0}))},goBack:function(){this.$router.push({name:"MANAGE_PERMISSIONS_PAGE"})},UserType:external_kolibriCoreAppGlobal_utils_UserType_default.a}),$trs:{devicePermissionsDetails:{message:"Can manage resources on this device",context:"\nLabel for the checkbox to confirm granting a user permissions to manage content on the device."},documentTitle:"{ name }'s Device Permissions",makeSuperAdmin:"Make super admin",saveButton:"Save Changes",saveFailureNotification:"There was a problem saving these changes.",userDoesNotExist:"User does not exist",superAdminExplanation1:"Has all device permissions and can manage the device permissions of other users",superAdminExplanation2:"Has admin permissions for all facilities on this device, but is still a member of the facility '{facilityName}'",you:"You"}},UserPermissionsPage=(__webpack_require__(378),normalizeComponent(views_UserPermissionsPagevue_type_script_lang_js_,(function(){var _vm=this,_h=_vm.$createElement,_c=_vm._self._c||_h;return _c("div",[null===_vm.user?_c("h1",[_vm._v("\n    "+_vm._s(_vm.$tr("userDoesNotExist"))+"\n  ")]):[_c("div",{staticClass:"section user-info"},[_c("h1",{attrs:{dir:"auto"}},[_c("KLabeledIcon",{attrs:{icon:"person",label:_vm.isCurrentUser?_vm.$tr("you"):_vm.user.full_name}})],1),_c("table",[_c("tr",[_c("th",[_vm._v("\n            "+_vm._s(_vm.coreString("usernameLabel"))+"\n          ")]),_c("td",[_vm._v(_vm._s(_vm.user.username))])]),_c("tr",[_c("th",[_vm._v("\n            "+_vm._s(_vm.coreString("userTypeLabel"))+"\n          ")]),_c("td",[_c("UserTypeDisplay",{attrs:{userType:_vm.UserType(_vm.user)}})],1)]),_c("tr",[_c("th",[_vm._v("\n            "+_vm._s(_vm.coreString("facilityLabel"))+"\n          ")]),_c("td",{attrs:{dir:"auto"}},[_vm._v("\n            "+_vm._s(_vm.facilityName)+"\n          ")])])])]),_c("div",{staticClass:"section superuser"},[_c("KCheckbox",{staticClass:"super-admin-checkbox",attrs:{disabled:_vm.superuserDisabled,label:_vm.$tr("makeSuperAdmin"),checked:_vm.superuserChecked},on:{change:function($event){_vm.superuserChecked=$event}}}),_c("PermissionsIcon",{staticClass:"permissions-icon",attrs:{permissionType:"SUPERUSER"}}),_c("ul",{staticClass:"checkbox-description",style:{color:_vm.superuserDisabled?_vm.$themeTokens.textDisabled:_vm.$themeTokens.annotation}},[_c("li",[_vm._v(_vm._s(_vm.$tr("superAdminExplanation1")))]),_c("li",[_vm._v(_vm._s(_vm.$tr("superAdminExplanation2",{facilityName:_vm.facilityName})))])])],1),_c("div",{staticClass:"section"},[_c("h2",[_vm._v(_vm._s(_vm.coreString("devicePermissionsLabel")))]),_c("KCheckbox",{attrs:{disabled:_vm.devicePermissionsDisabled,label:_vm.$tr("devicePermissionsDetails"),checked:_vm.devicePermissionsChecked},on:{change:function($event){_vm.devicePermissionsChecked=$event}}})],1),_c("div",{staticClass:"buttons"},[_c("KButtonGroup",[_c("KButton",{attrs:{disabled:_vm.saveDisabled,text:_vm.$tr("saveButton"),primary:!0,appearance:"raised-button"},on:{click:function($event){return _vm.save()}}}),_c("KButton",{attrs:{disabled:_vm.uiBlocked,text:_vm.coreString("cancelAction"),primary:!1,appearance:"flat-button"},on:{click:function($event){return _vm.goBack()}}})],1)],1),_vm.saveFailed?_c("div",[_vm._v("\n      "+_vm._s(_vm.$tr("saveFailureNotification"))+"\n    ")]):_vm._e()]],2)}),[],!1,null,"d8e2793c",null).exports),withAuthMessage=__webpack_require__(14);function getChannelWithContentSizes(channelId){return new Promise((function(resolve,reject){deviceChannel.fetchModel({id:channelId,getParams:{include_fields:["total_resources","total_file_size","on_device_resources","on_device_file_size","new_resource_count","new_resource_total_size"]},force:!0}).then(resolve,reject)}))}function getRemoteChannelByToken(token){return external_kolibriCoreAppGlobal_resources_.RemoteChannelResource.fetchModel({id:token,force:!0})}function downloadChannelMetadata(store){void 0===store&&(store=external_kolibriCoreAppGlobal_coreVue_vuex_store_default.a);var promise,ref=store.state.manageContent.wizard,transferredChannel=ref.transferredChannel,selectedDrive=ref.selectedDrive,selectedPeer=ref.selectedPeer;if(store.getters["manageContent/wizard/inLocalImportMode"])promise=external_kolibriCoreAppGlobal_resources_.TaskResource.startDiskChannelImport({channel_id:transferredChannel.id,drive_id:selectedDrive.id});else if(store.getters["manageContent/wizard/inRemoteImportMode"])promise=external_kolibriCoreAppGlobal_resources_.TaskResource.startRemoteChannelImport({channel_id:transferredChannel.id});else{if(!store.getters["manageContent/wizard/inPeerImportMode"])return Error("Channel Metadata is only downloaded when importing");promise=external_kolibriCoreAppGlobal_resources_.TaskResource.startRemoteChannelImport({channel_id:transferredChannel.id,peer_id:selectedPeer.id})}return store.commit("CORE_SET_PAGE_LOADING",!1),(promise=promise.catch((function(){return Promise.reject({errorType:constants.e.CONTENT_DB_LOADING_ERROR})}))).then((function(task){return function(taskId,store){void 0===store&&(store=external_kolibriCoreAppGlobal_coreVue_vuex_store_default.a);var taskList=function(state){return state.manageContent.taskList};return new Promise((function(resolve,reject){var stopWatching=store.watch(taskList,(function(tasks){var match=tasks.find((function(task){return task.id===taskId}));match&&match.status!==constants.h.COMPLETED?match.status===constants.h.FAILED&&(stopWatching(),reject()):(stopWatching(),resolve({taskId:taskId,cancelled:!match}))}))}))}(task.data.id,store)})).then((function(completedTask){var taskId=completedTask.taskId,cancelled=completedTask.cancelled;return taskId&&!cancelled?external_kolibriCoreAppGlobal_resources_.TaskResource.deleteFinishedTask(taskId).then((function(){return getChannelWithContentSizes(transferredChannel.id)})).catch((function(){return getChannelWithContentSizes(transferredChannel.id)})):Promise.reject({errorType:constants.e.CHANNEL_TASK_ERROR})}))}function loadChannelMetadata(store){var transferredChannel=store.state.manageContent.wizard.transferredChannel,channelOnDevice=store.getters["manageContent/channelIsOnDevice"](transferredChannel.id),newChannelDbAvailable=channelOnDevice&&!channelOnDevice.available&&channelOnDevice.version<transferredChannel.version;return(!channelOnDevice||newChannelDbAvailable?downloadChannelMetadata(store):getChannelWithContentSizes(transferredChannel.id)).then((function(channel){store.commit("manageContent/wizard/SET_TRANSFERRED_CHANNEL",Object.assign({},channel,{version:transferredChannel.version,public:transferredChannel.public}))})).catch((function(err){err&&"CHANNEL_TASK_ERROR"!==err.errorType&&store.commit("manageContent/wizard/SET_WIZARD_STATUS",err.errorType)}))}function getAvailableSpaceOnDrive(selectedDrive){return selectedDrive?Promise.resolve(selectedDrive.freespace):external_kolibriCoreAppGlobal_client_default()({url:""+external_kolibriCoreAppGlobal_urls_default.a["kolibri:core:freespace"](),params:{path:"Content"}}).then((function(ref){return ref.data.freespace})).catch((function(){return-1}))}var handlers_translator=Object(external_kolibriCoreAppGlobal_utils_i18n_.createTranslator)("WizardHandlerTexts",{loadingChannelToolbar:"Loading channel…"});function getSelectedDrive(store,driveId){return new Promise((function(resolve,reject){store.dispatch("manageContent/refreshDriveList",null,{root:!0}).then((function(driveList){store.commit("manageContent/wizard/SET_DRIVE_LIST",driveList);var drive=find_default()(driveList,{id:driveId});drive?resolve(Object.assign({},drive)):reject({error:constants.c.DRIVE_NOT_FOUND})})).catch((function(){reject({error:constants.c.DRIVE_ERROR})}))}))}function getInstalledChannelsPromise(store){var channelList=store.state.manageContent.channelList;return 0===channelList.length?store.dispatch("manageContent/refreshChannelList",null,{root:!0}):Promise.resolve([].concat(channelList))}function getTransferType(params){var drive_id=params.drive_id,address_id=params.address_id;return drive_id?constants.j.LOCALIMPORT:address_id?constants.j.PEERIMPORT:constants.j.REMOTEIMPORT}function handleError(store,error){var errorType=error.error;if(errorType)return store.commit("manageContent/wizard/SET_WIZARD_STATUS",errorType);store.dispatch("handleApiError",error),store.commit("manageContent/wizard/RESET_STATE")}function showAvailableChannelsPage(store,params){var availableChannelsPromise,selectedDrivePromise,transferType=getTransferType(params);return store.commit("SET_PAGE_NAME",constants.d.AVAILABLE_CHANNELS),store.commit("CORE_SET_PAGE_LOADING",!0),store.commit("manageContent/wizard/RESET_STATE"),null===transferType?external_kolibriCoreAppGlobal_coreVue_router_default.a.replace(manageContentPageLink()):(transferType===constants.j.LOCALIMPORT&&(selectedDrivePromise=getSelectedDrive(store,params.drive_id),availableChannelsPromise=getInstalledChannelsPromise(store).then((function(){return selectedDrivePromise.then((function(drive){return store.dispatch("manageContent/wizard/getAllDriveChannels",drive)}))}))),transferType===constants.j.REMOTEIMPORT&&(selectedDrivePromise=Promise.resolve({}),availableChannelsPromise=new Promise((function(resolve,reject){getInstalledChannelsPromise(store).then((function(){return external_kolibriCoreAppGlobal_resources_.RemoteChannelResource.fetchCollection().then((function(remoteChannels){return store.dispatch("manageContent/wizard/getAllRemoteChannels",remoteChannels).then((function(allChannels){return resolve(allChannels)}))})).catch((function(){return reject({error:constants.c.KOLIBRI_STUDIO_UNAVAILABLE})}))}))}))),transferType===constants.j.PEERIMPORT&&(selectedDrivePromise=Promise.resolve({}),availableChannelsPromise=getInstalledChannelsPromise(store).then((function(){return function(store,addressId){var channelList=store.state.manageContent.channelList;return new Promise((function(resolve,reject){NetworkLocationResource.fetchModel({id:addressId}).then((function(networkLocation){networkLocation.available?(store.commit("manageContent/wizard/SET_SELECTED_PEER",networkLocation),external_kolibriCoreAppGlobal_resources_.RemoteChannelResource.fetchCollection({getParams:{baseurl:networkLocation.base_url},force:!0}).then((function(remoteChannels){var availableChannels=remoteChannels.filter((function(ref){return ref.total_resources>0})).map((function(c){var installedChannel=find_default()(channelList,{id:c.id,available:!0})||{};return Object.assign({},c,{installed_version:installedChannel.version,latest_version:c.version})}));resolve(availableChannels)})).catch((function(){reject({error:constants.c.NETWORK_LOCATION_DOES_NOT_HAVE_CHANNEL})}))):reject({error:constants.c.NETWORK_LOCATION_UNAVAILABLE})})).catch((function(){reject({error:constants.c.NETWORK_LOCATION_DOES_NOT_EXIST})}))}))}(store,params.address_id)}))),external_kolibriCoreAppGlobal_lib_conditionalPromise_default.a.all([availableChannelsPromise,selectedDrivePromise]).only(external_kolibriCoreAppGlobal_utils_samePageCheckGenerator_default()(store),(function(ref){var availableChannels=ref[0],selectedDrive=ref[1];store.commit("manageContent/wizard/HYDRATE_SHOW_AVAILABLE_CHANNELS_PAGE",{availableChannels:availableChannels,selectedDrive:selectedDrive,transferType:transferType}),store.commit("CORE_SET_PAGE_LOADING",!1)}),(function(error){return store.commit("CORE_SET_PAGE_LOADING",!1),handleError(store,error)})))}function showSelectContentPage(store,params){var transferredChannelPromise,availableSpacePromise,selectedDrivePromise=Promise.resolve({}),drive_id=params.drive_id,channel_id=params.channel_id,transferType=getTransferType(params);if(store.commit("manageContent/wizard/RESET_STATE"),store.commit("SET_PAGE_NAME",constants.d.SELECT_CONTENT),store.commit("CORE_SET_PAGE_LOADING",!0),store.commit("coreBase/SET_APP_BAR_TITLE",handlers_translator.$tr("loadingChannelToolbar")),null===transferType)return external_kolibriCoreAppGlobal_coreVue_router_default.a.replace(manageContentPageLink());var installedChannelPromise=getChannelWithContentSizes(params.channel_id).then((function(channel){store.commit("manageContent/REMOVE_FROM_CHANNEL_LIST",channel.id),store.commit("manageContent/ADD_TO_CHANNEL_LIST",channel)})).catch((function(error){error.response&&404===error.response.status&&console.log('^^^ 404 (Not Found) error returned while requesting "'+error.response.config.url+'..." is an expected response.')}));return transferType===constants.j.LOCALIMPORT&&(selectedDrivePromise=getSelectedDrive(store,drive_id),availableSpacePromise=getAvailableSpaceOnDrive(),transferredChannelPromise=new Promise((function(resolve,reject){selectedDrivePromise.then((function(drive){var match=find_default()(drive.metadata.channels,{id:channel_id});match?resolve(Object.assign({},match)):reject({error:constants.c.CHANNEL_NOT_FOUND_ON_DRIVE})}))}))),transferType===constants.j.REMOTEIMPORT&&(availableSpacePromise=getAvailableSpaceOnDrive(),transferredChannelPromise=new Promise((function(resolve,reject){external_kolibriCoreAppGlobal_resources_.RemoteChannelResource.fetchModel({id:channel_id,force:!0}).then((function(channels){resolve(Object.assign({},channels[0]))}),(function(error){404===error.response.status?reject({error:constants.c.CHANNEL_NOT_FOUND_ON_STUDIO}):reject({error:constants.c.KOLIBRI_STUDIO_UNAVAILABLE})}))}))),transferType===constants.j.PEERIMPORT&&(availableSpacePromise=getAvailableSpaceOnDrive(),transferredChannelPromise=function(store,ref){var addressId=ref.addressId,channelId=ref.channelId;return new Promise((function(resolve,reject){NetworkLocationResource.fetchModel({id:addressId}).then((function(networkLocation){networkLocation.available?(store.commit("manageContent/wizard/SET_SELECTED_PEER",networkLocation),external_kolibriCoreAppGlobal_resources_.RemoteChannelResource.fetchModel({id:channelId,getParams:{baseurl:networkLocation.base_url},force:!0}).then((function(channels){resolve(Object.assign({},channels[0]))})).catch((function(){reject({error:constants.c.NETWORK_LOCATION_DOES_NOT_HAVE_CHANNEL})}))):reject({error:constants.c.NETWORK_LOCATION_UNAVAILABLE})})).catch((function(){reject({error:constants.c.NETWORK_LOCATION_DOES_NOT_EXIST})}))}))}(store,{addressId:params.address_id,channelId:params.channel_id})),Promise.all([selectedDrivePromise,transferredChannelPromise,availableSpacePromise,installedChannelPromise]).then((function(ref){var selectedDrive=ref[0],transferredChannel=ref[1],availableSpace=ref[2];return store.commit("manageContent/wizard/HYDRATE_SELECT_CONTENT_PAGE",{availableSpace:availableSpace,selectedDrive:selectedDrive,transferType:transferType,transferredChannel:transferredChannel}),loadChannelMetadata(store).then((function(){return updateTreeViewTopic(store,{id:store.state.manageContent.wizard.transferredChannel.root,title:transferredChannel.name}).then((function(){}))}))})).then((function(){store.commit("CORE_SET_PAGE_LOADING",!1)})).catch((function(error){return store.commit("CORE_SET_PAGE_LOADING",!1),handleError(store,error)}))}function updateTreeViewTopic(store,topic){var fetchArgs={};if(store.getters["manageContent/wizard/inLocalImportMode"]){var selectedDrive=store.state.manageContent.wizard.selectedDrive;fetchArgs.importing_from_drive_id=selectedDrive.id}if(store.getters["manageContent/wizard/inPeerImportMode"]){var selectedPeer=store.state.manageContent.wizard.selectedPeer;fetchArgs.importing_from_peer_id=selectedPeer.id}return external_kolibriCoreAppGlobal_resources_.ContentNodeGranularResource.fetchModel({id:topic.id,getParams:fetchArgs,force:!0}).then((function(contents){store.commit("manageContent/wizard/SET_CURRENT_TOPIC_NODE",contents),store.dispatch("manageContent/wizard/updatePathBreadcrumbs",topic)})).catch((function(){store.commit("manageContent/wizard/SET_WIZARD_STATUS",constants.c.TREEVIEW_LOADING_ERROR)}))}var errorToTrStringMap={};errorToTrStringMap[constants.c.CHANNEL_NOT_FOUND_ON_DRIVE]="channelNotFoundOnDriveError",errorToTrStringMap[constants.c.CHANNEL_NOT_FOUND_ON_SERVER]="channelNotFoundOnServerError",errorToTrStringMap[constants.c.CHANNEL_NOT_FOUND_ON_STUDIO]="channelNotFoundError",errorToTrStringMap[constants.c.DRIVE_IS_NOT_WRITEABLE]="driveNotWritableError",errorToTrStringMap[constants.c.DRIVE_NOT_FOUND]="driveUnavailableError",errorToTrStringMap[constants.c.DRIVE_ERROR]="driveError",errorToTrStringMap[constants.c.TRANSFER_IN_PROGRESS]="transferInProgressError",errorToTrStringMap[constants.c.TREEVIEW_LOADING_ERROR]="channelNotFoundError",errorToTrStringMap[constants.c.NETWORK_LOCATION_DOES_NOT_EXIST]="networkLocationDoesNotExist",errorToTrStringMap[constants.c.NETWORK_LOCATION_UNAVAILABLE]="networkLocationUnavailable",errorToTrStringMap[constants.c.KOLIBRI_STUDIO_UNAVAILABLE]="kolibriStudioUnavailable",errorToTrStringMap[constants.c.NETWORK_LOCATION_DOES_NOT_HAVE_CHANNEL]="networkLocationDoesNotHaveChannel";var ContentWizardUiAlert=normalizeComponent({name:"ContentWizardUiAlert",components:{UiAlert:external_kolibriCoreAppGlobal_coreVue_components_UiAlert_default.a},props:{errorType:{type:String}},computed:{alertText:function(){return this.$tr(errorToTrStringMap[this.errorType])||""}},$trs:{channelNotFoundError:"Channel not found",channelNotFoundOnDriveError:"Channel not found on drive",channelNotFoundOnServerError:"Channel is not available to export from server",driveUnavailableError:"Drive not found or is disconnected",driveNotWritableError:"Drive is not writable",driveError:"There was a problem accessing the drives connected to the server",networkLocationDoesNotExist:"The device with this ID does not exist",networkLocationUnavailable:"The Kolibri server on the selected device is not available at the moment",transferInProgressError:"A transfer is currently in progress",kolibriStudioUnavailable:"Kolibri Studio is unavailable",networkLocationDoesNotHaveChannel:"The device with this ID does not have the desired channel"}},(function(){var _h=this.$createElement;return(this._self._c||_h)("UiAlert",{attrs:{type:"error",dismissible:!1}},[this._v("\n  "+this._s(this.alertText)+"\n")])}),[],!1,null,"b728c6b8",null).exports;var views_AvailableChannelsPagevue_type_script_lang_js_={name:"AvailableChannelsPage",metaInfo:function(){return{title:this.documentTitle}},components:{ChannelPanel:WithImportDetails,ChannelTokenModal:normalizeComponent({name:"ChannelTokenModal",components:{UiAlert:external_kolibriCoreAppGlobal_coreVue_components_UiAlert_default.a},mixins:[external_kolibriCoreAppGlobal_coreVue_mixins_commonCoreStrings_default.a],data:function(){return{formIsDisabled:!1,formIsSubmitted:!1,token:"",tokenIsBlurred:!1,tokenLookupFailed:!1,tokenNetworkError:!1}},computed:{tokenIsValid:function(){return!this.formIsSubmitted&&!this.tokenIsBlurred||!this.tokenLookupFailed&&""!==this.token}},methods:{submitForm:function(){var this$1=this;return this.tokenLookupFailed=!1,this.formIsSubmitted=!0,this.tokenIsValid?(this.formIsDisabled=!0,this.lookupToken(this.token).then((function(channels){channels.length>1?(this$1.$store.commit("manageContent/wizard/SET_AVAILABLE_CHANNELS",channels),this$1.$emit("cancel")):this$1.$emit("submit",channels[0])})).catch((function(error){404===error.response.status?this$1.tokenLookupFailed=!0:this$1.tokenNetworkError=!0})).then((function(){this$1.formIsDisabled=!1}))):Promise.resolve()},lookupToken:function(token){return function(token){return external_kolibriCoreAppGlobal_resources_.RemoteChannelResource.fetchChannelList(token)}(token)}},$trs:{channelTokenLabel:"Channel token",enterChannelToken:"Enter channel token",invalidTokenMessage:"Check whether you entered token correctly",networkErrorMessage:"Unable to connect to token",tokenExplanation:"Channel tokens unlock unlisted channels from Kolibri Studio"}},(function(){var _vm=this,_h=_vm.$createElement,_c=_vm._self._c||_h;return _c("KModal",{attrs:{title:_vm.$tr("enterChannelToken"),submitText:_vm.coreString("continueAction"),cancelText:_vm.coreString("cancelAction"),submitDisabled:_vm.formIsDisabled||_vm.$attrs.disabled,cancelDisabled:_vm.formIsDisabled||_vm.$attrs.disabled},on:{submit:_vm.submitForm,cancel:function($event){return _vm.$emit("cancel")}}},[_c("p",[_vm._v(_vm._s(_vm.$tr("tokenExplanation")))]),_vm.tokenNetworkError?_c("UiAlert",{attrs:{dismissible:!1,type:"error"}},[_vm._v("\n    "+_vm._s(_vm.$tr("networkErrorMessage"))+"\n  ")]):_vm._e(),_c("KTextbox",{attrs:{label:_vm.$tr("channelTokenLabel"),invalid:!_vm.tokenIsValid,invalidText:_vm.$tr("invalidTokenMessage"),autofocus:"",disabled:_vm.formIsDisabled||_vm.$attrs.disabled,autocapitalize:"none"},on:{blur:function($event){_vm.tokenIsBlurred=!0}},model:{value:_vm.token,callback:function($$v){_vm.token="string"==typeof $$v?$$v.trim():$$v},expression:"token"}})],1)}),[],!1,null,"53017b30",null).exports,ChannelUpdateModal:normalizeComponent({name:"ChannelUpdateModal",mixins:[external_kolibriCoreAppGlobal_coreVue_mixins_commonCoreStrings_default.a],$trs:{title:"Channel update",channelUpdateExplanation:"Some channels you selected for import will be automatically updated to the latest version. Do you wish to continue?"}},(function(){var _vm=this,_h=_vm.$createElement,_c=_vm._self._c||_h;return _c("KModal",{attrs:{title:_vm.$tr("title"),submitText:_vm.coreString("continueAction"),cancelText:_vm.coreString("cancelAction")},on:{submit:function($event){return _vm.$emit("submit")},cancel:function($event){return _vm.$emit("cancel")}}},[_c("p",[_vm._v(_vm._s(_vm.$tr("channelUpdateExplanation")))])])}),[],!1,null,"f260f3ee",null).exports,ContentWizardUiAlert:ContentWizardUiAlert,FilteredChannelListContainer:FilteredChannelListContainer,SelectionBottomBar:SelectionBottomBar,UiAlert:external_kolibriCoreAppGlobal_coreVue_components_UiAlert_default.a},mixins:[external_kolibriCoreAppGlobal_coreVue_mixins_commonCoreStrings_default.a,external_kolibriCoreAppGlobal_coreVue_mixins_responsiveWindowMixin_default.a,taskNotificationMixin],data:function(){return{showTokenModal:!1,showUpdateModal:!1,newUnlistedChannels:[],selectedChannels:[],fileSize:0,freeSpace:null,disableBottomBar:!1,disableModal:!1}},computed:Object.assign({},Object(external_kolibriCoreAppGlobal_lib_vuex_.mapGetters)("manageContent",["installedChannelsWithResources","channelIsBeingDeleted"]),Object(external_kolibriCoreAppGlobal_lib_vuex_.mapGetters)("manageContent/wizard",["inLocalImportMode","inRemoteImportMode","inPeerImportMode","isStudioApplication"]),Object(external_kolibriCoreAppGlobal_lib_vuex_.mapState)("manageContent/wizard",["availableChannels","selectedDrive","selectedPeer","status","transferType"]),{allChannels:function(){var this$1=this,installedChannels=this.installedChannelsWithResources.map((function(channel){var match=find_default()(this$1.availableChannels,{id:channel.id});if(match)return Object.assign({},channel,{installed_version:channel.version,latest_version:match.latest_version||match.version})})).filter(Boolean),notInstalledChannels=differenceBy_default()(this.availableChannels,this.installedChannelsWithResources,"id");return uniqBy_default()(this.newUnlistedChannels.concat(installedChannels,notInstalledChannels),"id")},multipleMode:function(){var multiple=this.$route.query.multiple;return this.setupMode||!0===multiple||"true"===multiple},setupMode:function(){return Boolean(this.$route.query.setup)},documentTitle:function(){switch(this.transferType){case constants.j.LOCALIMPORT:return this.$tr("documentTitleForLocalImport",{driveName:this.selectedDrive.name});case constants.j.REMOTEIMPORT:return this.$tr("documentTitleForRemoteImport");case constants.j.PEERIMPORT:return this.$tr("documentTitleForLocalImport",{driveName:this.selectedPeer.device_name});default:return""}},channelsAreLoading:function(){return"LOADING_CHANNELS_FROM_KOLIBRI_STUDIO"===this.status},channelsAreAvailable:function(){return!this.channelsAreLoading&&this.availableChannels.length>0},showUnlistedChannels:function(){return this.channelsAreAvailable&&(this.inRemoteImportMode||this.isStudioApplication)},notEnoughFreeSpace:function(){return null!==this.freeSpace&&this.freeSpace<this.fileSize}}),watch:{transferType:function(val){this.setAppBarTitle(this.toolbarTitle(val))}},beforeMount:function(){this.$store.commit("coreBase/SET_QUERY",this.$route.query),this.status?this.setAppBarTitle(this.$tr("pageLoadError")):this.setAppBarTitle(this.toolbarTitle(this.transferType))},mounted:function(){this.setupMode&&(this.selectedChannels=[].concat(this.allChannels))},methods:Object.assign({},Object(external_kolibriCoreAppGlobal_lib_vuex_.mapMutations)("coreBase",{setAppBarTitle:"SET_APP_BAR_TITLE"}),{toolbarTitle:function(transferType){switch(transferType){case constants.j.LOCALIMPORT:return this.$tr("importFromDisk",{driveName:this.selectedDrive.name});case constants.j.PEERIMPORT:return this.$tr("importFromPeer",{deviceName:this.selectedPeer.device_name||this.selectedPeer.nickname,address:this.selectedPeer.base_url});default:return this.$tr("importFromKolibriStudio")}},channelIsOnDevice:function(channel){var match=this.installedChannelsWithResources.find((function(ref){return ref.id===channel.id}));return Boolean(match)},toggleMultipleMode:function(){var newQuery;return newQuery=this.multipleMode?omit_default()(this.$route.query,["multiple","setup"]):Object.assign({},this.$route.query,{multiple:!0}),this.$router.push({query:newQuery})},handleSubmitToken:function(channel){var this$1=this;this.multipleMode?(this.disableModal=!0,this.$store.dispatch("manageContent/wizard/fetchUnlistedChannelInfo",channel.id).then((function(channels){var newChannels=channels.map((function(x){return Object.assign(x,{newUnlistedChannel:!0})}));this$1.newUnlistedChannels=uniqBy_default()(newChannels.concat(this$1.newUnlistedChannels),"id"),this$1.showTokenModal=!1,this$1.disableModal=!1})).catch((function(error){this$1.$store.dispatch("handleApiError",error)}))):this.goToSelectContentPageForChannel(channel)},goToSelectContentPageForChannel:function(channel){this.$router.push(selectContentPageLink({addressId:this.$route.query.address_id,channelId:channel.id,driveId:this.$route.query.drive_id}))},handleClickConfirm:function(){var this$1=this;this.disableBottomBar=!0;var someChannelsWillUpdate=some_default()(this.selectedChannels,(function(c){return c.installed_version<c.latest_version}));external_kolibriCoreAppGlobal_client_default()({url:external_kolibriCoreAppGlobal_urls_default.a["kolibri:core:deviceinfo"]()}).then((function(response){return{freeSpace:response.data.content_storage_free_space}})).then((function(ref){var freeSpace=ref.freeSpace;this$1.freeSpace=freeSpace,this$1.notEnoughFreeSpace?(this$1.createTaskFailedSnackbar(),this$1.disableBottomBar=!1):someChannelsWillUpdate?this$1.showUpdateModal=!0:this$1.startMultipleChannelImport()}))},handleConfirmUpgrade:function(){this.startMultipleChannelImport()},goToManageTasksPage:function(){this.$router.push({name:constants.g.MANAGE_TASKS})},startMultipleChannelImport:function(){var this$1=this;if(this.inLocalImportMode){var taskParams=this.selectedChannels.map((function(x){return{channel_name:x.name,channel_id:x.id,drive_id:this$1.selectedDrive.id}}));return external_kolibriCoreAppGlobal_resources_.TaskResource.startDiskBulkImport(taskParams).then((function(tasks){this$1.notifyAndWatchTask(tasks),this$1.goToManageTasksPage()})).catch((function(){this$1.createTaskFailedSnackbar(),this$1.disableBottomBar=!1}))}var peer_id=this.inPeerImportMode?this.selectedPeer.id:null,taskParams$1=this.selectedChannels.map((function(x){return{channel_name:x.name,channel_id:x.id,peer_id:peer_id}}));return external_kolibriCoreAppGlobal_resources_.TaskResource.startRemoteBulkImport(taskParams$1).then((function(tasks){this$1.notifyAndWatchTask(tasks),this$1.goToManageTasksPage()})).catch((function(){this$1.createTaskFailedSnackbar(),this$1.disableBottomBar=!1}))}}),$trs:{importChannelsHeader:"Select channels for import",importResourcesHeader:"Select resources for import",importFromDisk:"Import from '{driveName}'",importFromPeer:"Import from '{deviceName}' ({address})",importFromKolibriStudio:"Import from Kolibri Studio",channelTokenButtonLabel:"Import with token",pageLoadError:"There was a problem loading this page…",documentTitleForLocalImport:"Available Channels on '{driveName}'",documentTitleForRemoteImport:"Available Channels on Kolibri Studio",noChannelsAvailable:"No channels are available on this device",selectEntireChannels:{message:"Select entire channels instead",context:"\nAllow the user to select entire channels instead of individual topics/resources within a channel"},selectTopicsAndResources:{message:"Select topics and resources instead",context:"\nAllow the user to select individual topics/resources within a channel instead of entire channels"},notEnoughSpaceForChannelsWarning:{message:"Not enough space available on your device. Free up disk space or select fewer resources",context:"\nWarning that appears when there is not enough space on the user’s device for the selected resources"}}},AvailableChannelsPage=(__webpack_require__(379),normalizeComponent(views_AvailableChannelsPagevue_type_script_lang_js_,(function(){var _vm=this,_h=_vm.$createElement,_c=_vm._self._c||_h;return _c("div",[_vm.status?_c("ContentWizardUiAlert",{attrs:{errorType:_vm.status}}):_vm._e(),""===_vm.status?_c("FilteredChannelListContainer",{attrs:{channels:_vm.allChannels,selectedChannels:_vm.selectedChannels,selectAllCheckbox:_vm.multipleMode},on:{"update:selectedChannels":function($event){_vm.selectedChannels=$event},"update:selected-channels":function($event){_vm.selectedChannels=$event}},scopedSlots:_vm._u([{key:"header",fn:function(){return[""===_vm.status?_c("h1",{attrs:{"data-test":"title"}},[_vm._v("\n        "+_vm._s(_vm.multipleMode?_vm.$tr("importChannelsHeader"):_vm.$tr("importResourcesHeader"))+"\n      ")]):_vm._e()]},proxy:!0},{key:"abovechannels",fn:function(){return[_c("p",[_vm.channelsAreAvailable?_c("KButton",{attrs:{appearance:"basic-link",text:_vm.multipleMode?_vm.$tr("selectTopicsAndResources"):_vm.$tr("selectEntireChannels")},on:{click:_vm.toggleMultipleMode}}):_vm._e()],1),_vm.showUnlistedChannels?_c("p",[_c("KButton",{attrs:{"data-test":"token-button",text:_vm.$tr("channelTokenButtonLabel"),appearance:"raised-button",name:"showtokenmodal"},on:{click:function($event){_vm.showTokenModal=!0}}})],1):_vm._e(),_c("p",[_c("UiAlert",{directives:[{name:"show",rawName:"v-show",value:_vm.notEnoughFreeSpace,expression:"notEnoughFreeSpace"}],attrs:{dismissible:!1,type:"error"}},[_vm._v("\n          "+_vm._s(_vm.$tr("notEnoughSpaceForChannelsWarning"))+"\n        ")])],1)]},proxy:!0},{key:"default",fn:function(ref){ref.filteredItems;var showItem=ref.showItem,handleChange=ref.handleChange,itemIsSelected=ref.itemIsSelected;return[_vm.channelsAreAvailable||_vm.status?_c("p",_vm._l(_vm.allChannels,(function(channel){return _c("ChannelPanel",{directives:[{name:"show",rawName:"v-show",value:showItem(channel)&&!_vm.channelIsBeingDeleted(channel.id),expression:"showItem(channel) && !channelIsBeingDeleted(channel.id)"}],key:channel.id,attrs:{channel:channel,onDevice:_vm.channelIsOnDevice(channel),multipleMode:_vm.multipleMode,checked:itemIsSelected(channel)},on:{clickselect:function($event){return _vm.goToSelectContentPageForChannel(channel)},checkboxchange:handleChange}})})),1):_c("p",[_vm._v("\n        "+_vm._s(_vm.$tr("noChannelsAvailable"))+"\n      ")])]}}],null,!1,3592928100)}):_vm._e(),_vm.showTokenModal?_c("ChannelTokenModal",{attrs:{disabled:_vm.disableModal},on:{cancel:function($event){_vm.showTokenModal=!1},submit:_vm.handleSubmitToken}}):_vm._e(),_vm.showUpdateModal?_c("ChannelUpdateModal",{attrs:{disabled:_vm.disableModal},on:{cancel:function($event){_vm.showUpdateModal=!1},submit:_vm.handleConfirmUpgrade}}):_vm._e(),_vm.channelsAreLoading?_c("KLinearLoader",{attrs:{type:"indeterminate",delay:!1}}):_vm._e(),_vm.multipleMode?_c("SelectionBottomBar",{attrs:{objectType:"channel",actionType:"import",disabled:_vm.disableBottomBar||0===_vm.selectedChannels.length,selectedObjects:_vm.selectedChannels,fileSize:_vm.fileSize},on:{"update:fileSize":function($event){_vm.fileSize=$event},"update:file-size":function($event){_vm.fileSize=$event},clickconfirm:_vm.handleClickConfirm}}):_vm._e()],1)}),[],!1,null,"68615b03",null).exports),isEmpty=__webpack_require__(113),isEmpty_default=__webpack_require__.n(isEmpty),ManageContentPage_TaskProgressvue_type_script_lang_js_={name:"TaskProgress",mixins:[external_kolibriCoreAppGlobal_coreVue_mixins_commonCoreStrings_default.a],props:{type:{type:String,required:!0},status:{type:String,required:!1},percentage:{type:Number}},computed:{TaskStatuses:function(){return constants.h},stageText:function(){if("DOWNLOADING_CHANNEL_CONTENTS"===this.type)return this.$tr("downloadingChannelContents");if(this.status===this.TaskStatuses.RUNNING)switch(this.type){case constants.i.REMOTECONTENTIMPORT:case constants.i.DISKCONTENTIMPORT:return this.$tr("importingContent");case constants.i.DISKEXPORT:return this.$tr("exportingContent");case constants.i.DELETECHANNEL:return this.$tr("deletingChannel");default:return""}if(this.taskHasFailed)switch(this.type){case constants.i.DELETECHANNEL:return this.$tr("deleteTaskHasFailed");default:return this.$tr("taskHasFailed")}return this.taskHasCompleted?this.$tr("finished"):this.taskIsPreparing?this.$tr("preparingTask"):""},taskHasFailed:function(){return this.status===this.TaskStatuses.FAILED},taskHasCompleted:function(){return this.status===this.TaskStatuses.COMPLETED},taskIsPreparing:function(){return this.status===this.TaskStatuses.QUEUED||this.status===this.TaskStatuses.SCHEDULED},formattedPercentage:function(){return 100*this.percentage},progressMessage:function(){return this.percentage>0?this.formattedPercentage.toFixed(2)+"%":""}},$trs:{importingContent:"Importing resources…",exportingContent:"Exporting resources…",finished:'Finished! Click "Close" button to see changes.',preparingTask:"Preparing…",taskHasFailed:"Transfer failed. Please try again.",deleteTaskHasFailed:"Attempt to delete channel failed. Please try again.",deletingChannel:"Deleting channel…",downloadingChannelContents:"Generating channel listing. This could take a few minutes",updatingChannel:"Updating channel…",comparingChannelContents:"Comparing resources on device with new channel version. This could take a few minutes"}},TaskProgress=(__webpack_require__(380),normalizeComponent(ManageContentPage_TaskProgressvue_type_script_lang_js_,(function(){var _vm=this,_h=_vm.$createElement,_c=_vm._self._c||_h;return _c("transition",{attrs:{name:"fade"}},[_vm.$attrs.show?_c("div",{staticClass:"task-progress"},[_c("div",{staticClass:"dtc progress-icon"},[_c("transition",{attrs:{name:"fade",mode:"out-in"}},[_vm.taskHasFailed?_c("KIcon",{attrs:{icon:"error",color:_vm.$themeTokens.error}}):_vm.taskHasCompleted?_c("KIcon",{attrs:{icon:"correct",color:_vm.$themeTokens.success}}):_c("KCircularLoader",{staticClass:"inprogress",attrs:{delay:!1}})],1)],1),_c("div",{staticClass:"dtc progress-bar"},[_c("div",{class:{"task-stage":!_vm.taskHasCompleted}},[_vm._v("\n        "+_vm._s(_vm.stageText)+"\n      ")]),_vm.taskHasCompleted?_vm._e():_c("KLinearLoader",{attrs:{type:_vm.taskIsPreparing?"indeterminate":"determinate",progress:_vm.formattedPercentage,delay:!1}})],1),_vm.taskHasCompleted?_vm._e():_c("div",{staticClass:"dtc progress-messages"},[_c("span",{staticClass:"percentage"},[_vm._v(_vm._s(_vm.progressMessage))])])]):_vm._e()])}),[],!1,null,"0b7200f8",null).exports),SelectContentPage_ChannelUpdateAnnotationsvue_type_script_lang_js_={name:"ChannelUpdateAnnotations",props:{newResources:{type:Number,default:0},isTopic:{type:Boolean,default:!1},importing:{type:Boolean,default:!1}},computed:{new:function(){return this.newResources>0},styleClass:function(){return this.new?["new-label"]:[]},style:function(){return this.new?{color:this.$themeTokens.textInverted,backgroundColor:this.$themeTokens.success}:{}},label:function(){return this.new&&!1===this.isTopic?this.$tr("newResource"):this.new&&!0===this.isTopic?this.$tr("newResourcesInTopic",{count:this.newResources}):this.importing?this.$tr("inQueueForImport"):""}},$trs:{newResource:{message:"New",context:"Label that is shown with resources that were added after upgrading the channel"},newResourcesInTopic:{message:"{count} {count, plural, one {new} other {new}}",context:"Refers to 'resources'; will appear as a label displayed on topics with new resources that were added after upgrading the channel"},inQueueForImport:{message:"In queue for import",context:"Label that is with resources that are not selectable for import since they are being re-downloaded after upgrading the channel"}}},ChannelUpdateAnnotations=(__webpack_require__(381),normalizeComponent(SelectContentPage_ChannelUpdateAnnotationsvue_type_script_lang_js_,(function(){var _h=this.$createElement;return(this._self._c||_h)("span",{class:this.styleClass,style:this.style},[this._v("\n  "+this._s(this.label)+"\n")])}),[],!1,null,"6f01158a",null).exports),UpdateStrings=Object(external_kolibriCoreAppGlobal_utils_i18n_.crossComponentTranslator)(ChannelUpdateAnnotations),ManageContentPage_NewChannelVersionBannervue_type_script_lang_js_={name:"NewChannelVersionBanner",props:{version:{type:Number,required:!0}},computed:{newString:function(){return UpdateStrings.$tr("newResource")}},$trs:{versionAvailable:{message:"Version {version} is available",context:"\nWhen a new version of the channel is available, this message alerts the user that they can update. "},viewChangesAction:"View changes"}},NewChannelVersionBanner=(__webpack_require__(382),normalizeComponent(ManageContentPage_NewChannelVersionBannervue_type_script_lang_js_,(function(){var _vm=this,_h=_vm.$createElement,_c=_vm._self._c||_h;return _c("div",[_c("span",{staticClass:"version"},[_c("span",{staticClass:"new-label",style:{color:_vm.$themeTokens.textInverted,backgroundColor:_vm.$themeTokens.success}},[_vm._v("\n      "+_vm._s(_vm.newString)+"\n    ")]),_c("span",{staticClass:"version-available"},[_vm._v("\n      "+_vm._s(_vm.$tr("versionAvailable",{version:_vm.version}))+"\n    ")])]),_c("KButton",{attrs:{text:_vm.$tr("viewChangesAction"),appearance:"basic-link",primary:!1},on:{click:function($event){return _vm.$emit("click")}}})],1)}),[],!1,null,"be97064c",null).exports),SelectContentPage_ChannelContentsSummaryvue_type_script_lang_js_={name:"ChannelContentsSummary",mixins:[external_kolibriCoreAppGlobal_coreVue_mixins_commonCoreStrings_default.a],props:{channel:{type:Object,required:!0},channelOnDevice:{type:Object,default:function(){return{}}}},computed:{versionNumber:function(){return this.channelOnDevice.available&&void 0!==this.channelOnDevice.version?this.channelOnDevice.version:this.channel.version}},methods:{bytesForHumans:external_kolibriCoreAppGlobal_utils_bytesForHumans_default.a},$trs:{onDeviceRow:"On your device",resourceCount:"{count, number, useGrouping}",sizeCol:"Size",totalSizeRow:"Total size",version:"Version {version, number, integer}",unlistedChannelTooltip:"Unlisted channel",newOrUpdatedLabel:{message:"New or updated",context:"Table header for the number and size of resources that will be added to a channel after upgrading"}}},ChannelContentsSummary=(__webpack_require__(383),normalizeComponent(SelectContentPage_ChannelContentsSummaryvue_type_script_lang_js_,(function(){var _vm=this,_h=_vm.$createElement,_c=_vm._self._c||_h;return _c("section",[_c("div",{staticClass:"channel-header"},[_vm.channel.thumbnail?_c("img",{staticClass:"thumbnail",attrs:{src:_vm.channel.thumbnail}}):_vm._e(),_c("div",{staticClass:"channel-name"},[_c("KTooltip",{attrs:{reference:"lockicon",refs:_vm.$refs,placement:"right"}},[_vm._v("\n        "+_vm._s(_vm.$tr("unlistedChannelTooltip"))+"\n      ")]),_c("h1",[_c("KLabeledIcon",{attrs:{icon:"channel",label:_vm.channel.name}}),!1===_vm.channel.public?_c("KIcon",{ref:"lockicon",staticClass:"lock-icon",attrs:{icon:"unlistedchannel"}}):_vm._e()],1)],1),_c("KFixedGrid",{attrs:{numCols:"4"}},[_c("KFixedGridItem",{staticClass:"version",attrs:{span:"1"}},[_c("p",[_vm._v(_vm._s(_vm.$tr("version",{version:_vm.versionNumber})))])]),_c("KFixedGridItem",{attrs:{span:"3",alignment:"right"}},[_c("p",[_vm._t("default")],2)])],1),_c("p",{attrs:{dir:"auto"}},[_vm._v("\n      "+_vm._s(_vm.channel.description)+"\n    ")])],1),_c("table",{staticClass:"channel-statistics"},[_c("tr",{staticClass:"headers"},[_c("th"),_c("th",[_vm._v(_vm._s(_vm.coreString("resourcesLabel")))]),_c("th",[_vm._v(_vm._s(_vm.$tr("sizeCol")))])]),_c("tr",[_c("th",[_vm._v(_vm._s(_vm.$tr("totalSizeRow")))]),_c("td",[_vm._v(_vm._s(_vm.$tr("resourceCount",{count:_vm.channel.total_resources||0})))]),_c("td",[_vm._v(_vm._s(_vm.bytesForHumans(_vm.channel.total_file_size||0)))])]),_c("tr",[_c("th",[_vm._v(_vm._s(_vm.$tr("onDeviceRow")))]),_c("td",[_vm._v(_vm._s(_vm.$tr("resourceCount",{count:_vm.channel.on_device_resources||0})))]),_c("td",[_vm._v(_vm._s(_vm.bytesForHumans(_vm.channel.on_device_file_size||0)))])]),null!==_vm.channel.new_resource_count?_c("tr",[_c("th",[_vm._v(_vm._s(_vm.$tr("newOrUpdatedLabel")))]),_c("td",[_vm._v(_vm._s(_vm.$tr("resourceCount",{count:_vm.channel.new_resource_count||0})))]),_c("td",[_vm._v(_vm._s(_vm.bytesForHumans(_vm.channel.new_resource_total_size||0)))])]):_vm._e()])])}),[],!1,null,"3781a877",null).exports),every=__webpack_require__(147),every_default=__webpack_require__.n(every),flip=__webpack_require__(214),flip_default=__webpack_require__.n(flip),fp_sumBy=__webpack_require__(148),fp_sumBy_default=__webpack_require__.n(fp_sumBy),treeViewUtils_translator=Object(external_kolibriCoreAppGlobal_utils_i18n_.createTranslator)("TreeViewRowMessages",{alreadyOnYourDevice:"Already on your device",fractionOfResourcesOnDevice:"{onDevice, number, useGrouping} of {total, number, useGrouping} resources on your device",resourcesSelected:"{total, number, useGrouping} {total, plural, one {resource} other {resources}} selected",fractionOfResourcesSelected:"{selected, number, useGrouping} of {total, number, useGrouping} {total, plural, one {resource} other {resources}} selected",noTitle:"No title",someResourcesSelected:"Some resources selected",someResourcesOnDevice:"Some resources on this device",allResourcesSelected:"All resources selected",allResourcesOnDevice:"All resources on this device"}),CheckboxTypes_CHECKED="checked",CheckboxTypes_UNCHECKED="unchecked",CheckboxTypes_INDETERMINATE="indeterminate",isAncestorOf=function(a,b){return find_default()(b.path,{id:a.id})},isDescedantOf=flip_default()(isAncestorOf),sumTotalResources=fp_sumBy_default()("total_resources"),sumOnDeviceResources=fp_sumBy_default()("on_device_resources");function partiallySelectedNode(node){return Object.assign({},node,{message:treeViewUtils_translator.$tr("someResourcesSelected"),disabled:!1,checkboxType:CheckboxTypes_INDETERMINATE})}function fullySelectedNode(node){return Object.assign({},node,{message:treeViewUtils_translator.$tr("allResourcesSelected"),disabled:!1,checkboxType:CheckboxTypes_CHECKED})}function unselectedNode(node){return Object.assign({},node,{message:"",disabled:!1,checkboxType:CheckboxTypes_UNCHECKED})}function annotateNode(node,selectedNodes,forImport){void 0===forImport&&(forImport=!0);var on_device_resources=node.on_device_resources,total_resources=node.total_resources,isIncluded=find_default()(selectedNodes.included,{id:node.id}),isOmitted=find_default()(selectedNodes.omitted,{id:node.id}),ancestorIsIncluded=find_default()(selectedNodes.included,(function(iNode){return isAncestorOf(iNode,node)})),ancestorIsOmitted=find_default()(selectedNodes.omitted,(function(oNode){return isAncestorOf(oNode,node)})),nodeIsIncluded=isIncluded||ancestorIsIncluded;if(forImport&&on_device_resources===total_resources)return Object.assign({},fullySelectedNode(node),{disabled:!0,message:treeViewUtils_translator.$tr("alreadyOnYourDevice")});var omittedDescendants=selectedNodes.omitted.filter((function(oNode){return isDescedantOf(oNode,node)}));if(!nodeIsIncluded&&omittedDescendants.length>0)return partiallySelectedNode(node);if(!isOmitted&&!ancestorIsOmitted&&nodeIsIncluded){if(omittedDescendants.length>0){return(forImport?(sumTotalResources(omittedDescendants)||0)-(sumOnDeviceResources(omittedDescendants)||0)==total_resources-on_device_resources:(sumOnDeviceResources(omittedDescendants)||0)===on_device_resources)?unselectedNode(node):partiallySelectedNode(node)}return fullySelectedNode(node)}var fullyIncludedDescendants=selectedNodes.included.filter((function(iNode){return isDescedantOf(iNode,node)})).filter((function(iNode){return!selectedNodes.omitted.find((function(oNode){return isDescedantOf(oNode,iNode)}))}));if(fullyIncludedDescendants.length>0){var fullyTotal=sumTotalResources(fullyIncludedDescendants),fullyOnDevice=sumOnDeviceResources(fullyIncludedDescendants);return forImport?fullyTotal-fullyOnDevice==total_resources-on_device_resources?fullySelectedNode(node):partiallySelectedNode(node):fullyOnDevice===on_device_resources?fullySelectedNode(node):partiallySelectedNode(node)}return forImport&&on_device_resources>0?Object.assign({},unselectedNode(node),{message:treeViewUtils_translator.$tr("fractionOfResourcesOnDevice",{onDevice:on_device_resources,total:total_resources})}):unselectedNode(node)}var external_kolibriCoreAppGlobal_coreVue_components_ContentIcon_=__webpack_require__(215),external_kolibriCoreAppGlobal_coreVue_components_ContentIcon_default=__webpack_require__.n(external_kolibriCoreAppGlobal_coreVue_components_ContentIcon_),SelectContentPage_ContentNodeRowvue_type_script_lang_js_={name:"ContentNodeRow",components:{CoachContentLabel:external_kolibriCoreAppGlobal_coreVue_components_CoachContentLabel_default.a,ContentIcon:external_kolibriCoreAppGlobal_coreVue_components_ContentIcon_default.a,ChannelUpdateAnnotations:ChannelUpdateAnnotations},props:{node:{type:Object,required:!0},checked:{type:Boolean,default:!1},indeterminate:{type:Boolean,default:!1},disabled:{type:Boolean,default:!1},message:{type:String,required:!0},getLinkObject:{type:Function,required:!0}},computed:{isTopic:function(){return this.node.kind===external_kolibriCoreAppGlobal_coreVue_vuex_constants_.ContentNodeKinds.TOPIC},importing:function(){return this.node.updated_resource&&!this.node.available}}};__webpack_require__(386);function sanitizeNode(node){return omit_default()(node,["message","checkboxType","disabled","children"])}var SelectContentPage_ContentTreeViewervue_type_script_lang_js_={name:"ContentTreeViewer",components:{ContentNodeRow:normalizeComponent(SelectContentPage_ContentNodeRowvue_type_script_lang_js_,(function(){var _vm=this,_h=_vm.$createElement,_c=_vm._self._c||_h;return _c("tr",[_c("td",{staticClass:"core-table-checkbox-col"},[_c("KCheckbox",{attrs:{label:_vm.node.title,showLabel:!1,checked:_vm.checked,indeterminate:_vm.indeterminate,disabled:_vm.disabled},on:{change:function($event){return _vm.$emit("changeselection",_vm.node)}}})],1),_c("td",{staticClass:"title"},[_c("KLabeledIcon",[_c("ContentIcon",{attrs:{slot:"icon",kind:_vm.node.kind},slot:"icon"}),_vm.isTopic?_c("KRouterLink",{attrs:{name:"select-node",text:_vm.node.title,to:_vm.getLinkObject(_vm.node)}}):_c("span",{attrs:{dir:"auto"}},[_vm._v("\n        "+_vm._s(_vm.node.title)+"\n      ")]),_c("CoachContentLabel",{staticClass:"coach-content-label",attrs:{value:_vm.node.num_coach_contents,isTopic:_vm.isTopic}})],1)],1),_c("td",{staticClass:"message"},[_vm.message&&!_vm.importing?[_vm._v("\n      "+_vm._s(_vm.message)+"\n    ")]:_vm._e(),_vm.node.num_new_resources||_vm.importing?_c("ChannelUpdateAnnotations",{staticClass:"update-label",attrs:{isTopic:_vm.isTopic,newResources:_vm.node.num_new_resources,importing:_vm.importing}}):_vm._e()],2)])}),[],!1,null,"2a7f5978",null).exports,CoreTable:external_kolibriCoreAppGlobal_coreVue_components_CoreTable_default.a},props:{node:{type:Object,required:!1},manageMode:{type:Boolean,default:!1},disabled:{type:Boolean,default:!1}},data:function(){return{disableAll:!1}},computed:Object.assign({},Object(external_kolibriCoreAppGlobal_lib_vuex_.mapState)("manageContent/wizard",["nodesForTransfer"]),{currentTopicNode:function(){return this.node?this.node:this.$store.state.manageContent.wizard.currentTopicNode},transferType:function(){return this.manageMode?constants.j.LOCALEXPORT:this.$store.state.manageContent.wizard.transferType},path:function(){return this.manageMode?this.node.ancestors.concat([this.node]):this.$store.state.manageContent.wizard.path},breadcrumbs:function(){var this$1=this;return this.manageMode?this.path.map((function(x){var query={};x.id!==this$1.$route.params.channel_id&&(query.node=x.id);return{text:x.title,link:{query:query,params:{scrollTo:".content-tree-viewer"}}}})):this.path.map((function(x){return node=x,ref=this$1.$route,query=ref.query,params=ref.params,{text:node.title||treeViewUtils_translator.$tr("noTitle"),link:selectContentTopicLink(node,query,params.channel_id)};var node,ref,query,params}))},childNodes:function(){return this.currentTopicNode.children||[]},noSelectableNodes:function(){return this.transferType===constants.j.LOCALIMPORT&&every_default()(this.annotatedChildNodes,(function(node){return node.kind!==external_kolibriCoreAppGlobal_coreVue_vuex_constants_.ContentNodeKinds.TOPIC&&(!node.importable||node.on_device_resources>0)}))},disableSelectAll:function(){return this.disabled||this.disableAll||this.annotatedTopicNode.disabled||this.noSelectableNodes},childNodesWithPath:function(){var this$1=this;return this.childNodes.map((function(node){return Object.assign({},node,{path:this$1.path.concat([{id:node.id,title:node.title}])})}))},annotatedChildNodes:function(){var this$1=this;return this.childNodesWithPath.map((function(n){return annotateNode(n,this$1.nodesForTransfer,!this$1.manageMode)}))},showableAnnotatedChildNodes:function(){return this.annotatedChildNodes.filter(this.showNode)},annotatedTopicNode:function(){var selections={included:this.nodesForTransfer.included.concat(this.annotatedChildNodes.filter((function(n){return n.disabled}))),omitted:[].concat(this.nodesForTransfer.omitted)};return annotateNode(Object.assign({},this.currentTopicNode,{path:[].concat(this.path)}),selections,!this.manageMode)}}),methods:Object.assign({},Object(external_kolibriCoreAppGlobal_lib_vuex_.mapActions)("manageContent/wizard",["addNodeForTransfer","removeNodeForTransfer"]),{nodeIsChecked:function(node){return node.checkboxType===CheckboxTypes_CHECKED},nodeIsIndeterminate:function(node){return node.checkboxType===CheckboxTypes_INDETERMINATE},nodeCompletesParent:function(node){var this$1=this,siblings=this.annotatedChildNodes.filter((function(ref){return ref.id!==node.id}));return every_default()(siblings,(function(node){return this$1.nodeIsChecked(node)||node.disabled}))},showNode:function(node){return this.transferType===constants.j.LOCALEXPORT?node.available:node.importable&&node.total_resources},toggleSelectAll:function(){this.toggleSelection(this.annotatedTopicNode)},toggleSelection:function(node){var this$1=this;return this.disableAll=!0,(this.nodeIsChecked(node)?this.removeNodeForTransfer(sanitizeNode(node)):this.nodeCompletesParent(node)?this.addNodeForTransfer(sanitizeNode(this.annotatedTopicNode)):this.addNodeForTransfer(sanitizeNode(node))).then((function(){this$1.disableAll=!1,this$1.$forceUpdate()}))},topicLinkObject:function(node){return this.manageMode?{query:{node:node.id},params:{scrollTo:".content-tree-viewer"}}:selectContentTopicLink(node,this.$route.query,this.$route.params.channel_id)}}),$trs:{selectAll:"Select all",topicHasNoContents:"This topic has no sub-topics or resources"}},ContentTreeViewer=(__webpack_require__(387),normalizeComponent(SelectContentPage_ContentTreeViewervue_type_script_lang_js_,(function(){var _vm=this,_h=_vm.$createElement,_c=_vm._self._c||_h;return _c("section",{staticClass:"content-tree-viewer"},[_c("div",{staticClass:"breadcrumbs"},[_c("KBreadcrumbs",{attrs:{items:_vm.breadcrumbs,showSingleItem:!0}})],1),_vm.annotatedChildNodes.length>0?_c("div",{staticClass:"contents"},[_c("CoreTable",[_c("thead",{attrs:{slot:"thead"},slot:"thead"},[_c("tr",[_c("th",{staticClass:"core-table-checkbox-col select-all"},[_c("KCheckbox",{attrs:{label:_vm.$tr("selectAll"),checked:_vm.nodeIsChecked(_vm.annotatedTopicNode),disabled:_vm.disableSelectAll},on:{change:_vm.toggleSelectAll}})],1),_c("th"),_c("th")])]),_c("transition-group",{attrs:{slot:"tbody",tag:"tbody",name:"list"},slot:"tbody"},_vm._l(_vm.showableAnnotatedChildNodes,(function(cNode){return _c("ContentNodeRow",{key:cNode.id,attrs:{checked:_vm.nodeIsChecked(cNode),disabled:_vm.disabled||_vm.disableAll||cNode.disabled||cNode.updated_resource&&!cNode.available,indeterminate:_vm.nodeIsIndeterminate(cNode),message:cNode.message,node:cNode,getLinkObject:_vm.topicLinkObject},on:{changeselection:function($event){return _vm.toggleSelection(cNode)}}})})),1)],1)],1):_c("div",{staticClass:"no-contents"},[_vm._v("\n    "+_vm._s(_vm.$tr("topicHasNoContents"))+"\n  ")])])}),[],!1,null,"27230e2d",null).exports);var views_SelectContentPagevue_type_script_lang_js_={name:"SelectContentPage",metaInfo:function(){return{title:this.$tr("selectContent",{channelName:this.transferredChannel.name})}},components:{ChannelContentsSummary:ChannelContentsSummary,ContentTreeViewer:ContentTreeViewer,ContentWizardUiAlert:ContentWizardUiAlert,NewChannelVersionBanner:NewChannelVersionBanner,SelectionBottomBar:SelectionBottomBar,TaskProgress:TaskProgress,UiAlert:external_kolibriCoreAppGlobal_coreVue_components_UiAlert_default.a},mixins:[external_kolibriCoreAppGlobal_coreVue_mixins_responsiveWindowMixin_default.a,taskNotificationMixin],data:function(){return{contentTransferError:!1,metadataDownloadTaskId:"",disableBottomBar:!1}},computed:Object.assign({},Object(external_kolibriCoreAppGlobal_lib_vuex_.mapGetters)("manageContent",["channelIsOnDevice"]),Object(external_kolibriCoreAppGlobal_lib_vuex_.mapState)("manageContent",["taskList"]),Object(external_kolibriCoreAppGlobal_lib_vuex_.mapGetters)("manageContent/wizard",["inLocalImportMode","inPeerImportMode","inRemoteImportMode"]),Object(external_kolibriCoreAppGlobal_lib_vuex_.mapState)("manageContent/wizard",["currentTopicNode","selectedDrive","selectedPeer","status","transferredChannel","transferFileSize","transferResourceCount"]),{channelId:function(){return this.$route.params.channel_id},onDeviceInfoIsReady:function(){return!isEmpty_default()(this.currentTopicNode)},metadataDownloadTask:function(){var this$1=this;return find_default()(this.taskList,(function(ref){var type=ref.type;return ref.channel_id===this$1.channelId&&(type===constants.i.REMOTECHANNELIMPORT||type===constants.i.DISKCHANNELIMPORT)}))},wholePageError:function(){if(Object.values(constants.c).includes(this.status))return this.status},channelOnDevice:function(){return this.channelIsOnDevice(this.transferredChannel.id)||{}},availableVersions:function(){return{source:this.transferredChannel.version,installed:this.channelOnDevice.version}},newVersionAvailable:function(){return this.availableVersions.source>this.availableVersions.installed}}),watch:{metadataDownloadTask:{handler:function(val){val?(this.metadataDownloadTaskId=val.id,Object(constants.l)(val)&&external_kolibriCoreAppGlobal_resources_.TaskResource.deleteFinishedTask(val.id)):this.metadataDownloadTaskId=""},immediate:!0},transferredChannel:function(val){val.name&&this.setAppBarTitle(this.$tr("selectContent",{channelName:val.name}))}},beforeRouteLeave:function(to,from,next){this.cancelMetadataDownloadTask(),this.$store.commit("manageContent/wizard/RESET_NODE_LISTS"),next()},mounted:function(){var title;this.wholePageError?title=this.$tr("pageLoadError"):(this.inRemoteImportMode?title=this.$route.query.last===constants.g.MANAGE_CHANNEL?this.transferredChannel.name:this.$tr("kolibriStudioLabel"):this.inPeerImportMode?title=this.$tr("importingFromPeer",{deviceName:this.selectedPeer.device_name,url:this.selectedPeer.base_url}):this.inLocalImportMode&&(title=this.$tr("importingFromDrive",{driveName:this.selectedDrive.name})),title&&this.setAppBarTitle(title))},methods:Object.assign({},Object(external_kolibriCoreAppGlobal_lib_vuex_.mapMutations)("coreBase",{setAppBarTitle:"SET_APP_BAR_TITLE"}),Object(external_kolibriCoreAppGlobal_lib_vuex_.mapActions)("manageContent",["cancelTask"]),{cancelMetadataDownloadTask:function(){return this.metadataDownloadTaskId?this.cancelTask(this.metadataDownloadTaskId):Promise.resolve()},handleClickConfirm:function(){var importSource,this$1=this;if(this.inRemoteImportMode)importSource={type:"studio"};else if(this.inPeerImportMode){if(!this.selectedPeer.base_url)throw Error("Peer URL is not provided");importSource={type:"peer",id:this.selectedPeer.id}}else{if(!this.inLocalImportMode)throw Error("Import source is not provided");if(!this.selectedDrive.id)throw Error("Drive ID is not provided");importSource={type:"drive",driveId:this.selectedDrive.id}}var nodesForTransfer=this.$store.state.manageContent.wizard.nodesForTransfer;this.disableBottomBar=!0,this.startImportTask({importSource:importSource,channelId:this.channelId,included:nodesForTransfer.included.map((function(x){return x.id})),excluded:nodesForTransfer.omitted.map((function(x){return x.id})),fileSize:this.transferFileSize,totalResources:this.transferResources}).then((function(task){this$1.disableBottomBar=!1,this$1.notifyAndWatchTask(task)})).catch((function(){this$1.disableBottomBar=!1,this$1.createTaskFailedSnackbar()}))},startImportTask:function(params){var importSource=params.importSource,taskParams={channel_id:params.channelId,node_ids:params.included,exclude_node_ids:params.excluded};return"peer"===importSource.type||"studio"===importSource.type?(importSource.id&&(taskParams.peer_id=importSource.id),external_kolibriCoreAppGlobal_resources_.TaskResource.startRemoteContentImport(taskParams)):"drive"===importSource.type?(taskParams.drive_id=importSource.driveId,external_kolibriCoreAppGlobal_resources_.TaskResource.startDiskContentImport(taskParams)):Promise.reject()},handleClickViewNewVersion:function(){this.$router.push({name:constants.g.NEW_CHANNEL_VERSION_PAGE,query:Object.assign({},this.$route.query,{last:constants.g.SELECT_CONTENT})})},onWatchedTaskFinished:function(){var this$1=this;updateTreeViewTopic(this.$store,this.currentTopicNode),this.$store.commit("manageContent/wizard/RESET_NODE_LISTS"),getChannelWithContentSizes(this.channelId).then((function(channel){this$1.$store.commit("manageContent/wizard/UPDATE_TRANSFERRED_CHANNEL",{on_device_file_size:channel.on_device_file_size,on_device_resources:channel.on_device_resources})}))}}),$trs:{pageLoadError:"There was a problem loading this page…",problemFetchingChannel:{message:"There was a problem getting the contents of this channel",context:'\nThis string should actually say "There was a problem getting the list of resources from this channel"'},problemTransferringContents:{message:"There was a problem transferring the selected contents",context:'\nThis string should actually say "There was a problem transferring the selected resources"'},selectContent:"Select resources from '{channelName}'",kolibriStudioLabel:"Kolibri Studio",importingFromDrive:"Importing from drive '{driveName}'",importingFromPeer:"Importing from '{deviceName}' ({url})"}},SelectContentPage=(__webpack_require__(388),normalizeComponent(views_SelectContentPagevue_type_script_lang_js_,(function(){var _vm=this,_h=_vm.$createElement,_c=_vm._self._c||_h;return _c("div",[_vm.wholePageError?_c("ContentWizardUiAlert",{attrs:{errorType:_vm.wholePageError}}):[_c("TaskProgress",{attrs:{show:!_vm.onDeviceInfoIsReady,type:"DOWNLOADING_CHANNEL_CONTENTS",showButtons:!1,status:"RUNNING"}}),_vm.onDeviceInfoIsReady?[_vm.transferredChannel&&_vm.onDeviceInfoIsReady?_c("section",{staticClass:"updates"},[_vm.newVersionAvailable?_c("NewChannelVersionBanner",{staticClass:"banner",attrs:{version:_vm.availableVersions.source},on:{click:_vm.handleClickViewNewVersion}}):_vm._e()],1):_vm._e(),_c("ChannelContentsSummary",{attrs:{channel:_vm.transferredChannel,channelOnDevice:_vm.channelOnDevice}}),""!==_vm.status?_c("UiAlert",{attrs:{type:"error",dismissible:!1}},[_vm._v("\n        "+_vm._s(_vm.$tr("problemFetchingChannel"))+"\n      ")]):_vm._e(),_vm.contentTransferError?_c("UiAlert",{attrs:{type:"error",dismissible:!1}},[_vm._v("\n        "+_vm._s(_vm.$tr("problemTransferringContents"))+"\n      ")]):_vm._e(),_vm.newVersionAvailable?_vm._e():_c("ContentTreeViewer",{staticClass:"block-item",class:{small:_vm.windowIsSmall},style:{borderBottomColor:_vm.$themeTokens.fineLine}})]:_vm._e()],_vm.newVersionAvailable?_vm._e():_c("SelectionBottomBar",{attrs:{objectType:"resource",actionType:"import",resourceCounts:{count:_vm.transferResourceCount,fileSize:_vm.transferFileSize},disabled:_vm.disableBottomBar||_vm.newVersionAvailable},on:{clickconfirm:_vm.handleClickConfirm}})],2)}),[],!1,null,"6ad7e8b3",null).exports),last=__webpack_require__(51),last_default=__webpack_require__.n(last);var ManageContentPage_ManageChannelContentsPagevue_type_script_lang_js_={name:"ManageChannelContentsPage",metaInfo:function(){return this.channel?{title:this.title}:{}},components:{ChannelContentsSummary:ChannelContentsSummary,ContentTreeViewer:ContentTreeViewer,DeleteResourcesModal:normalizeComponent({name:"DeleteResourcesModal",mixins:[external_kolibriCoreAppGlobal_coreVue_mixins_commonCoreStrings_default.a],props:{numberOfResources:{type:Number,required:!0}},data:function(){return{deleteEverywhere:!1}},computed:{title:function(){return 1===this.numberOfResources?this.$tr("titleSingleResource"):this.$tr("titleMultipleResources")}},$trs:{titleMultipleResources:"Delete resources",titleSingleResource:"Delete resource",confirmationQuestionOneResource:"Are you sure you want to delete this resource from your device?",confirmationQuestionMultipleResources:"Are you sure you want to delete these resources from your device?",deleteEverywhereLabel:{message:"Also delete any copies found in other locations and channels",context:"\nWhen some of the resources admin selected are present in multiple channels, Kolibri will provide an option for the admin to delete all instances "},deleteEverywhereExplanationOneResource:{message:"Some copies of this resource may be in other locations on your device",context:"\nWhen some of the resources admin selected are present in multiple channels, Kolibri will provide an option for the admin to delete all instances "},deleteEverywhereExplanationMultipleResources:{message:"Some copies of these resources may be in other locations on your device",context:"\nWhen some of the resources admin selected are present in multiple channels, Kolibri will provide an option for the admin to delete all instances "}}},(function(){var _vm=this,_h=_vm.$createElement,_c=_vm._self._c||_h;return _c("KModal",{attrs:{title:_vm.title,submitText:_vm.coreString("deleteAction"),cancelText:_vm.coreString("cancelAction")},on:{submit:function($event){return _vm.$emit("submit",{deleteEverywhere:_vm.deleteEverywhere})},cancel:function($event){return _vm.$emit("cancel")}}},[_c("div",[1===_vm.numberOfResources?[_c("p",[_vm._v(_vm._s(_vm.$tr("confirmationQuestionOneResource")))]),_c("p",[_vm._v(_vm._s(_vm.$tr("deleteEverywhereExplanationOneResource")))])]:[_c("p",[_vm._v(_vm._s(_vm.$tr("confirmationQuestionMultipleResources")))]),_c("p",[_vm._v(_vm._s(_vm.$tr("deleteEverywhereExplanationMultipleResources")))])],_c("KCheckbox",{attrs:{label:_vm.$tr("deleteEverywhereLabel")},on:{change:function($event){_vm.deleteEverywhere=$event}},model:{value:_vm.deleteEverywhere,callback:function($$v){_vm.deleteEverywhere=$$v},expression:"deleteEverywhere"}})],2)])}),[],!1,null,"af5695dc",null).exports,NewChannelVersionBanner:NewChannelVersionBanner,SelectDriveModal:SelectDriveModal,SelectionBottomBar:SelectionBottomBar,SelectTransferSourceModal:SelectTransferSourceModal,TaskProgress:TaskProgress},mixins:[external_kolibriCoreAppGlobal_coreVue_mixins_commonCoreStrings_default.a,taskNotificationMixin],data:function(){return{channel:null,currentNodeId:null,freeSpace:null,shownModal:null,nodeCache:{},studioChannel:null,selectSourcePageName:null,bottomBarDisabled:!1,watchedTaskType:null}},computed:{channelId:function(){return this.$route.params.channel_id},selections:function(){var nodes=this.$store.state.manageContent.wizard.nodesForTransfer;return{included:nodes.included.map((function(x){return x.id})),excluded:nodes.omitted.map((function(x){return x.id}))}},title:function(){return this.$tr("title",{channelName:this.channel.name})},availableVersions:function(){return{studioLatest:get_default()(this.studioChannel,"version",-1/0),installed:get_default()(this.channel,"version")}},currentNode:function(){return this.nodeCache[this.currentNodeId]},resourceCounts:function(){var ref=this.$store.state.manageContent.wizard;return{count:ref.transferResourceCount,fileSize:ref.transferFileSize}}},watch:{"$route.query.node":{handler:function(newVal){this.updateNode(newVal)},deep:!0}},beforeRouteLeave:function(to,from,next){this.$store.commit("manageContent/wizard/RESET_NODE_LISTS"),this.$store.commit("manageContent/wizard/RESET_STATE"),next()},beforeMount:function(){var this$1=this;this.$store.commit("coreBase/SET_APP_BAR_TITLE",this.coreString("loadingLabel")),this.fetchPageData(this.channelId).then((function(pageData){this$1.setUpPage(pageData)})).catch((function(error){this$1.$store.dispatch("handleApiError",error)}))},methods:{setUpPage:function(ref){var freeSpace=ref.freeSpace,channel=ref.channel,studioChannel=ref.studioChannel;return this.freeSpace=freeSpace,this.channel=Object.assign({},channel),studioChannel&&(this.studioChannel=Object.assign({},studioChannel)),this.$store.commit("manageContent/wizard/SET_TRANSFERRED_CHANNEL",this.channel),this.$store.commit("manageContent/wizard/SET_TRANSFER_TYPE",constants.j.LOCALEXPORT),this.$store.commit("coreBase/SET_APP_BAR_TITLE",this.title),this.updateNode(this.$route.query.node||channel.root)},updateNode:function(newNodeId){var this$1=this;newNodeId?this.nodeCache[newNodeId]?this.currentNodeId=newNodeId:this.fetchNodeWithAncestors(newNodeId).then((function(node){0===node.children.filter((function(x){return x.available})).length?this$1.$router.replace({query:{node:last_default()(node.ancestors).id}}):(this$1.$set(this$1.nodeCache,newNodeId,node),this$1.currentNodeId=newNodeId)})).catch((function(error){this$1.$store.dispatch("handleApiError",error)})):this.updateNode(this.channel.root)},handleDeleteSubmit:function(ref){var deleteEverywhere=ref.deleteEverywhere;this.beforeTask(),this.startDeleteTask({deleteEverywhere:deleteEverywhere,channelId:this.channelId,included:this.selections.included,excluded:this.selections.excluded}).then(this.onTaskSuccess,this.onTaskFailure)},handleExportSubmit:function(ref){var driveId=ref.driveId;this.beforeTask(),this.startExportTask({driveId:driveId,channelId:this.channelId,included:this.selections.included,excluded:this.selections.excluded}).then(this.onTaskSuccess,this.onTaskFailure)},beforeTask:function(){this.closeModal(),this.bottomBarDisabled=!0},onTaskSuccess:function(task){this.bottomBarDisabled=!1,this.watchedTaskType=task.data.type,this.notifyAndWatchTask(task)},onTaskFailure:function(){this.bottomBarDisabled=!1,this.createTaskFailedSnackbar()},handleClickViewNewVersion:function(){this.$router.push({name:constants.g.NEW_CHANNEL_VERSION_PAGE,query:{last:constants.g.MANAGE_CHANNEL}})},handleSelectImportMoreSource:function(params){var baseLinkObject={name:constants.g.SELECT_CONTENT,params:{channel_id:this.channelId},query:{last:constants.g.MANAGE_CHANNEL}};params.source===constants.b.LOCAL_DRIVE?baseLinkObject.query.drive_id=params.drive_id:params.source===constants.b.PEER_KOLIBRI_SERVER&&(baseLinkObject.query.address_id=params.address_id),this.$router.push(baseLinkObject)},closeModal:function(){this.selectSourcePageName=null,this.shownModal=null},onWatchedTaskFinished:function(){var this$1=this;this.watchedTaskType===constants.i.DELETECONTENT&&(this.nodeCache={},this.$store.commit("manageContent/wizard/RESET_NODE_LISTS"),this.fetchPageData(this.channelId).then(this.setUpPage).catch((function(error){404===error.response.status?this$1.$router.replace({name:constants.g.MANAGE_CONTENT_PAGE}):this$1.$store.dispatch("handleApiError",error)})))},fetchPageData:function(channelId){var this$1=this,studioChannelPromise=external_kolibriCoreAppGlobal_resources_.RemoteChannelResource.fetchModel({id:channelId,force:!0}).then((function(channel){this$1.studioChannel=Object.assign({},channel[0])})).catch((function(){return null}));return Promise.all([getDeviceInfo(),getChannelWithContentSizes(this.channelId),studioChannelPromise]).then((function(ref){var deviceInfo=ref[0],channel=ref[1],studioChannel=ref[2];return{freeSpace:deviceInfo.free_space,channel:channel,studioChannel:studioChannel}}))},fetchNodeWithAncestors:function(nodeId){return external_kolibriCoreAppGlobal_resources_.ContentNodeGranularResource.fetchModel({id:nodeId,getParams:{for_export:!0},force:!0})},startExportTask:function(params){var channelId=params.channelId,driveId=params.driveId,included=params.included,omitted=params.omitted;return external_kolibriCoreAppGlobal_resources_.TaskResource.startDiskContentExport({channel_id:channelId,drive_id:driveId,node_ids:included,exclude_node_ids:omitted})},startDeleteTask:function(params){var channelId=params.channelId,included=params.included,excluded=params.excluded,deleteEverywhere=params.deleteEverywhere;return external_kolibriCoreAppGlobal_resources_.TaskResource.postListEndpoint("startdeletechannel",{channel_id:channelId,node_ids:included,exclude_node_ids:excluded,force_delete:deleteEverywhere})}},$trs:{title:"Manage '{channelName}'",importMoreAction:"Import more"}},ManageChannelContentsPage=(__webpack_require__(389),normalizeComponent(ManageContentPage_ManageChannelContentsPagevue_type_script_lang_js_,(function(){var _vm=this,_h=_vm.$createElement,_c=_vm._self._c||_h;return _c("div",{staticClass:"manage-channel-page"},[_c("TaskProgress",{attrs:{show:!_vm.channel,type:"DOWNLOADING_CHANNEL_CONTENTS",showButtons:!1,status:"RUNNING"}}),_vm.channel?[_c("ChannelContentsSummary",{attrs:{channel:_vm.channel}},[_vm.availableVersions.studioLatest>_vm.availableVersions.installed?_c("NewChannelVersionBanner",{staticClass:"banner",attrs:{version:_vm.availableVersions.studioLatest},on:{click:_vm.handleClickViewNewVersion}}):_vm._e()],1),_c("div",{staticStyle:{"text-align":"right"}},[_c("KButton",{attrs:{text:_vm.$tr("importMoreAction")},on:{click:function($event){_vm.shownModal="IMPORT_MORE"}}})],1),_c("transition",{attrs:{mode:"out-in"}},[_vm.currentNode?_c("ContentTreeViewer",{style:{borderBottomColor:_vm.$themeTokens.fineLine},attrs:{node:_vm.currentNode,manageMode:!0}}):_c("KLinearLoader",{attrs:{delay:!1}})],1)]:_vm._e(),"DELETE"===_vm.shownModal?_c("DeleteResourcesModal",{attrs:{numberOfResources:_vm.resourceCounts.count},on:{cancel:_vm.closeModal,submit:_vm.handleDeleteSubmit}}):_vm._e(),"EXPORT"===_vm.shownModal?_c("SelectDriveModal",{attrs:{manageMode:!0,exportFileSize:_vm.resourceCounts.fileSize},on:{cancel:_vm.closeModal,submit:_vm.handleExportSubmit}}):_vm._e(),"IMPORT_MORE"===_vm.shownModal?_c("SelectTransferSourceModal",{attrs:{manageMode:!0,pageName:_vm.selectSourcePageName},on:{"update:pageName":function($event){_vm.selectSourcePageName=$event},"update:page-name":function($event){_vm.selectSourcePageName=$event},cancel:_vm.closeModal,submit:_vm.handleSelectImportMoreSource}}):_vm._e(),_c("SelectionBottomBar",{attrs:{objectType:"resource",actionType:"manage",resourceCounts:_vm.resourceCounts,disabled:!Boolean(_vm.currentNode)||_vm.bottomBarDisabled},on:{selectoption:function($event){_vm.shownModal=$event}}})],2)}),[],!1,null,"f62f0338",null).exports),wizardTransitionRoutes=[{name:constants.d.AVAILABLE_CHANNELS,component:Object(withAuthMessage.a)(AvailableChannelsPage,"contentManager"),path:"/content/channels",handler:function(ref){var query=ref.query;return showAvailableChannelsPage(external_kolibriCoreAppGlobal_coreVue_vuex_store_default.a,{address_id:query.address_id,drive_id:query.drive_id})}},{name:constants.g.MANAGE_CHANNEL,component:Object(withAuthMessage.a)(ManageChannelContentsPage,"contentManager"),path:"/content/manage_channel/:channel_id",handler:function(ref){var name=ref.name;external_kolibriCoreAppGlobal_coreVue_vuex_store_default.a.dispatch("preparePage",{name:name}),external_kolibriCoreAppGlobal_coreVue_vuex_store_default.a.commit("CORE_SET_PAGE_LOADING",!1)}},{name:constants.d.SELECT_CONTENT,component:Object(withAuthMessage.a)(SelectContentPage,"contentManager"),path:"/content/channels/:channel_id",handler:function(toRoute){var query=toRoute.query,params=toRoute.params,node_id=query.node_id;if(node_id){var nextNode;if(external_kolibriCoreAppGlobal_coreVue_vuex_store_default.a.state.manageContent.wizard.transferType&&node_id!==params.channel_id)return nextNode=params.node?params.node:{path:external_kolibriCoreAppGlobal_coreVue_vuex_store_default.a.state.manageContent.wizard.pathCache[node_id],id:node_id},updateTreeViewTopic(external_kolibriCoreAppGlobal_coreVue_vuex_store_default.a,nextNode);external_kolibriCoreAppGlobal_coreVue_router_default.a.replace(Object.assign({},toRoute,{query:omit_default()(query,"node_id")}))}else{var cachedChannelPath=external_kolibriCoreAppGlobal_coreVue_vuex_store_default.a.state.manageContent.wizard.pathCache[params.channel_id];if(!cachedChannelPath)return showSelectContentPage(external_kolibriCoreAppGlobal_coreVue_vuex_store_default.a,{channel_id:params.channel_id,address_id:query.address_id,drive_id:query.drive_id});updateTreeViewTopic(external_kolibriCoreAppGlobal_coreVue_vuex_store_default.a,cachedChannelPath[0])}}}];function hideLoadingScreen(){external_kolibriCoreAppGlobal_coreVue_vuex_store_default.a.commit("CORE_SET_PAGE_LOADING",!1)}function defaultHandler(toRoute){external_kolibriCoreAppGlobal_coreVue_vuex_store_default.a.dispatch("preparePage",{name:toRoute.name}),hideLoadingScreen()}var src_routes=[{path:"/",redirect:"/content"},{name:constants.g.MANAGE_CONTENT_PAGE,component:Object(withAuthMessage.a)(ManageContentPage,"contentManager"),path:"/content",handler:function(ref){var store,name=ref.name;external_kolibriCoreAppGlobal_coreVue_vuex_store_default.a.dispatch("preparePage",{name:name}),(store=external_kolibriCoreAppGlobal_coreVue_vuex_store_default.a,store.commit("manageContent/RESET_STATE"),store.commit("manageContent/wizard/RESET_STATE"),store.getters.canManageContent?Promise.all([store.dispatch("manageContent/refreshTaskList"),store.dispatch("manageContent/refreshChannelList")]):Promise.resolve()).then(hideLoadingScreen)},beforeEnter:function(to,from,next){"/welcome"===to.redirectedFrom?external_kolibriCoreAppGlobal_coreVue_vuex_store_default.a.dispatch("getFacilities").then(next,next):next()}},{name:constants.g.MANAGE_PERMISSIONS_PAGE,component:Object(withAuthMessage.a)(ManagePermissionsPage,"superuser"),path:"/permissions",handler:function(ref){var store,name=ref.name;external_kolibriCoreAppGlobal_coreVue_vuex_store_default.a.dispatch("preparePage",{name:name}),(store=external_kolibriCoreAppGlobal_coreVue_vuex_store_default.a,external_kolibriCoreAppGlobal_lib_conditionalPromise_default.a.all([external_kolibriCoreAppGlobal_resources_.FacilityUserResource.fetchCollection(),external_kolibriCoreAppGlobal_resources_.DevicePermissionsResource.fetchCollection({force:!0}).then((function(permissions){return mapValues_default()(groupBy_default()(permissions,"user"),head_default.a)}))]).only(external_kolibriCoreAppGlobal_utils_samePageCheckGenerator_default()(store)).then((function(ref){var users=ref[0],permissions=ref[1];store.commit("managePermissions/SET_STATE",{facilityUsers:users,permissions:permissions})})).catch((function(error){store.dispatch("handleApiError",error)}))).then(hideLoadingScreen)}},{name:"FACILITIES_PAGE",component:Object(withAuthMessage.a)(FacilitiesPage,"superuser"),path:"/facilities",handler:function(ref){var name=ref.name;external_kolibriCoreAppGlobal_coreVue_vuex_store_default.a.dispatch("preparePage",{name:name,isAsync:!1})}},{name:"FACILITIES_TASKS_PAGE",component:Object(withAuthMessage.a)(FacilitiesTasksPage,"superuser"),path:"/facilities/tasks",handler:function(ref){var name=ref.name;external_kolibriCoreAppGlobal_coreVue_vuex_store_default.a.dispatch("preparePage",{name:name,isAsync:!1})}},{name:constants.g.USER_PERMISSIONS_PAGE,component:Object(withAuthMessage.a)(UserPermissionsPage,"superuser"),path:"/permissions/:userId",handler:function(ref){var params=ref.params,name=ref.name;external_kolibriCoreAppGlobal_coreVue_vuex_store_default.a.dispatch("preparePage",{name:name}),function(store,userId){var setAppBarTitle=function(title){return store.commit("coreBase/SET_APP_BAR_TITLE",title)},setUserPermissionsState=function(state){return store.commit("userPermissions/SET_STATE",state)},stopLoading=function(){return store.commit("CORE_SET_PAGE_LOADING",!1)};if(!store.getters.isSuperuser)return setUserPermissionsState({user:null,permissions:{}}),setAppBarTitle(translator.$tr("goBackTitle")),stopLoading(),Promise.resolve();setAppBarTitle(translator.$tr("loading"));var samePage=external_kolibriCoreAppGlobal_utils_samePageCheckGenerator_default()(store);Promise.all([fetchUserPermissions(userId),store.dispatch("getFacilities")]).then((function(ref){var data=ref[0];samePage()&&(setAppBarTitle(data.user.full_name),setUserPermissionsState({user:data.user,permissions:data.permissions}),stopLoading())})).catch((function(error){samePage()&&(404===error.response.status&&(setAppBarTitle(translator.$tr("invalidUserTitle")),setUserPermissionsState({user:null,permissions:{}})),store.dispatch("handleApiError",error),stopLoading())}))}(external_kolibriCoreAppGlobal_coreVue_vuex_store_default.a,params.userId)}},{name:constants.g.DEVICE_INFO_PAGE,component:Object(withAuthMessage.a)(DeviceInfoPage,"contentManager"),path:"/info",handler:function(ref){var store,name=ref.name;external_kolibriCoreAppGlobal_coreVue_vuex_store_default.a.dispatch("preparePage",{name:name}),(store=external_kolibriCoreAppGlobal_coreVue_vuex_store_default.a,store.getters.canManageContent?external_kolibriCoreAppGlobal_lib_conditionalPromise_default.a.all([getDeviceInfo()]).only(external_kolibriCoreAppGlobal_utils_samePageCheckGenerator_default()(store)).then((function(ref){var deviceInfo=ref[0];store.commit("deviceInfo/SET_STATE",{deviceInfo:deviceInfo})})).catch((function(error){store.dispatch("handleApiError",error)})):Promise.resolve()).then(hideLoadingScreen)}},{name:constants.g.DEVICE_SETTINGS_PAGE,component:Object(withAuthMessage.a)(DeviceSettingsPage,"admin"),path:"/settings",handler:defaultHandler},{name:constants.g.DELETE_CHANNELS,path:"/content/delete_channels",component:Object(withAuthMessage.a)(DeleteExportChannelsPage,"contentManager"),props:{actionType:"delete"},handler:defaultHandler},{name:constants.g.EXPORT_CHANNELS,path:"/content/export_channels",component:Object(withAuthMessage.a)(DeleteExportChannelsPage,"contentManager"),props:{actionType:"export"},handler:defaultHandler},{name:constants.g.REARRANGE_CHANNELS,path:"/content/rearrange_channels",component:Object(withAuthMessage.a)(RearrangeChannelsPage,"contentManager"),handler:defaultHandler},{name:constants.g.MANAGE_TASKS,path:"/content/manage_tasks",component:Object(withAuthMessage.a)(ManageTasksPage,"contentManager"),handler:defaultHandler},{name:constants.g.NEW_CHANNEL_VERSION_PAGE,path:"/content/manage_channel/:channel_id/upgrade",component:Object(withAuthMessage.a)(NewChannelVersionPage,"contentManager"),handler:defaultHandler}].concat(wizardTransitionRoutes,[{path:"/content/*",redirect:"/content"}]),deviceInfo={namespaced:!0,state:{deviceInfo:{},deviceName:null},mutations:{SET_STATE:function(state,payload){state.deviceInfo=payload.deviceInfo,state.deviceName=payload.deviceInfo.device_name},SET_DEVICE_NAME:function(state,name){state.deviceName=name},RESET_STATE:function(state){state.deviceInfo={},state.deviceName=null}},actions:{updateDeviceName:function(store,name){return external_kolibriCoreAppGlobal_client_default()({url:external_kolibriCoreAppGlobal_urls_default.a["kolibri:core:devicename"](),method:"PATCH",data:{name:name}}).then((function(response){store.commit("SET_DEVICE_NAME",response.data.name)}))}}},findLastIndex=__webpack_require__(216),findLastIndex_default=__webpack_require__.n(findLastIndex),fp_omit=__webpack_require__(217),fp_omit_default=__webpack_require__.n(fp_omit);function getAllRemoteChannels(store,publicChannels){var channelList=store.rootState.manageContent.channelList,promises=differenceBy_default()(channelList,publicChannels,"id").filter((function(channel){return channel.available})).map((function(installedChannel){return getRemoteChannelByToken(installedChannel.id).then((function(ref){var channel=ref[0];return Promise.resolve(Object.assign({},channel,installedChannel,{installed_version:installedChannel.version,latest_version:channel.version}))})).catch((function(){return Promise.resolve()}))}));return Promise.all(promises).then((function(unlisted){return unlisted.filter(Boolean).concat(publicChannels)}))}function getAllDriveChannels(store,drive){var channelList=store.rootState.manageContent.channelList;return drive.metadata.channels.map((function(c){var installedChannel=find_default()(channelList,{id:c.id,available:!0})||{};return Object.assign({},c,{installed_version:installedChannel.version,latest_version:c.version})}))}function fetchUnlistedChannelInfo(store,channelId){return getRemoteChannelByToken(channelId).then((function(channels){return Array(channels)}))}var fp_map=__webpack_require__(218),fp_map_default=__webpack_require__.n(fp_map),partition=__webpack_require__(54),partition_default=__webpack_require__.n(partition),pluckIds=fp_map_default()("id");function isDescendantOrSelf(testNode,selfNode){return testNode.id===selfNode.id||find_default()(testNode.path,{id:selfNode.id})}function setImportExportFileSizeAndResourceCount(store){var ref=store.state,transferredChannel=ref.transferredChannel,nodesForTransfer=ref.nodesForTransfer;if(0===nodesForTransfer.included.length&&0===nodesForTransfer.omitted.length)return store.commit("SET_TRANSFER_SIZE",{transferFileSize:0,transferResourceCount:0}),Promise.resolve();var postArgs={channel_id:transferredChannel.id,node_ids:nodesForTransfer.included.map((function(node){return node.id})),exclude_node_ids:nodesForTransfer.omitted.map((function(node){return node.id}))};if(store.getters.inLocalImportMode){var selectedDrive=store.state.selectedDrive;postArgs.drive_id=selectedDrive.id}if(store.getters.inPeerImportMode){var selectedPeer=store.state.selectedPeer;postArgs.peer_id=selectedPeer.id}return store.getters.inExportMode&&(postArgs.export=!0),external_kolibriCoreAppGlobal_client_default()({url:external_kolibriCoreAppGlobal_urls_default.a["kolibri:kolibri.plugins.device:importexportsizeview"](),method:"POST",data:postArgs}).then((function(response){var ref=response.data,file_size=ref.file_size,resource_count=ref.resource_count;store.commit("SET_TRANSFER_SIZE",{transferFileSize:file_size,transferResourceCount:resource_count})}))}function addNodeForTransfer(store,node){var ref=store.state.nodesForTransfer,included=ref.included,omitted=ref.omitted,ref$1=partition_default()(omitted,(function(omitNode){return isDescendantOrSelf(omitNode,node)})),notToOmit=ref$1[0],toOmit=ref$1[1];notToOmit.length>0&&store.commit("REPLACE_OMIT_LIST",toOmit);var ref$2=partition_default()(included,(function(includeNode){return isDescendantOrSelf(includeNode,node)})),notToIncluded=ref$2[0],toInclude=ref$2[1];return notToIncluded.length>0&&store.commit("REPLACE_INCLUDE_LIST",toInclude),store.commit("ADD_NODE_TO_INCLUDE_LIST",node),setImportExportFileSizeAndResourceCount(store)}function removeNodeForTransfer(store,node){var forImport=!store.getters.inExportMode,ref=store.state.nodesForTransfer,included=ref.included,omitted=ref.omitted,ref$1=partition_default()(included,(function(includeNode){return isDescendantOrSelf(includeNode,node)})),notToInclude=ref$1[0],toInclude=ref$1[1];notToInclude.length>0&&store.commit("REPLACE_INCLUDE_LIST",toInclude);var includedAncestors=included.filter((function(includeNode){return pluckIds(node.path).includes(includeNode.id)&&node.id!==includeNode.id}));if(includedAncestors.length>0){var ref$2=partition_default()(omitted,(function(omitNode){return isDescendantOrSelf(omitNode,node)})),notToOmit=ref$2[0],toOmit=ref$2[1];return notToOmit.length>0&&store.commit("REPLACE_OMIT_LIST",toOmit),store.commit("ADD_NODE_TO_OMIT_LIST",node),setImportExportFileSizeAndResourceCount(store).then((function(){includedAncestors.forEach((function(ancestor){var omittedResources,ancestorResources,omittedDescendants=omitted.filter((function(n){return pluckIds(n.path).includes(ancestor.id)}));forImport?(ancestorResources=ancestor.total_resources-ancestor.on_device_resources,omittedResources=sumBy_default()(omittedDescendants,"total_resources")-sumBy_default()(omittedDescendants,"on_device_resources")):(ancestorResources=ancestor.on_device_resources,omittedResources=sumBy_default()(omittedDescendants,"on_device_resources")),ancestorResources===omittedResources&&(store.commit("REPLACE_INCLUDE_LIST",included.filter((function(n){return n.id!==ancestor.id}))),store.commit("REPLACE_OMIT_LIST",omitted.filter((function(n){return!pluckIds(n.path).includes(ancestor.id)}))))}))}))}return setImportExportFileSizeAndResourceCount(store)}var contentWizardActions_translator=Object(external_kolibriCoreAppGlobal_utils_i18n_.createTranslator)("ContentWizardTexts",{loadingChannelsToolbar:"Loading channels…"});function prepareForAvailableChannelsPage(store){store.commit("coreBase/SET_APP_BAR_TITLE",contentWizardActions_translator.$tr("loadingChannelsToolbar"),{root:!0}),store.commit("SET_PAGE_NAME",constants.d.AVAILABLE_CHANNELS,{root:!0})}function goForwardFromSelectImportSourceModal(store,source){var transferredChannel=store.state.transferredChannel,isImportingMore=store.getters.isImportingMore;if(source===constants.b.LOCAL_DRIVE&&(store.commit("SET_TRANSFER_TYPE",constants.j.LOCALIMPORT),store.commit("SET_WIZARD_PAGENAME",constants.d.SELECT_DRIVE)),source===constants.b.KOLIBRI_STUDIO)return store.commit("SET_TRANSFER_TYPE",constants.j.REMOTEIMPORT),isImportingMore?external_kolibriCoreAppGlobal_coreVue_router_default.a.push(selectContentPageLink({channelId:transferredChannel.id})):(prepareForAvailableChannelsPage(store),external_kolibriCoreAppGlobal_coreVue_router_default.a.push(availableChannelsPageLink()));source===constants.b.PEER_KOLIBRI_SERVER&&(store.commit("SET_TRANSFER_TYPE",constants.j.PEERIMPORT),store.commit("SET_WIZARD_PAGENAME",constants.d.SELECT_NETWORK_ADDRESS))}function goForwardFromSelectDriveModal(store,ref){var driveId=ref.driveId,forExport=ref.forExport,transferredChannel=store.state.transferredChannel;return store.getters.isImportingMore?(store.commit("SET_WIZARD_PAGENAME",constants.d.SELECT_CONTENT),external_kolibriCoreAppGlobal_coreVue_router_default.a.push(selectContentPageLink({channelId:transferredChannel.id,driveId:driveId,forExport:forExport}))):(prepareForAvailableChannelsPage(store),external_kolibriCoreAppGlobal_coreVue_router_default.a.push(availableChannelsPageLink({driveId:driveId,forExport:forExport})))}function cachedTopicPath(state){return function(id){return state.pathCache[id]}}function getDriveById(state){return function(driveId){return find_default()(state.driveList,{id:driveId})}}function inExportMode(state){return state.transferType===constants.j.LOCALEXPORT}function inLocalImportMode(state){return state.transferType===constants.j.LOCALIMPORT}function inRemoteImportMode(state){return state.transferType===constants.j.REMOTEIMPORT}function inPeerImportMode(state){return state.transferType===constants.j.PEERIMPORT}function isStudioApplication(state){return state.selectedPeer.application===constants.a.STUDIO}function driveCanBeUsedForTransfer(state,getters,rootState,rootGetters){return function(ref){var drive=ref.drive,transferType=ref.transferType;if(transferType===constants.j.LOCALIMPORT){var transferredChannel=state.transferredChannel;if(!getters.isImportingMore)return drive.metadata.channels.length>0;var channelOnDrive=find_default()(drive.metadata.channels,{id:transferredChannel.id}),channelOnServer=rootGetters["manageContent/channelIsInstalled"](transferredChannel.id);return channelOnDrive&&channelOnDrive.version>=channelOnServer.version}return transferType===constants.j.LOCALEXPORT&&drive.writable}}function getters_isImportingMore(state,getters){return!getters.inExportMode&&!isEmpty_default()(state.transferredChannel)}var omitPath=fp_omit_default()("path");var wizard={namespaced:!0,state:{status:"",pageName:"",driveList:[],transferType:"",availableChannels:[],selectedDrive:{},selectedPeer:{},availableSpace:null,transferFileSize:0,transferResourceCount:0,transferredChannel:{},currentTopicNode:{},path:[],pathCache:{},nodesForTransfer:{included:[],omitted:[]}},actions:Object.assign({},availableChannelsActions_namespaceObject,contentTreeViewerActions_namespaceObject,contentWizardActions_namespaceObject,selectContentActions_namespaceObject,{updatePathBreadcrumbs:function(store,topic){var newCachedPath,cached=store.getters.cachedTopicPath(topic.id);cached?store.commit("SET_PATH",cached):(newCachedPath=topic.path?topic.path.map(omitPath):[omitPath(topic)],store.commit("ADD_PATH_TO_CACHE",{node:topic,path:newCachedPath}),store.commit("SET_PATH",newCachedPath))}}),getters:getters_namespaceObject,mutations:{RESET_STATE:function(state){Object.assign(state,{status:"",pageName:"",driveList:[],transferType:"",availableChannels:[],selectedDrive:{},selectedPeer:{},availableSpace:null,transferFileSize:0,transferResourceCount:0,transferredChannel:{},currentTopicNode:{},path:[],pathCache:{},nodesForTransfer:{included:[],omitted:[]}})},SET_SELECTED_PEER:function(state,selectedPeer){state.selectedPeer=selectedPeer},ADD_NODE_TO_INCLUDE_LIST:function(state,node){state.nodesForTransfer.included.push(node)},REMOVE_NODE_FROM_INCLUDE_LIST:function(state,node){var newList=state.nodesForTransfer.included.filter((function(n){return n.id!==node.id}));state.nodesForTransfer.included=newList},REPLACE_INCLUDE_LIST:function(state,newList){state.nodesForTransfer.included=newList},ADD_NODE_TO_OMIT_LIST:function(state,node){state.nodesForTransfer.omitted.push(node)},REMOVE_NODE_FROM_OMIT_LIST:function(state,node){var newList=state.nodesForTransfer.omitted.filter((function(n){return n.id!==node.id}));state.nodesForTransfer.omitted=newList},REPLACE_OMIT_LIST:function(state,newList){state.nodesForTransfer.omitted=newList},RESET_NODE_LISTS:function(state){state.nodesForTransfer.included=[],state.nodesForTransfer.omitted=[]},SET_CURRENT_TOPIC_NODE:function(state,currentTopicNode){state.currentTopicNode=currentTopicNode},ADD_PATH_TO_CACHE:function(state,ref){var node=ref.node,path=ref.path;state.pathCache[node.id]=path},SET_PATH:function(state,path){state.path=path},SET_AVAILABLE_SPACE:function(state,space){state.availableSpace=space},SET_TRANSFER_SIZE:function(state,ref){var transferFileSize=ref.transferFileSize,transferResourceCount=ref.transferResourceCount;state.transferFileSize=transferFileSize,state.transferResourceCount=transferResourceCount},SET_WIZARD_PAGENAME:function(state,pageName){state.pageName=pageName},SET_DRIVE_LIST:function(state,driveList){state.driveList=driveList},SET_AVAILABLE_CHANNELS:function(state,availableChannels){state.availableChannels=availableChannels},SET_TRANSFERRED_CHANNEL:function(state,transferredChannel){state.transferredChannel=transferredChannel},UPDATE_TRANSFERRED_CHANNEL:function(state,update){state.transferredChannel=Object.assign({},state.transferredChannel,update)},SET_TRANSFER_TYPE:function(state,transferType){state.transferType=transferType},SET_WIZARD_STATUS:function(state,status){state.status=status||""},HYDRATE_SHOW_AVAILABLE_CHANNELS_PAGE:function(state,pageData){state.availableChannels=pageData.availableChannels,state.selectedDrive=pageData.selectedDrive,state.transferType=pageData.transferType},HYDRATE_SELECT_CONTENT_PAGE:function(state,pageData){state.availableSpace=pageData.availableSpace,state.selectedDrive=pageData.selectedDrive,state.transferredChannel=pageData.transferredChannel,state.transferType=pageData.transferType}}},taskActions=__webpack_require__(219);function addOrUpdateUserPermissions(store,payload){var permissions={user:payload.userId,is_superuser:payload.is_superuser,can_manage_content:payload.can_manage_content};return external_kolibriCoreAppGlobal_resources_.DevicePermissionsResource.saveModel({id:payload.userId,data:permissions}).then((function(permissionsModel){return external_kolibriCoreAppGlobal_resources_.FacilityUserResource.fetchModel({id:payload.userId,force:!0}).then((function(userModel){return store.commit("SET_STATE",{user:userModel,permissions:permissionsModel}),userModel}))})).catch((function(error){return store.dispatch("handleApiError",error,{root:!0})}))}var pluginModule={state:{pageName:"",welcomeModalVisible:!1},mutations:{SET_PAGE_NAME:function(state,name){state.pageName=name},SET_WELCOME_MODAL_VISIBLE:function(state,visibility){state.welcomeModalVisible=visibility}},actions:{preparePage:function(store,ref){var name=ref.name,isAsync=ref.isAsync;void 0===isAsync&&(isAsync=!0),store.commit("CORE_SET_PAGE_LOADING",isAsync),store.commit("SET_PAGE_NAME",name),store.commit("CORE_SET_ERROR",null)},resetModuleState:function(store,ref){var toRoute=ref.toRoute,fromRoute=ref.fromRoute;if(fromRoute.name!==constants.g.MANAGE_CONTENT_PAGE||toRoute.name!==constants.d.AVAILABLE_CHANNELS){var moduleName=constants.k[fromRoute.name];moduleName&&store.commit(moduleName+"/RESET_STATE")}}},modules:{deviceInfo:deviceInfo,managePermissions:{namespaced:!0,state:{facilityUsers:[],permissions:{}},mutations:{SET_STATE:function(state,payload){Object.assign(state,payload)},RESET_STATE:function(state){Object.assign(state,{facilityUsers:[],permissions:{}})}}},userPermissions:{namespaced:!0,state:{permissions:{},user:{}},mutations:{SET_STATE:function(state,payload){Object.assign(state,payload)},RESET_STATE:function(state){Object.assign(state,{permissions:{},user:{}})}},actions:userPermissions_actions_namespaceObject},manageContent:{namespaced:!0,state:{channelList:[],channelListLoading:!1,taskList:[],watchedTaskId:null},mutations:{SET_STATE:function(state,payload){Object.assign(state,payload)},RESET_STATE:function(state){Object.assign(state,{channelList:[],channelListLoading:!1,taskList:[],watchedTaskId:null})},SET_CHANNEL_LIST:function(state,channelList){state.channelList=[].concat(channelList)},SET_CHANNEL_LIST_LOADING:function(state,isLoading){state.channelListLoading=isLoading},SET_TASK_LIST:function(state,taskList){state.taskList=[].concat(taskList)},SET_WATCHED_TASK_ID:function(state,taskId){state.watchedTaskId=taskId},ADD_TO_CHANNEL_LIST:function(state,channel){state.channelList.push(channel)},REMOVE_FROM_CHANNEL_LIST:function(state,channelId){state.channelList=state.channelList.filter((function(channel){return channel.id!==channelId}))}},getters:{installedChannelsWithResources:function(state,getters){return state.channelList.filter((function(channel){return channel.available})).map((function(channel){var taskIndex=findLastIndex_default()(getters.managedTasks,(function(task){return![constants.i.DISKCONTENTEXPORT,constants.i.DISKEXPORT,constants.i.DELETECHANNEL].includes(task.type)&&task.channel_id===channel.id&&task.status===constants.h.COMPLETED}));return Object.assign({},channel,{taskIndex:taskIndex})}))},channelIsInstalled:function(state){return function(channelId){return find_default()(state.channelList,{id:channelId,available:!0})}},channelIsOnDevice:function(state){return function(channelId){return find_default()(state.channelList,{id:channelId})}},channelIsBeingDeleted:function(state){return function(channelId){var match=find_default()(state.taskList,{type:constants.i.DELETECHANNEL,channel_id:channelId});return!!match&&!Object(constants.l)(match)}},taskFinished:function(state){return function(taskId){if(!taskId)return null;var match=find_default()(state.taskList,{id:taskId});return match&&Object(constants.l)(match)?match.id:null}},managedTasks:function(state){return state.taskList.filter((function(task){return![constants.i.REMOTECHANNELIMPORT,constants.i.DISKCHANNELIMPORT,constants.i.CHANNELDIFFSTATS].includes(task.type)}))}},actions:Object.assign({},taskActions,{refreshChannelList:function(store){return store.commit("SET_CHANNEL_LIST_LOADING",!0),deviceChannel.fetchCollection({getParams:{include_fields:"on_device_file_size"},force:!0}).then((function(channels){return store.commit("SET_CHANNEL_LIST",[].concat(channels)),store.commit("SET_CHANNEL_LIST_LOADING",!1),[].concat(channels)}))},startImportWorkflow:function(store,channel){channel&&store.commit("wizard/SET_TRANSFERRED_CHANNEL",channel),store.commit("wizard/SET_WIZARD_PAGENAME",constants.d.SELECT_IMPORT_SOURCE)}}),modules:{wizard:wizard}},coreBase:{namespaced:!0,state:{appBarTitle:"",query:{}},mutations:{SET_APP_BAR_TITLE:function(state,appBarTitle){state.appBarTitle=appBarTitle},SET_QUERY:function(state,query){state.query=query}}}}},app_DeviceManagementModule=function(KolibriApp){function DeviceManagementModule(){KolibriApp.apply(this,arguments)}KolibriApp&&(DeviceManagementModule.__proto__=KolibriApp),DeviceManagementModule.prototype=Object.create(KolibriApp&&KolibriApp.prototype),DeviceManagementModule.prototype.constructor=DeviceManagementModule;var prototypeAccessors={routes:{configurable:!0},RootVue:{configurable:!0},pluginModule:{configurable:!0}};return prototypeAccessors.routes.get=function(){return src_routes},prototypeAccessors.RootVue.get=function(){return DeviceIndex},prototypeAccessors.pluginModule.get=function(){return pluginModule},DeviceManagementModule.prototype.ready=function(){var this$1=this;external_kolibriCoreAppGlobal_coreVue_router_default.a.beforeEach((function(to,from,next){0===this$1.store.state.core.facilities.length&&this$1.store.dispatch("getFacilities").then(next,next),next()})),external_kolibriCoreAppGlobal_coreVue_router_default.a.afterEach((function(toRoute,fromRoute){this$1.store.dispatch("resetModuleState",{toRoute:toRoute,fromRoute:fromRoute})})),KolibriApp.prototype.ready.call(this)},Object.defineProperties(DeviceManagementModule.prototype,prototypeAccessors),DeviceManagementModule}(__webpack_require__(222).a);__webpack_exports__.default=new app_DeviceManagementModule}]);
//# sourceMappingURL=kolibri.plugins.device.app-0.14.3.js.map