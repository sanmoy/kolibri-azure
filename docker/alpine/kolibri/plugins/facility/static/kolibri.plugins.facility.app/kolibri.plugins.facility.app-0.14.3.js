!function(modules){var installedModules={};function __webpack_require__(moduleId){if(installedModules[moduleId])return installedModules[moduleId].exports;var module=installedModules[moduleId]={i:moduleId,l:!1,exports:{}};return modules[moduleId].call(module.exports,module,module.exports,__webpack_require__),module.l=!0,module.exports}__webpack_require__.m=modules,__webpack_require__.c=installedModules,__webpack_require__.d=function(exports,name,getter){__webpack_require__.o(exports,name)||Object.defineProperty(exports,name,{enumerable:!0,get:getter})},__webpack_require__.r=function(exports){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(exports,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(exports,"__esModule",{value:!0})},__webpack_require__.t=function(value,mode){if(1&mode&&(value=__webpack_require__(value)),8&mode)return value;if(4&mode&&"object"==typeof value&&value&&value.__esModule)return value;var ns=Object.create(null);if(__webpack_require__.r(ns),Object.defineProperty(ns,"default",{enumerable:!0,value:value}),2&mode&&"string"!=typeof value)for(var key in value)__webpack_require__.d(ns,key,function(key){return value[key]}.bind(null,key));return ns},__webpack_require__.n=function(module){var getter=module&&module.__esModule?function(){return module.default}:function(){return module};return __webpack_require__.d(getter,"a",getter),getter},__webpack_require__.o=function(object,property){return Object.prototype.hasOwnProperty.call(object,property)},__webpack_require__.p="",__webpack_require__(__webpack_require__.s=297)}([function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"d",(function(){return PageNames})),__webpack_require__.d(__webpack_exports__,"c",(function(){return Modals})),__webpack_require__.d(__webpack_exports__,"h",(function(){return notificationTypes})),__webpack_require__.d(__webpack_exports__,"i",(function(){return pageNameToModuleMap})),__webpack_require__.d(__webpack_exports__,"f",(function(){return TaskTypes})),__webpack_require__.d(__webpack_exports__,"e",(function(){return TaskStatuses})),__webpack_require__.d(__webpack_exports__,"j",(function(){return taskIsClearable})),__webpack_require__.d(__webpack_exports__,"a",(function(){return CSVGenerationStatuses})),__webpack_require__.d(__webpack_exports__,"b",(function(){return CSVImportStatuses})),__webpack_require__.d(__webpack_exports__,"g",(function(){return UsersExportStatuses}));var PageNames={CLASS_MGMT_PAGE:"CLASS_MGMT_PAGE",CLASS_EDIT_MGMT_PAGE:"CLASS_EDIT_MGMT_PAGE",CLASS_ENROLL_LEARNER:"CLASS_ENROLL_LEARNER",CLASS_ASSIGN_COACH:"CLASS_ASSIGN_COACH",USER_MGMT_PAGE:"USER_MGMT_PAGE",USER_CREATE_PAGE:"USER_CREATE_PAGE",USER_EDIT_PAGE:"USER_EDIT_PAGE",IMPORT_CSV_PAGE:"IMPORT_CSV_PAGE",DATA_EXPORT_PAGE:"DATA_EXPORT_PAGE",FACILITY_CONFIG_PAGE:"FACILITY_CONFIG_PAGE",ALL_FACILITIES_PAGE:"ALL_FACILITIES_PAGE"},Modals={CREATE_CLASS:"CREATE_CLASS",DELETE_CLASS:"DELETE_CLASS",EDIT_CLASS_NAME:"EDIT_CLASS_NAME",REMOVE_USER:"REMOVE_USER",CONFIRM_ENROLLMENT:"CONFIRM_ENROLLMENT",CREATE_USER:"CREATE_USER",EDIT_USER:"EDIT_USER",RESET_USER_PASSWORD:"RESET_USER_PASSWORD",DELETE_USER:"DELETE_USER"},notificationTypes={PAGELOAD_FAILURE:"PAGELOAD_FAILURE",SAVE_FAILURE:"SAVE_FAILURE",SAVE_SUCCESS:"SAVE_SUCCESS"},pageNameToModuleMap={};pageNameToModuleMap[PageNames.CLASS_MGMT_PAGE]="classManagement",pageNameToModuleMap[PageNames.CLASS_EDIT_MGMT_PAGE]="classEditManagement",pageNameToModuleMap[PageNames.CLASS_ASSIGN_COACH]="classAssignMembers",pageNameToModuleMap[PageNames.CLASS_ENROLL_LEARNER]="classAssignMembers",pageNameToModuleMap[PageNames.USER_MGMT_PAGE]="userManagement",pageNameToModuleMap[PageNames.FACILITY_CONFIG_PAGE]="facilityConfig";var TaskTypes={EXPORTSESSIONLOGCSV:"EXPORTSESSIONLOGCSV",EXPORTSUMMARYLOGCSV:"EXPORTSUMMARYLOGCSV",SYNCDATAPORTAL:"SYNCDATAPORTAL",IMPORTUSERSFROMCSV:"IMPORTUSERSFROMCSV",EXPORTUSERSTOCSV:"EXPORTUSERSTOCSV"},TaskStatuses=Object.freeze({IN_PROGRESS:"INPROGRESS",COMPLETED:"COMPLETED",FAILED:"FAILED",PENDING:"PENDING",RUNNING:"RUNNING",QUEUED:"QUEUED",SCHEDULED:"SCHEDULED",CANCELED:"CANCELED",CANCELING:"CANCELING"});function taskIsClearable(task){return[TaskStatuses.COMPLETED,TaskStatuses.CANCELED,TaskStatuses.FAILED].includes(task.status)}var CSVGenerationStatuses={NO_LOGS_CREATED:"NOLOGSCREATED",GENERATING:"GENERATING",AVAILABLE:"AVAILABLE"},CSVImportStatuses={NOT_STARTED:"NOTSTARTED",VALIDATING:"VALIDATING",VALIDATED:"VALIDATED",SAVING:"SAVING",VALIDATION_ERRORS:"VALIDATION_ERRORS",ERRORS:"ERRORS",FINISHED:"FINISHED"},UsersExportStatuses={NOT_STARTED:"NOTSTARTED",EXPORTING:"EXPORTING",FINISHED:"FINISHED"}},function(module,exports){module.exports=kolibriCoreAppGlobal.resources},function(module,exports){module.exports=kolibriCoreAppGlobal.coreVue.vuex.constants},function(module,exports){module.exports=kolibriCoreAppGlobal.lib.vuex},function(module,exports){module.exports=kolibriCoreAppGlobal.coreVue.mixins.commonCoreStrings},function(module,exports){module.exports=kolibriCoreAppGlobal.coreVue.vuex.store},function(module,exports){var isArray=Array.isArray;module.exports=isArray},function(module,exports){module.exports=kolibriCoreAppGlobal.lib.vue},function(module,exports){module.exports=kolibriCoreAppGlobal.urls},function(module,exports,__webpack_require__){var freeGlobal=__webpack_require__(100),freeSelf="object"==typeof self&&self&&self.Object===Object&&self,root=freeGlobal||freeSelf||Function("return this")();module.exports=root},function(module,exports){module.exports=function(value){var type=typeof value;return null!=value&&("object"==type||"function"==type)}},function(module,exports){module.exports=function(value){return null!=value&&"object"==typeof value}},function(module,exports){module.exports=kolibriCoreAppGlobal.utils.samePageCheckGenerator},function(module,exports,__webpack_require__){var isFunction=__webpack_require__(99),isLength=__webpack_require__(80);module.exports=function(value){return null!=value&&isLength(value.length)&&!isFunction(value)}},function(module,exports){module.exports=kolibriCoreAppGlobal.coreVue.components.CoreTable},function(module,exports){module.exports=kolibriCoreAppGlobal.coreVue.router},function(module,exports,__webpack_require__){var baseIsNative=__webpack_require__(151),getValue=__webpack_require__(157);module.exports=function(object,key){var value=getValue(object,key);return baseIsNative(value)?value:void 0}},function(module,exports,__webpack_require__){var Symbol=__webpack_require__(18),getRawTag=__webpack_require__(153),objectToString=__webpack_require__(154),symToStringTag=Symbol?Symbol.toStringTag:void 0;module.exports=function(value){return null==value?void 0===value?"[object Undefined]":"[object Null]":symToStringTag&&symToStringTag in Object(value)?getRawTag(value):objectToString(value)}},function(module,exports,__webpack_require__){var Symbol=__webpack_require__(9).Symbol;module.exports=Symbol},function(module,exports,__webpack_require__){var arrayLikeKeys=__webpack_require__(115),baseKeys=__webpack_require__(116),isArrayLike=__webpack_require__(13);module.exports=function(object){return isArrayLike(object)?arrayLikeKeys(object):baseKeys(object)}},function(module,exports,__webpack_require__){var baseClone=__webpack_require__(257);module.exports=function(value){return baseClone(value,5)}},function(module,exports){module.exports=kolibriCoreAppGlobal.lib.logging},function(module,exports){module.exports=kolibriCoreAppGlobal},function(module,exports){module.exports=function(func){return function(value){return func(value)}}},function(module,exports){module.exports=function(value){return value}},function(module,exports,__webpack_require__){var baseToString=__webpack_require__(198);module.exports=function(value){return null==value?"":baseToString(value)}},function(module,exports,__webpack_require__){var baseGetTag=__webpack_require__(17),isObjectLike=__webpack_require__(11);module.exports=function(value){return"symbol"==typeof value||isObjectLike(value)&&"[object Symbol]"==baseGetTag(value)}},function(module,exports,__webpack_require__){var DataView=__webpack_require__(230),Map=__webpack_require__(77),Promise=__webpack_require__(231),Set=__webpack_require__(118),WeakMap=__webpack_require__(232),baseGetTag=__webpack_require__(17),toSource=__webpack_require__(101),dataViewCtorString=toSource(DataView),mapCtorString=toSource(Map),promiseCtorString=toSource(Promise),setCtorString=toSource(Set),weakMapCtorString=toSource(WeakMap),getTag=baseGetTag;(DataView&&"[object DataView]"!=getTag(new DataView(new ArrayBuffer(1)))||Map&&"[object Map]"!=getTag(new Map)||Promise&&"[object Promise]"!=getTag(Promise.resolve())||Set&&"[object Set]"!=getTag(new Set)||WeakMap&&"[object WeakMap]"!=getTag(new WeakMap))&&(getTag=function(value){var result=baseGetTag(value),Ctor="[object Object]"==result?value.constructor:void 0,ctorString=Ctor?toSource(Ctor):"";if(ctorString)switch(ctorString){case dataViewCtorString:return"[object DataView]";case mapCtorString:return"[object Map]";case promiseCtorString:return"[object Promise]";case setCtorString:return"[object Set]";case weakMapCtorString:return"[object WeakMap]"}return result}),module.exports=getTag},function(module,exports,__webpack_require__){var baseMatches=__webpack_require__(235),baseMatchesProperty=__webpack_require__(238),identity=__webpack_require__(24),isArray=__webpack_require__(6),property=__webpack_require__(246);module.exports=function(value){return"function"==typeof value?value:null==value?identity:"object"==typeof value?isArray(value)?baseMatchesProperty(value[0],value[1]):baseMatches(value):property(value)}},function(module,exports,__webpack_require__){var isSymbol=__webpack_require__(26);module.exports=function(value){if("string"==typeof value||isSymbol(value))return value;var result=value+"";return"0"==result&&1/value==-1/0?"-0":result}},function(module,exports){module.exports=kolibriCoreAppGlobal.utils.UserType},function(module,exports){module.exports=kolibriCoreAppGlobal.lib.conditionalPromise},function(module,exports){module.exports=kolibriCoreAppGlobal.coreVue.componentSets.sync},function(module,exports,__webpack_require__){var nativeCreate=__webpack_require__(16)(Object,"create");module.exports=nativeCreate},function(module,exports,__webpack_require__){var listCacheClear=__webpack_require__(162),listCacheDelete=__webpack_require__(163),listCacheGet=__webpack_require__(164),listCacheHas=__webpack_require__(165),listCacheSet=__webpack_require__(166);function ListCache(entries){var index=-1,length=null==entries?0:entries.length;for(this.clear();++index<length;){var entry=entries[index];this.set(entry[0],entry[1])}}ListCache.prototype.clear=listCacheClear,ListCache.prototype.delete=listCacheDelete,ListCache.prototype.get=listCacheGet,ListCache.prototype.has=listCacheHas,ListCache.prototype.set=listCacheSet,module.exports=ListCache},function(module,exports,__webpack_require__){var eq=__webpack_require__(36);module.exports=function(array,key){for(var length=array.length;length--;)if(eq(array[length][0],key))return length;return-1}},function(module,exports){module.exports=function(value,other){return value===other||value!=value&&other!=other}},function(module,exports,__webpack_require__){var isKeyable=__webpack_require__(168);module.exports=function(map,key){var data=map.__data__;return isKeyable(key)?data["string"==typeof key?"string":"hash"]:data.map}},function(module,exports){module.exports=function(array,iteratee){for(var index=-1,length=null==array?0:array.length,result=Array(length);++index<length;)result[index]=iteratee(array[index],index,array);return result}},function(module,exports,__webpack_require__){var baseIsArguments=__webpack_require__(178),isObjectLike=__webpack_require__(11),objectProto=Object.prototype,hasOwnProperty=objectProto.hasOwnProperty,propertyIsEnumerable=objectProto.propertyIsEnumerable,isArguments=baseIsArguments(function(){return arguments}())?baseIsArguments:function(value){return isObjectLike(value)&&hasOwnProperty.call(value,"callee")&&!propertyIsEnumerable.call(value,"callee")};module.exports=isArguments},function(module,exports,__webpack_require__){(function(module){var root=__webpack_require__(9),stubFalse=__webpack_require__(227),freeExports=exports&&!exports.nodeType&&exports,freeModule=freeExports&&"object"==typeof module&&module&&!module.nodeType&&module,Buffer=freeModule&&freeModule.exports===freeExports?root.Buffer:void 0,isBuffer=(Buffer?Buffer.isBuffer:void 0)||stubFalse;module.exports=isBuffer}).call(this,__webpack_require__(85)(module))},function(module,exports){var reIsUint=/^(?:0|[1-9]\d*)$/;module.exports=function(value,length){var type=typeof value;return!!(length=null==length?9007199254740991:length)&&("number"==type||"symbol"!=type&&reIsUint.test(value))&&value>-1&&value%1==0&&value<length}},function(module,exports){var objectProto=Object.prototype;module.exports=function(value){var Ctor=value&&value.constructor;return value===("function"==typeof Ctor&&Ctor.prototype||objectProto)}},function(module,exports,__webpack_require__){var isArray=__webpack_require__(6),isKey=__webpack_require__(89),stringToPath=__webpack_require__(240),toString=__webpack_require__(25);module.exports=function(value,object){return isArray(value)?value:isKey(value,object)?[value]:stringToPath(toString(value))}},function(module,exports,__webpack_require__){var assignValue=__webpack_require__(91),baseAssignValue=__webpack_require__(122);module.exports=function(source,props,object,customizer){var isNew=!object;object||(object={});for(var index=-1,length=props.length;++index<length;){var key=props[index],newValue=customizer?customizer(object[key],source[key],key,object,source):void 0;void 0===newValue&&(newValue=source[key]),isNew?baseAssignValue(object,key,newValue):assignValue(object,key,newValue)}return object}},function(module,exports,__webpack_require__){},function(module,exports,__webpack_require__){},function(module,exports,__webpack_require__){},function(module,exports,__webpack_require__){},function(module,exports,__webpack_require__){},function(module,exports,__webpack_require__){},function(module,exports,__webpack_require__){},function(module,exports,__webpack_require__){},function(module,exports,__webpack_require__){},function(module,exports,__webpack_require__){},function(module,exports,__webpack_require__){},function(module,exports,__webpack_require__){},function(module,exports,__webpack_require__){},function(module,exports,__webpack_require__){},function(module,exports,__webpack_require__){},function(module,exports,__webpack_require__){},function(module,exports,__webpack_require__){},function(module,exports){module.exports=kolibriCoreAppGlobal.coreVue.components.UserTypeDisplay},function(module,exports){module.exports=kolibriCoreAppGlobal.coreVue.components.CoreInfoIcon},function(module,exports){module.exports=kolibriCoreAppGlobal.coreVue.mixins.responsiveWindowMixin},function(module,exports){module.exports=kolibriCoreAppGlobal.coreVue.components.PaginatedListContainer},function(module,exports){module.exports=kolibriCoreAppGlobal.coreVue.components.UiAlert},function(module,exports){module.exports=kolibriCoreAppGlobal.coreVue.components.PasswordTextbox},function(module,exports,__webpack_require__){var arrayEvery=__webpack_require__(280),baseEvery=__webpack_require__(281),baseIteratee=__webpack_require__(28),isArray=__webpack_require__(6),isIterateeCall=__webpack_require__(282);module.exports=function(collection,predicate,guard){var func=isArray(collection)?arrayEvery:baseEvery;return guard&&isIterateeCall(collection,predicate,guard)&&(predicate=void 0),func(collection,baseIteratee(predicate,3))}},function(module,exports){module.exports=kolibriCoreAppGlobal.utils.CatchErrors},function(module,exports){module.exports=kolibriCoreAppGlobal.coreVue.components.GenderSelect},function(module,exports){module.exports=kolibriCoreAppGlobal.coreVue.components.BirthYearSelect},function(module,exports){module.exports=kolibriCoreAppGlobal.coreVue.components.FullNameTextbox},function(module,exports){module.exports=kolibriCoreAppGlobal.coreVue.components.UsernameTextbox},function(module,exports,__webpack_require__){var find=__webpack_require__(288)(__webpack_require__(289));module.exports=find},function(module,exports,__webpack_require__){var MapCache=__webpack_require__(76),setCacheAdd=__webpack_require__(172),setCacheHas=__webpack_require__(173);function SetCache(values){var index=-1,length=null==values?0:values.length;for(this.__data__=new MapCache;++index<length;)this.add(values[index])}SetCache.prototype.add=SetCache.prototype.push=setCacheAdd,SetCache.prototype.has=setCacheHas,module.exports=SetCache},function(module,exports,__webpack_require__){var mapCacheClear=__webpack_require__(148),mapCacheDelete=__webpack_require__(167),mapCacheGet=__webpack_require__(169),mapCacheHas=__webpack_require__(170),mapCacheSet=__webpack_require__(171);function MapCache(entries){var index=-1,length=null==entries?0:entries.length;for(this.clear();++index<length;){var entry=entries[index];this.set(entry[0],entry[1])}}MapCache.prototype.clear=mapCacheClear,MapCache.prototype.delete=mapCacheDelete,MapCache.prototype.get=mapCacheGet,MapCache.prototype.has=mapCacheHas,MapCache.prototype.set=mapCacheSet,module.exports=MapCache},function(module,exports,__webpack_require__){var Map=__webpack_require__(16)(__webpack_require__(9),"Map");module.exports=Map},function(module,exports){module.exports=function(cache,key){return cache.has(key)}},function(module,exports){module.exports=function(array,values){for(var index=-1,length=values.length,offset=array.length;++index<length;)array[offset+index]=values[index];return array}},function(module,exports){module.exports=function(value){return"number"==typeof value&&value>-1&&value%1==0&&value<=9007199254740991}},function(module,exports,__webpack_require__){var baseIsEqualDeep=__webpack_require__(215),isObjectLike=__webpack_require__(11);module.exports=function baseIsEqual(value,other,bitmask,customizer,stack){return value===other||(null==value||null==other||!isObjectLike(value)&&!isObjectLike(other)?value!=value&&other!=other:baseIsEqualDeep(value,other,bitmask,customizer,baseIsEqual,stack))}},function(module,exports,__webpack_require__){var ListCache=__webpack_require__(34),stackClear=__webpack_require__(216),stackDelete=__webpack_require__(217),stackGet=__webpack_require__(218),stackHas=__webpack_require__(219),stackSet=__webpack_require__(220);function Stack(entries){var data=this.__data__=new ListCache(entries);this.size=data.size}Stack.prototype.clear=stackClear,Stack.prototype.delete=stackDelete,Stack.prototype.get=stackGet,Stack.prototype.has=stackHas,Stack.prototype.set=stackSet,module.exports=Stack},function(module,exports){module.exports=function(set){var index=-1,result=Array(set.size);return set.forEach((function(value){result[++index]=value})),result}},function(module,exports,__webpack_require__){var arrayFilter=__webpack_require__(225),stubArray=__webpack_require__(114),propertyIsEnumerable=Object.prototype.propertyIsEnumerable,nativeGetSymbols=Object.getOwnPropertySymbols,getSymbols=nativeGetSymbols?function(object){return null==object?[]:(object=Object(object),arrayFilter(nativeGetSymbols(object),(function(symbol){return propertyIsEnumerable.call(object,symbol)})))}:stubArray;module.exports=getSymbols},function(module,exports){module.exports=function(module){return module.webpackPolyfill||(module.deprecate=function(){},module.paths=[],module.children||(module.children=[]),Object.defineProperty(module,"loaded",{enumerable:!0,get:function(){return module.l}}),Object.defineProperty(module,"id",{enumerable:!0,get:function(){return module.i}}),module.webpackPolyfill=1),module}},function(module,exports,__webpack_require__){var baseIsTypedArray=__webpack_require__(228),baseUnary=__webpack_require__(23),nodeUtil=__webpack_require__(87),nodeIsTypedArray=nodeUtil&&nodeUtil.isTypedArray,isTypedArray=nodeIsTypedArray?baseUnary(nodeIsTypedArray):baseIsTypedArray;module.exports=isTypedArray},function(module,exports,__webpack_require__){(function(module){var freeGlobal=__webpack_require__(100),freeExports=exports&&!exports.nodeType&&exports,freeModule=freeExports&&"object"==typeof module&&module&&!module.nodeType&&module,freeProcess=freeModule&&freeModule.exports===freeExports&&freeGlobal.process,nodeUtil=function(){try{var types=freeModule&&freeModule.require&&freeModule.require("util").types;return types||freeProcess&&freeProcess.binding&&freeProcess.binding("util")}catch(e){}}();module.exports=nodeUtil}).call(this,__webpack_require__(85)(module))},function(module,exports,__webpack_require__){var castPath=__webpack_require__(43),toKey=__webpack_require__(29);module.exports=function(object,path){for(var index=0,length=(path=castPath(path,object)).length;null!=object&&index<length;)object=object[toKey(path[index++])];return index&&index==length?object:void 0}},function(module,exports,__webpack_require__){var isArray=__webpack_require__(6),isSymbol=__webpack_require__(26),reIsDeepProp=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,reIsPlainProp=/^\w*$/;module.exports=function(value,object){if(isArray(value))return!1;var type=typeof value;return!("number"!=type&&"symbol"!=type&&"boolean"!=type&&null!=value&&!isSymbol(value))||(reIsPlainProp.test(value)||!reIsDeepProp.test(value)||null!=object&&value in Object(object))}},function(module,exports,__webpack_require__){var baseForOwn=__webpack_require__(250),baseEach=__webpack_require__(253)(baseForOwn);module.exports=baseEach},function(module,exports,__webpack_require__){var baseAssignValue=__webpack_require__(122),eq=__webpack_require__(36),hasOwnProperty=Object.prototype.hasOwnProperty;module.exports=function(object,key,value){var objValue=object[key];hasOwnProperty.call(object,key)&&eq(objValue,value)&&(void 0!==value||key in object)||baseAssignValue(object,key,value)}},function(module,exports,__webpack_require__){var getPrototype=__webpack_require__(117)(Object.getPrototypeOf,Object);module.exports=getPrototype},function(module,exports,__webpack_require__){var Uint8Array=__webpack_require__(111);module.exports=function(arrayBuffer){var result=new arrayBuffer.constructor(arrayBuffer.byteLength);return new Uint8Array(result).set(new Uint8Array(arrayBuffer)),result}},function(module,exports){module.exports=kolibriCoreAppGlobal.utils.serverClock},function(module,exports,__webpack_require__){var baseUniq=__webpack_require__(293);module.exports=function(array){return array&&array.length?baseUniq(array):[]}},function(module,exports,__webpack_require__){var arrayEach=__webpack_require__(121),baseEach=__webpack_require__(90),castFunction=__webpack_require__(296),isArray=__webpack_require__(6);module.exports=function(collection,iteratee){return(isArray(collection)?arrayEach:baseEach)(collection,castFunction(iteratee))}},function(module,exports,__webpack_require__){var baseGetTag=__webpack_require__(17),getPrototype=__webpack_require__(92),isObjectLike=__webpack_require__(11),funcProto=Function.prototype,objectProto=Object.prototype,funcToString=funcProto.toString,hasOwnProperty=objectProto.hasOwnProperty,objectCtorString=funcToString.call(Object);module.exports=function(value){if(!isObjectLike(value)||"[object Object]"!=baseGetTag(value))return!1;var proto=getPrototype(value);if(null===proto)return!0;var Ctor=hasOwnProperty.call(proto,"constructor")&&proto.constructor;return"function"==typeof Ctor&&Ctor instanceof Ctor&&funcToString.call(Ctor)==objectCtorString}},function(module,exports,__webpack_require__){var SetCache=__webpack_require__(75),arrayIncludes=__webpack_require__(102),arrayIncludesWith=__webpack_require__(104),arrayMap=__webpack_require__(38),baseUnary=__webpack_require__(23),cacheHas=__webpack_require__(78);module.exports=function(array,values,iteratee,comparator){var index=-1,includes=arrayIncludes,isCommon=!0,length=array.length,result=[],valuesLength=values.length;if(!length)return result;iteratee&&(values=arrayMap(values,baseUnary(iteratee))),comparator?(includes=arrayIncludesWith,isCommon=!1):values.length>=200&&(includes=cacheHas,isCommon=!1,values=new SetCache(values));outer:for(;++index<length;){var value=array[index],computed=null==iteratee?value:iteratee(value);if(value=comparator||0!==value?value:0,isCommon&&computed==computed){for(var valuesIndex=valuesLength;valuesIndex--;)if(values[valuesIndex]===computed)continue outer;result.push(value)}else includes(values,computed,comparator)||result.push(value)}return result}},function(module,exports,__webpack_require__){var baseGetTag=__webpack_require__(17),isObject=__webpack_require__(10);module.exports=function(value){if(!isObject(value))return!1;var tag=baseGetTag(value);return"[object Function]"==tag||"[object GeneratorFunction]"==tag||"[object AsyncFunction]"==tag||"[object Proxy]"==tag}},function(module,exports,__webpack_require__){(function(global){var freeGlobal="object"==typeof global&&global&&global.Object===Object&&global;module.exports=freeGlobal}).call(this,__webpack_require__(152))},function(module,exports){var funcToString=Function.prototype.toString;module.exports=function(func){if(null!=func){try{return funcToString.call(func)}catch(e){}try{return func+""}catch(e){}}return""}},function(module,exports,__webpack_require__){var baseIndexOf=__webpack_require__(174);module.exports=function(array,value){return!!(null==array?0:array.length)&&baseIndexOf(array,value,0)>-1}},function(module,exports){module.exports=function(array,predicate,fromIndex,fromRight){for(var length=array.length,index=fromIndex+(fromRight?1:-1);fromRight?index--:++index<length;)if(predicate(array[index],index,array))return index;return-1}},function(module,exports){module.exports=function(array,value,comparator){for(var index=-1,length=null==array?0:array.length;++index<length;)if(comparator(value,array[index]))return!0;return!1}},function(module,exports,__webpack_require__){var arrayPush=__webpack_require__(79),isFlattenable=__webpack_require__(177);module.exports=function baseFlatten(array,depth,predicate,isStrict,result){var index=-1,length=array.length;for(predicate||(predicate=isFlattenable),result||(result=[]);++index<length;){var value=array[index];depth>0&&predicate(value)?depth>1?baseFlatten(value,depth-1,predicate,isStrict,result):arrayPush(result,value):isStrict||(result[result.length]=value)}return result}},function(module,exports,__webpack_require__){var identity=__webpack_require__(24),overRest=__webpack_require__(179),setToString=__webpack_require__(181);module.exports=function(func,start){return setToString(overRest(func,start,identity),func+"")}},function(module,exports,__webpack_require__){var getNative=__webpack_require__(16),defineProperty=function(){try{var func=getNative(Object,"defineProperty");return func({},"",{}),func}catch(e){}}();module.exports=defineProperty},function(module,exports,__webpack_require__){var isArrayLike=__webpack_require__(13),isObjectLike=__webpack_require__(11);module.exports=function(value){return isObjectLike(value)&&isArrayLike(value)}},function(module,exports){var reHasUnicode=RegExp("[\\u200d\\ud800-\\udfff\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff\\ufe0e\\ufe0f]");module.exports=function(string){return reHasUnicode.test(string)}},function(module,exports,__webpack_require__){var SetCache=__webpack_require__(75),arraySome=__webpack_require__(221),cacheHas=__webpack_require__(78);module.exports=function(array,other,bitmask,customizer,equalFunc,stack){var isPartial=1&bitmask,arrLength=array.length,othLength=other.length;if(arrLength!=othLength&&!(isPartial&&othLength>arrLength))return!1;var stacked=stack.get(array);if(stacked&&stack.get(other))return stacked==other;var index=-1,result=!0,seen=2&bitmask?new SetCache:void 0;for(stack.set(array,other),stack.set(other,array);++index<arrLength;){var arrValue=array[index],othValue=other[index];if(customizer)var compared=isPartial?customizer(othValue,arrValue,index,other,array,stack):customizer(arrValue,othValue,index,array,other,stack);if(void 0!==compared){if(compared)continue;result=!1;break}if(seen){if(!arraySome(other,(function(othValue,othIndex){if(!cacheHas(seen,othIndex)&&(arrValue===othValue||equalFunc(arrValue,othValue,bitmask,customizer,stack)))return seen.push(othIndex)}))){result=!1;break}}else if(arrValue!==othValue&&!equalFunc(arrValue,othValue,bitmask,customizer,stack)){result=!1;break}}return stack.delete(array),stack.delete(other),result}},function(module,exports,__webpack_require__){var Uint8Array=__webpack_require__(9).Uint8Array;module.exports=Uint8Array},function(module,exports,__webpack_require__){var baseGetAllKeys=__webpack_require__(113),getSymbols=__webpack_require__(84),keys=__webpack_require__(19);module.exports=function(object){return baseGetAllKeys(object,keys,getSymbols)}},function(module,exports,__webpack_require__){var arrayPush=__webpack_require__(79),isArray=__webpack_require__(6);module.exports=function(object,keysFunc,symbolsFunc){var result=keysFunc(object);return isArray(object)?result:arrayPush(result,symbolsFunc(object))}},function(module,exports){module.exports=function(){return[]}},function(module,exports,__webpack_require__){var baseTimes=__webpack_require__(226),isArguments=__webpack_require__(39),isArray=__webpack_require__(6),isBuffer=__webpack_require__(40),isIndex=__webpack_require__(41),isTypedArray=__webpack_require__(86),hasOwnProperty=Object.prototype.hasOwnProperty;module.exports=function(value,inherited){var isArr=isArray(value),isArg=!isArr&&isArguments(value),isBuff=!isArr&&!isArg&&isBuffer(value),isType=!isArr&&!isArg&&!isBuff&&isTypedArray(value),skipIndexes=isArr||isArg||isBuff||isType,result=skipIndexes?baseTimes(value.length,String):[],length=result.length;for(var key in value)!inherited&&!hasOwnProperty.call(value,key)||skipIndexes&&("length"==key||isBuff&&("offset"==key||"parent"==key)||isType&&("buffer"==key||"byteLength"==key||"byteOffset"==key)||isIndex(key,length))||result.push(key);return result}},function(module,exports,__webpack_require__){var isPrototype=__webpack_require__(42),nativeKeys=__webpack_require__(229),hasOwnProperty=Object.prototype.hasOwnProperty;module.exports=function(object){if(!isPrototype(object))return nativeKeys(object);var result=[];for(var key in Object(object))hasOwnProperty.call(object,key)&&"constructor"!=key&&result.push(key);return result}},function(module,exports){module.exports=function(func,transform){return function(arg){return func(transform(arg))}}},function(module,exports,__webpack_require__){var Set=__webpack_require__(16)(__webpack_require__(9),"Set");module.exports=Set},function(module,exports,__webpack_require__){var isObject=__webpack_require__(10);module.exports=function(value){return value==value&&!isObject(value)}},function(module,exports){module.exports=function(key,srcValue){return function(object){return null!=object&&(object[key]===srcValue&&(void 0!==srcValue||key in Object(object)))}}},function(module,exports){module.exports=function(array,iteratee){for(var index=-1,length=null==array?0:array.length;++index<length&&!1!==iteratee(array[index],index,array););return array}},function(module,exports,__webpack_require__){var defineProperty=__webpack_require__(107);module.exports=function(object,key,value){"__proto__"==key&&defineProperty?defineProperty(object,key,{configurable:!0,enumerable:!0,value:value,writable:!0}):object[key]=value}},function(module,exports,__webpack_require__){var arrayLikeKeys=__webpack_require__(115),baseKeysIn=__webpack_require__(260),isArrayLike=__webpack_require__(13);module.exports=function(object){return isArrayLike(object)?arrayLikeKeys(object,!0):baseKeysIn(object)}},function(module,exports,__webpack_require__){var arrayPush=__webpack_require__(79),getPrototype=__webpack_require__(92),getSymbols=__webpack_require__(84),stubArray=__webpack_require__(114),getSymbolsIn=Object.getOwnPropertySymbols?function(object){for(var result=[];object;)arrayPush(result,getSymbols(object)),object=getPrototype(object);return result}:stubArray;module.exports=getSymbolsIn},function(module,exports,__webpack_require__){var baseGetAllKeys=__webpack_require__(113),getSymbolsIn=__webpack_require__(124),keysIn=__webpack_require__(123);module.exports=function(object){return baseGetAllKeys(object,keysIn,getSymbolsIn)}},function(module,exports){module.exports=kolibriCoreAppGlobal.coreVue.components.CoreBase},function(module,exports){module.exports=kolibriCoreAppGlobal.coreVue.components.Navbar},function(module,exports){module.exports=kolibriCoreAppGlobal.coreVue.components.NavbarLink},function(module,exports,__webpack_require__){var baseDifference=__webpack_require__(98),baseFlatten=__webpack_require__(105),baseRest=__webpack_require__(106),isArrayLikeObject=__webpack_require__(108),difference=baseRest((function(array,values){return isArrayLikeObject(array)?baseDifference(array,baseFlatten(values,1,isArrayLikeObject,!0)):[]}));module.exports=difference},function(module,exports){module.exports=kolibriCoreAppGlobal.coreVue.components.GenderDisplayText},function(module,exports){module.exports=kolibriCoreAppGlobal.coreVue.components.BirthYearDisplayText},function(module,exports,__webpack_require__){var baseDifference=__webpack_require__(98),baseFlatten=__webpack_require__(105),baseRest=__webpack_require__(106),isArrayLikeObject=__webpack_require__(108),last=__webpack_require__(187),differenceWith=baseRest((function(array,values){var comparator=last(values);return isArrayLikeObject(comparator)&&(comparator=void 0),isArrayLikeObject(array)?baseDifference(array,baseFlatten(values,1,isArrayLikeObject,!0),void 0,comparator):[]}));module.exports=differenceWith},function(module,exports){module.exports=kolibriCoreAppGlobal.utils.i18n},function(module,exports){module.exports=kolibriCoreAppGlobal.utils.browserInfo},function(module,exports){module.exports=kolibriCoreAppGlobal.coreVue.mixins.commonSyncElements},function(module,exports,__webpack_require__){var capitalize=__webpack_require__(197),camelCase=__webpack_require__(206)((function(result,word,index){return word=word.toLowerCase(),result+(index?capitalize(word):word)}));module.exports=camelCase},function(module,exports,__webpack_require__){var baseIsEqual=__webpack_require__(81);module.exports=function(value,other){return baseIsEqual(value,other)}},function(module,exports,__webpack_require__){var baseOrderBy=__webpack_require__(234),isArray=__webpack_require__(6);module.exports=function(collection,iteratees,orders,guard){return null==collection?[]:(isArray(iteratees)||(iteratees=null==iteratees?[]:[iteratees]),isArray(orders=guard?void 0:orders)||(orders=null==orders?[]:[orders]),baseOrderBy(collection,iteratees,orders))}},function(module,exports,__webpack_require__){var arrayMap=__webpack_require__(38),baseIteratee=__webpack_require__(28),basePickBy=__webpack_require__(285),getAllKeysIn=__webpack_require__(125);module.exports=function(object,predicate){if(null==object)return{};var props=arrayMap(getAllKeysIn(object),(function(prop){return[prop]}));return predicate=baseIteratee(predicate),basePickBy(object,props,(function(value,path){return predicate(value,path[0])}))}},function(module,exports,__webpack_require__){var baseKeys=__webpack_require__(116),getTag=__webpack_require__(27),isArguments=__webpack_require__(39),isArray=__webpack_require__(6),isArrayLike=__webpack_require__(13),isBuffer=__webpack_require__(40),isPrototype=__webpack_require__(42),isTypedArray=__webpack_require__(86),hasOwnProperty=Object.prototype.hasOwnProperty;module.exports=function(value){if(null==value)return!0;if(isArrayLike(value)&&(isArray(value)||"string"==typeof value||"function"==typeof value.splice||isBuffer(value)||isTypedArray(value)||isArguments(value)))return!value.length;var tag=getTag(value);if("[object Map]"==tag||"[object Set]"==tag)return!value.size;if(isPrototype(value))return!baseKeys(value).length;for(var key in value)if(hasOwnProperty.call(value,key))return!1;return!0}},function(module,__webpack_exports__,__webpack_require__){"use strict";(function(__filename){var kolibri_lib_logging__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(21),kolibri_lib_logging__WEBPACK_IMPORTED_MODULE_0___default=__webpack_require__.n(kolibri_lib_logging__WEBPACK_IMPORTED_MODULE_0__),kolibri_resources__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(1),kolibri_client__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(142),kolibri_client__WEBPACK_IMPORTED_MODULE_2___default=__webpack_require__.n(kolibri_client__WEBPACK_IMPORTED_MODULE_2__),kolibri_urls__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__(8),kolibri_urls__WEBPACK_IMPORTED_MODULE_3___default=__webpack_require__.n(kolibri_urls__WEBPACK_IMPORTED_MODULE_3__),_constants__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__(0),logging=kolibri_lib_logging__WEBPACK_IMPORTED_MODULE_0___default.a.getLogger(__filename);function startCSVExport(store,logtype,creating,commitStart){var params={logtype:logtype,facility:store.rootGetters.activeFacilityId};if(!creating)return kolibri_resources__WEBPACK_IMPORTED_MODULE_1__.TaskResource.startexportlogcsv(params).then((function(task){return store.commit(commitStart,task.data),task.data.id}))}function checkTaskStatus(store,newTasks,taskType,taskId,commitStart,commitFinish){var myNewTasks=newTasks.filter((function(task){return task.facility===store.rootGetters.activeFacilityId}));if(taskId){var task=myNewTasks.find((function(task){return task.id===taskId}));task&&task.status===_constants__WEBPACK_IMPORTED_MODULE_4__.e.COMPLETED&&(task.type===_constants__WEBPACK_IMPORTED_MODULE_4__.f.EXPORTUSERSTOCSV?store.commit(commitFinish,task.filename):store.commit(commitFinish,new Date),kolibri_resources__WEBPACK_IMPORTED_MODULE_1__.TaskResource.deleteFinishedTask(taskId))}else{var running=myNewTasks.filter((function(task){return task.type===taskType&&task.status!==_constants__WEBPACK_IMPORTED_MODULE_4__.e.COMPLETED&&task.status!==_constants__WEBPACK_IMPORTED_MODULE_4__.e.FAILED}));running.length>0&&store.commit(commitStart,running[0])}}__webpack_exports__.a={refreshTaskList:function(store){return Promise.all([kolibri_resources__WEBPACK_IMPORTED_MODULE_1__.TaskResource.fetchCollection({force:!0})]).then((function(ref){var newTasks=ref[0];checkTaskStatus(store,newTasks,_constants__WEBPACK_IMPORTED_MODULE_4__.f.EXPORTSESSIONLOGCSV,store.getters.sessionTaskId,"START_SESSION_CSV_EXPORT","SET_FINISHED_SESSION_CSV_CREATION"),checkTaskStatus(store,newTasks,_constants__WEBPACK_IMPORTED_MODULE_4__.f.EXPORTSUMMARYLOGCSV,store.getters.summaryTaskId,"START_SUMMARY_CSV_EXPORT","SET_FINISHED_SUMMARY_CSV_CREATION"),checkTaskStatus(store,newTasks,_constants__WEBPACK_IMPORTED_MODULE_4__.f.EXPORTUSERSTOCSV,store.state.exportUsersTaskId,"START_EXPORT_USERS","SET_FINISH_EXPORT_USERS")})).catch((function(error){logging.error("There was an error while fetching the task list: ",error)}))},startSummaryCSVExport:function(store){return startCSVExport(store,"summary",store.getters.inSummaryCSVCreation,"START_SUMMARY_CSV_EXPORT")},startSessionCSVExport:function(store){return startCSVExport(store,"session",store.getters.inSessionCSVCreation,"START_SESSION_CSV_EXPORT")},getExportedLogsInfo:function(store){return kolibri_client__WEBPACK_IMPORTED_MODULE_2___default()({url:kolibri_urls__WEBPACK_IMPORTED_MODULE_3___default.a["kolibri:core:exportedlogsinfo"](store.rootGetters.activeFacilityId,store.rootGetters.currentFacilityName)}).then((function(response){var data=response.data,sessionTimeStamp=null;null!=data.session&&(sessionTimeStamp=new Date(1e3*data.session),store.commit("SET_FINISHED_SESSION_CSV_CREATION",sessionTimeStamp));var summaryTimeStamp=null;null!=data.summary&&(summaryTimeStamp=new Date(1e3*data.summary),store.commit("SET_FINISHED_SUMMARY_CSV_CREATION",summaryTimeStamp))}))},startExportUsers:function(store){if(!store.getters.exportingUsers)return kolibri_resources__WEBPACK_IMPORTED_MODULE_1__.TaskResource.export_users_to_csv({facility_id:store.rootGetters.activeFacilityId}).then((function(task){return store.commit("START_EXPORT_USERS",task.data),task.data.id}))}}}).call(this,"kolibri/plugins/facility/assets/src/modules/manageCSV/actions.js")},function(module,exports){module.exports=kolibriCoreAppGlobal.client},function(module,__webpack_exports__,__webpack_require__){"use strict";(function(__filename){var kolibri_lib_logging__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(21),kolibri_lib_logging__WEBPACK_IMPORTED_MODULE_0___default=__webpack_require__.n(kolibri_lib_logging__WEBPACK_IMPORTED_MODULE_0__),kolibri_resources__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(1),_constants__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(0),logging=kolibri_lib_logging__WEBPACK_IMPORTED_MODULE_0___default.a.getLogger(__filename);function startImportUsers(store,file,deleting,validate,commitStart){var params={csvfile:file,facility_id:store.rootGetters.activeFacilityId};if(deleting&&(params.delete="true"),validate&&(params.dryrun="true"),!store.getters.importingOrValidating)return kolibri_resources__WEBPACK_IMPORTED_MODULE_1__.TaskResource.import_users_from_csv(params).then((function(task){return store.commit(commitStart,task.data),task.data.id}))}__webpack_exports__.a={refreshTaskList:function(store){return kolibri_resources__WEBPACK_IMPORTED_MODULE_1__.TaskResource.fetchCollection({force:!0}).then((function(newTasks){!function(store,newTasks,taskType,taskId,commitStart,commitFinish){if(taskId){var task=newTasks.find((function(task){return task.id===taskId}));task&&task.status===_constants__WEBPACK_IMPORTED_MODULE_2__.e.COMPLETED?store.commit(commitFinish,task):task&&task.status===_constants__WEBPACK_IMPORTED_MODULE_2__.e.FAILED&&(void 0===task.overall_error&&store.dispatch("handleApiError",task.traceback,{root:!0}),store.commit("SET_FAILED",task))}else{var running=newTasks.filter((function(task){return task.type===taskType&&task.status!==_constants__WEBPACK_IMPORTED_MODULE_2__.e.COMPLETED&&task.status!==_constants__WEBPACK_IMPORTED_MODULE_2__.e.FAILED}));running.length>0&&store.commit(commitStart,running[0])}}(store,newTasks,_constants__WEBPACK_IMPORTED_MODULE_2__.f.IMPORTUSERSFROMCSV,store.getters.taskId,"START_VALIDATE_USERS","SET_FINISHED_IMPORT_USERS")})).catch((function(error){logging.error("There was an error while fetching the task list: ",error)}))},startValidating:function(store,payload){return store.commit("SET_DELETE_USERS",payload.deleteUsers),startImportUsers(store,payload.file,payload.deleteUsers,!0,"START_VALIDATE_USERS")},startSavingUsers:function(store){return startImportUsers(store,store.getters.filename,store.getters.deleteUsers,!1,"START_SAVE_USERS")}}}).call(this,"kolibri/plugins/facility/assets/src/modules/importCSV/actions.js")},function(module,__webpack_exports__,__webpack_require__){"use strict";(function(__filename){var vuex_router_sync__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(145),lodash_forEach__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(96),lodash_forEach__WEBPACK_IMPORTED_MODULE_1___default=__webpack_require__.n(lodash_forEach__WEBPACK_IMPORTED_MODULE_1__),kolibri_coreVue_router__WEBPACK_IMPORTED_MODULE_3__=(__webpack_require__(97),__webpack_require__(15)),kolibri_coreVue_router__WEBPACK_IMPORTED_MODULE_3___default=__webpack_require__.n(kolibri_coreVue_router__WEBPACK_IMPORTED_MODULE_3__),kolibri_lib_logging__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__(21),kolibri_lib_logging__WEBPACK_IMPORTED_MODULE_4___default=__webpack_require__.n(kolibri_lib_logging__WEBPACK_IMPORTED_MODULE_4__),kolibri_lib_vue__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__(7),kolibri_lib_vue__WEBPACK_IMPORTED_MODULE_5___default=__webpack_require__.n(kolibri_lib_vue__WEBPACK_IMPORTED_MODULE_5__),kolibri_coreVue_vuex_store__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__(5),kolibri_coreVue_vuex_store__WEBPACK_IMPORTED_MODULE_6___default=__webpack_require__.n(kolibri_coreVue_vuex_store__WEBPACK_IMPORTED_MODULE_6__),kolibri_heartbeat__WEBPACK_IMPORTED_MODULE_7__=__webpack_require__(146),kolibri_heartbeat__WEBPACK_IMPORTED_MODULE_7___default=__webpack_require__.n(kolibri_heartbeat__WEBPACK_IMPORTED_MODULE_7__),kolibri_module__WEBPACK_IMPORTED_MODULE_8__=__webpack_require__(147);kolibri_lib_logging__WEBPACK_IMPORTED_MODULE_4___default.a.getLogger(__filename);var KolibriApp=function(KolibriModule){function KolibriApp(){KolibriModule.apply(this,arguments)}KolibriModule&&(KolibriApp.__proto__=KolibriModule),KolibriApp.prototype=Object.create(KolibriModule&&KolibriModule.prototype),KolibriApp.prototype.constructor=KolibriApp;var prototypeAccessors={routes:{configurable:!0},RootVue:{configurable:!0},store:{configurable:!0},stateSetters:{configurable:!0},pluginModule:{configurable:!0}};return prototypeAccessors.routes.get=function(){return[]},prototypeAccessors.RootVue.get=function(){return{}},prototypeAccessors.store.get=function(){return kolibri_coreVue_vuex_store__WEBPACK_IMPORTED_MODULE_6___default.a},prototypeAccessors.stateSetters.get=function(){return[]},prototypeAccessors.pluginModule.get=function(){return{}},KolibriApp.prototype.ready=function(){var this$1=this;return kolibri_coreVue_router__WEBPACK_IMPORTED_MODULE_3___default.a._vueRouter||kolibri_coreVue_router__WEBPACK_IMPORTED_MODULE_3___default.a.initRouter(),Object(vuex_router_sync__WEBPACK_IMPORTED_MODULE_0__.sync)(kolibri_coreVue_vuex_store__WEBPACK_IMPORTED_MODULE_6___default.a,kolibri_coreVue_router__WEBPACK_IMPORTED_MODULE_3___default.a),this.store.hotUpdate({actions:this.pluginModule.actions||{},getters:this.pluginModule.getters||{},mutations:this.pluginModule.mutations||{}}),this.store.replaceState(Object.assign({},this.store.state,this.pluginModule.state)),lodash_forEach__WEBPACK_IMPORTED_MODULE_1___default()(this.pluginModule.modules,(function(module,name){kolibri_coreVue_vuex_store__WEBPACK_IMPORTED_MODULE_6___default.a.registerModule(name,module)})),kolibri_heartbeat__WEBPACK_IMPORTED_MODULE_7___default.a.startPolling().then((function(){return this$1.store.dispatch("getNotifications"),Promise.all([].concat(this$1.stateSetters.map((function(setter){return setter(this$1.store)})))).then((function(){this$1.rootvue=new kolibri_lib_vue__WEBPACK_IMPORTED_MODULE_5___default.a(Object.assign({el:"rootvue",store:kolibri_coreVue_vuex_store__WEBPACK_IMPORTED_MODULE_6___default.a,router:kolibri_coreVue_router__WEBPACK_IMPORTED_MODULE_3___default.a.initRoutes(this$1.routes)},this$1.RootVue))}))}))},Object.defineProperties(KolibriApp.prototype,prototypeAccessors),KolibriApp}(kolibri_module__WEBPACK_IMPORTED_MODULE_8__.a);__webpack_exports__.a=KolibriApp}).call(this,"kolibri/core/assets/src/kolibri_app.js")},function(module,exports){function cloneRoute(to,from){var clone={name:to.name,path:to.path,hash:to.hash,query:to.query,params:to.params,fullPath:to.fullPath,meta:to.meta};return from&&(clone.from=cloneRoute(from)),Object.freeze(clone)}exports.sync=function(store,router,options){var moduleName=(options||{}).moduleName||"route";store.registerModule(moduleName,{namespaced:!0,state:cloneRoute(router.currentRoute),mutations:{ROUTE_CHANGED:function(state,transition){store.state[moduleName]=cloneRoute(transition.to,transition.from)}}});var currentPath,isTimeTraveling=!1,storeUnwatch=store.watch((function(state){return state[moduleName]}),(function(route){var fullPath=route.fullPath;fullPath!==currentPath&&(null!=currentPath&&(isTimeTraveling=!0,router.push(route)),currentPath=fullPath)}),{sync:!0}),afterEachUnHook=router.afterEach((function(to,from){isTimeTraveling?isTimeTraveling=!1:(currentPath=to.fullPath,store.commit(moduleName+"/ROUTE_CHANGED",{to:to,from:from}))}));return function(){null!=afterEachUnHook&&afterEachUnHook(),null!=storeUnwatch&&storeUnwatch(),store.unregisterModule(moduleName)}}},function(module,exports){module.exports=kolibriCoreAppGlobal.heartbeat},function(module,__webpack_exports__,__webpack_require__){"use strict";var urls,external_kolibriCoreAppGlobal_=__webpack_require__(22),external_kolibriCoreAppGlobal_default=__webpack_require__.n(external_kolibriCoreAppGlobal_),external_kolibriCoreAppGlobal_urls_=__webpack_require__(8);urls=__webpack_require__.n(external_kolibriCoreAppGlobal_urls_).a,__webpack_require__.p=urls.static("kolibri.plugins.facility.app/");var KolibriModule=function(options){for(var ref,args=[],len=arguments.length-1;len-- >0;)args[len]=arguments[len+1];this.name="kolibri.plugins.facility.app";var safeOptions={};this.kolibriModuleOptions.forEach((function(option){options[option]&&(safeOptions[option]=options[option])})),Object.assign(this,safeOptions),(ref=this).initialize.apply(ref,[options].concat(args)),this._registerKolibriModule()},prototypeAccessors={kolibriModuleOptions:{configurable:!0},Kolibri:{configurable:!0}};prototypeAccessors.kolibriModuleOptions.get=function(){return[]},KolibriModule.prototype._registerKolibriModule=function(){external_kolibriCoreAppGlobal_default.a.registerKolibriModuleSync(this)},KolibriModule.prototype.initialize=function(){},KolibriModule.prototype.ready=function(){},KolibriModule.prototype.stopListening=function(event,method){external_kolibriCoreAppGlobal_default.a.stopListening(event,this,method)},KolibriModule.prototype.emit=function(){for(var args=[],len=arguments.length;len--;)args[len]=arguments[len];external_kolibriCoreAppGlobal_default.a.emit.apply(external_kolibriCoreAppGlobal_default.a,args)},prototypeAccessors.Kolibri.get=function(){return external_kolibriCoreAppGlobal_default.a},Object.defineProperties(KolibriModule.prototype,prototypeAccessors);__webpack_exports__.a=KolibriModule},function(module,exports,__webpack_require__){var Hash=__webpack_require__(149),ListCache=__webpack_require__(34),Map=__webpack_require__(77);module.exports=function(){this.size=0,this.__data__={hash:new Hash,map:new(Map||ListCache),string:new Hash}}},function(module,exports,__webpack_require__){var hashClear=__webpack_require__(150),hashDelete=__webpack_require__(158),hashGet=__webpack_require__(159),hashHas=__webpack_require__(160),hashSet=__webpack_require__(161);function Hash(entries){var index=-1,length=null==entries?0:entries.length;for(this.clear();++index<length;){var entry=entries[index];this.set(entry[0],entry[1])}}Hash.prototype.clear=hashClear,Hash.prototype.delete=hashDelete,Hash.prototype.get=hashGet,Hash.prototype.has=hashHas,Hash.prototype.set=hashSet,module.exports=Hash},function(module,exports,__webpack_require__){var nativeCreate=__webpack_require__(33);module.exports=function(){this.__data__=nativeCreate?nativeCreate(null):{},this.size=0}},function(module,exports,__webpack_require__){var isFunction=__webpack_require__(99),isMasked=__webpack_require__(155),isObject=__webpack_require__(10),toSource=__webpack_require__(101),reIsHostCtor=/^\[object .+?Constructor\]$/,funcProto=Function.prototype,objectProto=Object.prototype,funcToString=funcProto.toString,hasOwnProperty=objectProto.hasOwnProperty,reIsNative=RegExp("^"+funcToString.call(hasOwnProperty).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");module.exports=function(value){return!(!isObject(value)||isMasked(value))&&(isFunction(value)?reIsNative:reIsHostCtor).test(toSource(value))}},function(module,exports){var g;g=function(){return this}();try{g=g||new Function("return this")()}catch(e){"object"==typeof window&&(g=window)}module.exports=g},function(module,exports,__webpack_require__){var Symbol=__webpack_require__(18),objectProto=Object.prototype,hasOwnProperty=objectProto.hasOwnProperty,nativeObjectToString=objectProto.toString,symToStringTag=Symbol?Symbol.toStringTag:void 0;module.exports=function(value){var isOwn=hasOwnProperty.call(value,symToStringTag),tag=value[symToStringTag];try{value[symToStringTag]=void 0;var unmasked=!0}catch(e){}var result=nativeObjectToString.call(value);return unmasked&&(isOwn?value[symToStringTag]=tag:delete value[symToStringTag]),result}},function(module,exports){var nativeObjectToString=Object.prototype.toString;module.exports=function(value){return nativeObjectToString.call(value)}},function(module,exports,__webpack_require__){var uid,coreJsData=__webpack_require__(156),maskSrcKey=(uid=/[^.]+$/.exec(coreJsData&&coreJsData.keys&&coreJsData.keys.IE_PROTO||""))?"Symbol(src)_1."+uid:"";module.exports=function(func){return!!maskSrcKey&&maskSrcKey in func}},function(module,exports,__webpack_require__){var coreJsData=__webpack_require__(9)["__core-js_shared__"];module.exports=coreJsData},function(module,exports){module.exports=function(object,key){return null==object?void 0:object[key]}},function(module,exports){module.exports=function(key){var result=this.has(key)&&delete this.__data__[key];return this.size-=result?1:0,result}},function(module,exports,__webpack_require__){var nativeCreate=__webpack_require__(33),hasOwnProperty=Object.prototype.hasOwnProperty;module.exports=function(key){var data=this.__data__;if(nativeCreate){var result=data[key];return"__lodash_hash_undefined__"===result?void 0:result}return hasOwnProperty.call(data,key)?data[key]:void 0}},function(module,exports,__webpack_require__){var nativeCreate=__webpack_require__(33),hasOwnProperty=Object.prototype.hasOwnProperty;module.exports=function(key){var data=this.__data__;return nativeCreate?void 0!==data[key]:hasOwnProperty.call(data,key)}},function(module,exports,__webpack_require__){var nativeCreate=__webpack_require__(33);module.exports=function(key,value){var data=this.__data__;return this.size+=this.has(key)?0:1,data[key]=nativeCreate&&void 0===value?"__lodash_hash_undefined__":value,this}},function(module,exports){module.exports=function(){this.__data__=[],this.size=0}},function(module,exports,__webpack_require__){var assocIndexOf=__webpack_require__(35),splice=Array.prototype.splice;module.exports=function(key){var data=this.__data__,index=assocIndexOf(data,key);return!(index<0)&&(index==data.length-1?data.pop():splice.call(data,index,1),--this.size,!0)}},function(module,exports,__webpack_require__){var assocIndexOf=__webpack_require__(35);module.exports=function(key){var data=this.__data__,index=assocIndexOf(data,key);return index<0?void 0:data[index][1]}},function(module,exports,__webpack_require__){var assocIndexOf=__webpack_require__(35);module.exports=function(key){return assocIndexOf(this.__data__,key)>-1}},function(module,exports,__webpack_require__){var assocIndexOf=__webpack_require__(35);module.exports=function(key,value){var data=this.__data__,index=assocIndexOf(data,key);return index<0?(++this.size,data.push([key,value])):data[index][1]=value,this}},function(module,exports,__webpack_require__){var getMapData=__webpack_require__(37);module.exports=function(key){var result=getMapData(this,key).delete(key);return this.size-=result?1:0,result}},function(module,exports){module.exports=function(value){var type=typeof value;return"string"==type||"number"==type||"symbol"==type||"boolean"==type?"__proto__"!==value:null===value}},function(module,exports,__webpack_require__){var getMapData=__webpack_require__(37);module.exports=function(key){return getMapData(this,key).get(key)}},function(module,exports,__webpack_require__){var getMapData=__webpack_require__(37);module.exports=function(key){return getMapData(this,key).has(key)}},function(module,exports,__webpack_require__){var getMapData=__webpack_require__(37);module.exports=function(key,value){var data=getMapData(this,key),size=data.size;return data.set(key,value),this.size+=data.size==size?0:1,this}},function(module,exports){module.exports=function(value){return this.__data__.set(value,"__lodash_hash_undefined__"),this}},function(module,exports){module.exports=function(value){return this.__data__.has(value)}},function(module,exports,__webpack_require__){var baseFindIndex=__webpack_require__(103),baseIsNaN=__webpack_require__(175),strictIndexOf=__webpack_require__(176);module.exports=function(array,value,fromIndex){return value==value?strictIndexOf(array,value,fromIndex):baseFindIndex(array,baseIsNaN,fromIndex)}},function(module,exports){module.exports=function(value){return value!=value}},function(module,exports){module.exports=function(array,value,fromIndex){for(var index=fromIndex-1,length=array.length;++index<length;)if(array[index]===value)return index;return-1}},function(module,exports,__webpack_require__){var Symbol=__webpack_require__(18),isArguments=__webpack_require__(39),isArray=__webpack_require__(6),spreadableSymbol=Symbol?Symbol.isConcatSpreadable:void 0;module.exports=function(value){return isArray(value)||isArguments(value)||!!(spreadableSymbol&&value&&value[spreadableSymbol])}},function(module,exports,__webpack_require__){var baseGetTag=__webpack_require__(17),isObjectLike=__webpack_require__(11);module.exports=function(value){return isObjectLike(value)&&"[object Arguments]"==baseGetTag(value)}},function(module,exports,__webpack_require__){var apply=__webpack_require__(180),nativeMax=Math.max;module.exports=function(func,start,transform){return start=nativeMax(void 0===start?func.length-1:start,0),function(){for(var args=arguments,index=-1,length=nativeMax(args.length-start,0),array=Array(length);++index<length;)array[index]=args[start+index];index=-1;for(var otherArgs=Array(start+1);++index<start;)otherArgs[index]=args[index];return otherArgs[start]=transform(array),apply(func,this,otherArgs)}}},function(module,exports){module.exports=function(func,thisArg,args){switch(args.length){case 0:return func.call(thisArg);case 1:return func.call(thisArg,args[0]);case 2:return func.call(thisArg,args[0],args[1]);case 3:return func.call(thisArg,args[0],args[1],args[2])}return func.apply(thisArg,args)}},function(module,exports,__webpack_require__){var baseSetToString=__webpack_require__(182),setToString=__webpack_require__(184)(baseSetToString);module.exports=setToString},function(module,exports,__webpack_require__){var constant=__webpack_require__(183),defineProperty=__webpack_require__(107),identity=__webpack_require__(24),baseSetToString=defineProperty?function(func,string){return defineProperty(func,"toString",{configurable:!0,enumerable:!1,value:constant(string),writable:!0})}:identity;module.exports=baseSetToString},function(module,exports){module.exports=function(value){return function(){return value}}},function(module,exports){var nativeNow=Date.now;module.exports=function(func){var count=0,lastCalled=0;return function(){var stamp=nativeNow(),remaining=16-(stamp-lastCalled);if(lastCalled=stamp,remaining>0){if(++count>=800)return arguments[0]}else count=0;return func.apply(void 0,arguments)}}},function(module,__webpack_exports__,__webpack_require__){"use strict";var _node_modules_mini_css_extract_plugin_dist_loader_js_node_modules_css_loader_index_js_ref_4_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_lib_index_js_ref_4_2_node_modules_sass_loader_dist_cjs_js_node_modules_vue_loader_lib_index_js_vue_loader_options_node_modules_svg_icon_inline_loader_index_js_UserTable_vue_vue_type_style_index_0_id_e2b50ba4_lang_scss_scoped_true___WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(45);__webpack_require__.n(_node_modules_mini_css_extract_plugin_dist_loader_js_node_modules_css_loader_index_js_ref_4_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_lib_index_js_ref_4_2_node_modules_sass_loader_dist_cjs_js_node_modules_vue_loader_lib_index_js_vue_loader_options_node_modules_svg_icon_inline_loader_index_js_UserTable_vue_vue_type_style_index_0_id_e2b50ba4_lang_scss_scoped_true___WEBPACK_IMPORTED_MODULE_0__).a},function(module,__webpack_exports__,__webpack_require__){"use strict";var _node_modules_mini_css_extract_plugin_dist_loader_js_node_modules_css_loader_index_js_ref_4_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_lib_index_js_ref_4_2_node_modules_sass_loader_dist_cjs_js_node_modules_vue_loader_lib_index_js_vue_loader_options_node_modules_svg_icon_inline_loader_index_js_index_vue_vue_type_style_index_0_id_7f9b330f_lang_scss_scoped_true___WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(46);__webpack_require__.n(_node_modules_mini_css_extract_plugin_dist_loader_js_node_modules_css_loader_index_js_ref_4_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_lib_index_js_ref_4_2_node_modules_sass_loader_dist_cjs_js_node_modules_vue_loader_lib_index_js_vue_loader_options_node_modules_svg_icon_inline_loader_index_js_index_vue_vue_type_style_index_0_id_7f9b330f_lang_scss_scoped_true___WEBPACK_IMPORTED_MODULE_0__).a},function(module,exports){module.exports=function(array){var length=null==array?0:array.length;return length?array[length-1]:void 0}},function(module,__webpack_exports__,__webpack_require__){"use strict";var _node_modules_mini_css_extract_plugin_dist_loader_js_node_modules_css_loader_index_js_ref_4_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_lib_index_js_ref_4_2_node_modules_sass_loader_dist_cjs_js_node_modules_vue_loader_lib_index_js_vue_loader_options_node_modules_svg_icon_inline_loader_index_js_ClassEnrollForm_vue_vue_type_style_index_0_id_3ca57064_lang_scss_scoped_true___WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(47);__webpack_require__.n(_node_modules_mini_css_extract_plugin_dist_loader_js_node_modules_css_loader_index_js_ref_4_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_lib_index_js_ref_4_2_node_modules_sass_loader_dist_cjs_js_node_modules_vue_loader_lib_index_js_vue_loader_options_node_modules_svg_icon_inline_loader_index_js_ClassEnrollForm_vue_vue_type_style_index_0_id_3ca57064_lang_scss_scoped_true___WEBPACK_IMPORTED_MODULE_0__).a},function(module,__webpack_exports__,__webpack_require__){"use strict";var _node_modules_mini_css_extract_plugin_dist_loader_js_node_modules_css_loader_index_js_ref_4_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_lib_index_js_ref_4_2_node_modules_sass_loader_dist_cjs_js_node_modules_vue_loader_lib_index_js_vue_loader_options_node_modules_svg_icon_inline_loader_index_js_DataPageTaskProgress_vue_vue_type_style_index_0_id_663a35f2_lang_scss_scoped_true___WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(48);__webpack_require__.n(_node_modules_mini_css_extract_plugin_dist_loader_js_node_modules_css_loader_index_js_ref_4_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_lib_index_js_ref_4_2_node_modules_sass_loader_dist_cjs_js_node_modules_vue_loader_lib_index_js_vue_loader_options_node_modules_svg_icon_inline_loader_index_js_DataPageTaskProgress_vue_vue_type_style_index_0_id_663a35f2_lang_scss_scoped_true___WEBPACK_IMPORTED_MODULE_0__).a},function(module,__webpack_exports__,__webpack_require__){"use strict";var _node_modules_mini_css_extract_plugin_dist_loader_js_node_modules_css_loader_index_js_ref_4_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_lib_index_js_ref_4_2_node_modules_sass_loader_dist_cjs_js_node_modules_vue_loader_lib_index_js_vue_loader_options_node_modules_svg_icon_inline_loader_index_js_PrivacyModal_vue_vue_type_style_index_0_id_3a712a48_lang_scss_scoped_true___WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(49);__webpack_require__.n(_node_modules_mini_css_extract_plugin_dist_loader_js_node_modules_css_loader_index_js_ref_4_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_lib_index_js_ref_4_2_node_modules_sass_loader_dist_cjs_js_node_modules_vue_loader_lib_index_js_vue_loader_options_node_modules_svg_icon_inline_loader_index_js_PrivacyModal_vue_vue_type_style_index_0_id_3a712a48_lang_scss_scoped_true___WEBPACK_IMPORTED_MODULE_0__).a},function(module,__webpack_exports__,__webpack_require__){"use strict";var _node_modules_mini_css_extract_plugin_dist_loader_js_node_modules_css_loader_index_js_ref_4_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_lib_index_js_ref_4_2_node_modules_sass_loader_dist_cjs_js_node_modules_vue_loader_lib_index_js_vue_loader_options_node_modules_svg_icon_inline_loader_index_js_index_vue_vue_type_style_index_0_id_57cdb474_lang_scss_scoped_true___WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(50);__webpack_require__.n(_node_modules_mini_css_extract_plugin_dist_loader_js_node_modules_css_loader_index_js_ref_4_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_lib_index_js_ref_4_2_node_modules_sass_loader_dist_cjs_js_node_modules_vue_loader_lib_index_js_vue_loader_options_node_modules_svg_icon_inline_loader_index_js_index_vue_vue_type_style_index_0_id_57cdb474_lang_scss_scoped_true___WEBPACK_IMPORTED_MODULE_0__).a},function(module,__webpack_exports__,__webpack_require__){"use strict";var _node_modules_mini_css_extract_plugin_dist_loader_js_node_modules_css_loader_index_js_ref_4_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_lib_index_js_ref_4_2_node_modules_sass_loader_dist_cjs_js_node_modules_vue_loader_lib_index_js_vue_loader_options_node_modules_svg_icon_inline_loader_index_js_CsvInfoModal_vue_vue_type_style_index_0_id_66aaee53_lang_scss_scoped_true___WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(51);__webpack_require__.n(_node_modules_mini_css_extract_plugin_dist_loader_js_node_modules_css_loader_index_js_ref_4_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_lib_index_js_ref_4_2_node_modules_sass_loader_dist_cjs_js_node_modules_vue_loader_lib_index_js_vue_loader_options_node_modules_svg_icon_inline_loader_index_js_CsvInfoModal_vue_vue_type_style_index_0_id_66aaee53_lang_scss_scoped_true___WEBPACK_IMPORTED_MODULE_0__).a},function(module,__webpack_exports__,__webpack_require__){"use strict";var _node_modules_mini_css_extract_plugin_dist_loader_js_node_modules_css_loader_index_js_ref_4_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_lib_index_js_ref_4_2_node_modules_sass_loader_dist_cjs_js_node_modules_vue_loader_lib_index_js_vue_loader_options_node_modules_svg_icon_inline_loader_index_js_index_vue_vue_type_style_index_0_id_6ba3700e_lang_scss_scoped_true___WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(52);__webpack_require__.n(_node_modules_mini_css_extract_plugin_dist_loader_js_node_modules_css_loader_index_js_ref_4_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_lib_index_js_ref_4_2_node_modules_sass_loader_dist_cjs_js_node_modules_vue_loader_lib_index_js_vue_loader_options_node_modules_svg_icon_inline_loader_index_js_index_vue_vue_type_style_index_0_id_6ba3700e_lang_scss_scoped_true___WEBPACK_IMPORTED_MODULE_0__).a},function(module,__webpack_exports__,__webpack_require__){"use strict";var _node_modules_mini_css_extract_plugin_dist_loader_js_node_modules_css_loader_index_js_ref_4_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_lib_index_js_ref_4_2_node_modules_sass_loader_dist_cjs_js_node_modules_vue_loader_lib_index_js_vue_loader_options_node_modules_svg_icon_inline_loader_index_js_Init_vue_vue_type_style_index_0_id_d824a8aa_lang_scss_scoped_true___WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(53);__webpack_require__.n(_node_modules_mini_css_extract_plugin_dist_loader_js_node_modules_css_loader_index_js_ref_4_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_lib_index_js_ref_4_2_node_modules_sass_loader_dist_cjs_js_node_modules_vue_loader_lib_index_js_vue_loader_options_node_modules_svg_icon_inline_loader_index_js_Init_vue_vue_type_style_index_0_id_d824a8aa_lang_scss_scoped_true___WEBPACK_IMPORTED_MODULE_0__).a},function(module,__webpack_exports__,__webpack_require__){"use strict";var _node_modules_mini_css_extract_plugin_dist_loader_js_node_modules_css_loader_index_js_ref_4_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_lib_index_js_ref_4_2_node_modules_sass_loader_dist_cjs_js_node_modules_vue_loader_lib_index_js_vue_loader_options_node_modules_svg_icon_inline_loader_index_js_Preview_vue_vue_type_style_index_0_id_cc6d811c_lang_scss_scoped_true___WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(54);__webpack_require__.n(_node_modules_mini_css_extract_plugin_dist_loader_js_node_modules_css_loader_index_js_ref_4_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_lib_index_js_ref_4_2_node_modules_sass_loader_dist_cjs_js_node_modules_vue_loader_lib_index_js_vue_loader_options_node_modules_svg_icon_inline_loader_index_js_Preview_vue_vue_type_style_index_0_id_cc6d811c_lang_scss_scoped_true___WEBPACK_IMPORTED_MODULE_0__).a},function(module,__webpack_exports__,__webpack_require__){"use strict";var _node_modules_mini_css_extract_plugin_dist_loader_js_node_modules_css_loader_index_js_ref_4_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_lib_index_js_ref_4_2_node_modules_sass_loader_dist_cjs_js_node_modules_vue_loader_lib_index_js_vue_loader_options_node_modules_svg_icon_inline_loader_index_js_index_vue_vue_type_style_index_0_id_2d45866b_lang_scss_scoped_true___WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(55);__webpack_require__.n(_node_modules_mini_css_extract_plugin_dist_loader_js_node_modules_css_loader_index_js_ref_4_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_lib_index_js_ref_4_2_node_modules_sass_loader_dist_cjs_js_node_modules_vue_loader_lib_index_js_vue_loader_options_node_modules_svg_icon_inline_loader_index_js_index_vue_vue_type_style_index_0_id_2d45866b_lang_scss_scoped_true___WEBPACK_IMPORTED_MODULE_0__).a},function(module,exports,__webpack_require__){var toString=__webpack_require__(25),upperFirst=__webpack_require__(199);module.exports=function(string){return upperFirst(toString(string).toLowerCase())}},function(module,exports,__webpack_require__){var Symbol=__webpack_require__(18),arrayMap=__webpack_require__(38),isArray=__webpack_require__(6),isSymbol=__webpack_require__(26),symbolProto=Symbol?Symbol.prototype:void 0,symbolToString=symbolProto?symbolProto.toString:void 0;module.exports=function baseToString(value){if("string"==typeof value)return value;if(isArray(value))return arrayMap(value,baseToString)+"";if(isSymbol(value))return symbolToString?symbolToString.call(value):"";var result=value+"";return"0"==result&&1/value==-1/0?"-0":result}},function(module,exports,__webpack_require__){var upperFirst=__webpack_require__(200)("toUpperCase");module.exports=upperFirst},function(module,exports,__webpack_require__){var castSlice=__webpack_require__(201),hasUnicode=__webpack_require__(109),stringToArray=__webpack_require__(203),toString=__webpack_require__(25);module.exports=function(methodName){return function(string){string=toString(string);var strSymbols=hasUnicode(string)?stringToArray(string):void 0,chr=strSymbols?strSymbols[0]:string.charAt(0),trailing=strSymbols?castSlice(strSymbols,1).join(""):string.slice(1);return chr[methodName]()+trailing}}},function(module,exports,__webpack_require__){var baseSlice=__webpack_require__(202);module.exports=function(array,start,end){var length=array.length;return end=void 0===end?length:end,!start&&end>=length?array:baseSlice(array,start,end)}},function(module,exports){module.exports=function(array,start,end){var index=-1,length=array.length;start<0&&(start=-start>length?0:length+start),(end=end>length?length:end)<0&&(end+=length),length=start>end?0:end-start>>>0,start>>>=0;for(var result=Array(length);++index<length;)result[index]=array[index+start];return result}},function(module,exports,__webpack_require__){var asciiToArray=__webpack_require__(204),hasUnicode=__webpack_require__(109),unicodeToArray=__webpack_require__(205);module.exports=function(string){return hasUnicode(string)?unicodeToArray(string):asciiToArray(string)}},function(module,exports){module.exports=function(string){return string.split("")}},function(module,exports){var rsAstral="[\\ud800-\\udfff]",rsCombo="[\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff]",rsFitz="\\ud83c[\\udffb-\\udfff]",rsNonAstral="[^\\ud800-\\udfff]",rsRegional="(?:\\ud83c[\\udde6-\\uddff]){2}",rsSurrPair="[\\ud800-\\udbff][\\udc00-\\udfff]",reOptMod="(?:"+rsCombo+"|"+rsFitz+")"+"?",rsSeq="[\\ufe0e\\ufe0f]?"+reOptMod+("(?:\\u200d(?:"+[rsNonAstral,rsRegional,rsSurrPair].join("|")+")[\\ufe0e\\ufe0f]?"+reOptMod+")*"),rsSymbol="(?:"+[rsNonAstral+rsCombo+"?",rsCombo,rsRegional,rsSurrPair,rsAstral].join("|")+")",reUnicode=RegExp(rsFitz+"(?="+rsFitz+")|"+rsSymbol+rsSeq,"g");module.exports=function(string){return string.match(reUnicode)||[]}},function(module,exports,__webpack_require__){var arrayReduce=__webpack_require__(207),deburr=__webpack_require__(208),words=__webpack_require__(211),reApos=RegExp("[']","g");module.exports=function(callback){return function(string){return arrayReduce(words(deburr(string).replace(reApos,"")),callback,"")}}},function(module,exports){module.exports=function(array,iteratee,accumulator,initAccum){var index=-1,length=null==array?0:array.length;for(initAccum&&length&&(accumulator=array[++index]);++index<length;)accumulator=iteratee(accumulator,array[index],index,array);return accumulator}},function(module,exports,__webpack_require__){var deburrLetter=__webpack_require__(209),toString=__webpack_require__(25),reLatin=/[\xc0-\xd6\xd8-\xf6\xf8-\xff\u0100-\u017f]/g,reComboMark=RegExp("[\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff]","g");module.exports=function(string){return(string=toString(string))&&string.replace(reLatin,deburrLetter).replace(reComboMark,"")}},function(module,exports,__webpack_require__){var deburrLetter=__webpack_require__(210)({"":"A","":"A","":"A","":"A","":"A","":"A","":"a","":"a","":"a","":"a","":"a","":"a","":"C","":"c","":"D","":"d","":"E","":"E","":"E","":"E","":"e","":"e","":"e","":"e","":"I","":"I","":"I","":"I","":"i","":"i","":"i","":"i","":"N","":"n","":"O","":"O","":"O","":"O","":"O","":"O","":"o","":"o","":"o","":"o","":"o","":"o","":"U","":"U","":"U","":"U","":"u","":"u","":"u","":"u","":"Y","":"y","":"y","":"Ae","":"ae","":"Th","":"th","":"ss","":"A","":"A","":"A","":"a","":"a","":"a","":"C","":"C","":"C","":"C","":"c","":"c","":"c","":"c","":"D","":"D","":"d","":"d","":"E","":"E","":"E","":"E","":"E","":"e","":"e","":"e","":"e","":"e","":"G","":"G","":"G","":"G","":"g","":"g","":"g","":"g","":"H","":"H","":"h","":"h","":"I","":"I","":"I","":"I","":"I","":"i","":"i","":"i","":"i","":"i","":"J","":"j","":"K","":"k","":"k","":"L","":"L","":"L","":"L","":"L","":"l","":"l","":"l","":"l","":"l","":"N","":"N","":"N","":"N","":"n","":"n","":"n","":"n","":"O","":"O","":"O","":"o","":"o","":"o","":"R","":"R","":"R","":"r","":"r","":"r","":"S","":"S","":"S","":"S","":"s","":"s","":"s","":"s","":"T","":"T","":"T","":"t","":"t","":"t","":"U","":"U","":"U","":"U","":"U","":"U","":"u","":"u","":"u","":"u","":"u","":"u","":"W","":"w","":"Y","":"y","":"Y","":"Z","":"Z","":"Z","":"z","":"z","":"z","":"IJ","":"ij","":"Oe","":"oe","":"'n","":"s"});module.exports=deburrLetter},function(module,exports){module.exports=function(object){return function(key){return null==object?void 0:object[key]}}},function(module,exports,__webpack_require__){var asciiWords=__webpack_require__(212),hasUnicodeWord=__webpack_require__(213),toString=__webpack_require__(25),unicodeWords=__webpack_require__(214);module.exports=function(string,pattern,guard){return string=toString(string),void 0===(pattern=guard?void 0:pattern)?hasUnicodeWord(string)?unicodeWords(string):asciiWords(string):string.match(pattern)||[]}},function(module,exports){var reAsciiWord=/[^\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\x7f]+/g;module.exports=function(string){return string.match(reAsciiWord)||[]}},function(module,exports){var reHasUnicodeWord=/[a-z][A-Z]|[A-Z]{2}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/;module.exports=function(string){return reHasUnicodeWord.test(string)}},function(module,exports){var rsBreakRange="\\xac\\xb1\\xd7\\xf7\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf\\u2000-\\u206f \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000",rsBreak="["+rsBreakRange+"]",rsDigits="\\d+",rsDingbat="[\\u2700-\\u27bf]",rsLower="[a-z\\xdf-\\xf6\\xf8-\\xff]",rsMisc="[^\\ud800-\\udfff"+rsBreakRange+rsDigits+"\\u2700-\\u27bfa-z\\xdf-\\xf6\\xf8-\\xffA-Z\\xc0-\\xd6\\xd8-\\xde]",rsRegional="(?:\\ud83c[\\udde6-\\uddff]){2}",rsSurrPair="[\\ud800-\\udbff][\\udc00-\\udfff]",rsUpper="[A-Z\\xc0-\\xd6\\xd8-\\xde]",rsMiscLower="(?:"+rsLower+"|"+rsMisc+")",rsMiscUpper="(?:"+rsUpper+"|"+rsMisc+")",reOptMod="(?:[\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff]|\\ud83c[\\udffb-\\udfff])?",rsSeq="[\\ufe0e\\ufe0f]?"+reOptMod+("(?:\\u200d(?:"+["[^\\ud800-\\udfff]",rsRegional,rsSurrPair].join("|")+")[\\ufe0e\\ufe0f]?"+reOptMod+")*"),rsEmoji="(?:"+[rsDingbat,rsRegional,rsSurrPair].join("|")+")"+rsSeq,reUnicodeWord=RegExp([rsUpper+"?"+rsLower+"+(?:['](?:d|ll|m|re|s|t|ve))?(?="+[rsBreak,rsUpper,"$"].join("|")+")",rsMiscUpper+"+(?:['](?:D|LL|M|RE|S|T|VE))?(?="+[rsBreak,rsUpper+rsMiscLower,"$"].join("|")+")",rsUpper+"?"+rsMiscLower+"+(?:['](?:d|ll|m|re|s|t|ve))?",rsUpper+"+(?:['](?:D|LL|M|RE|S|T|VE))?","\\d*(?:1ST|2ND|3RD|(?![123])\\dTH)(?=\\b|[a-z_])","\\d*(?:1st|2nd|3rd|(?![123])\\dth)(?=\\b|[A-Z_])",rsDigits,rsEmoji].join("|"),"g");module.exports=function(string){return string.match(reUnicodeWord)||[]}},function(module,exports,__webpack_require__){var Stack=__webpack_require__(82),equalArrays=__webpack_require__(110),equalByTag=__webpack_require__(222),equalObjects=__webpack_require__(224),getTag=__webpack_require__(27),isArray=__webpack_require__(6),isBuffer=__webpack_require__(40),isTypedArray=__webpack_require__(86),objectTag="[object Object]",hasOwnProperty=Object.prototype.hasOwnProperty;module.exports=function(object,other,bitmask,customizer,equalFunc,stack){var objIsArr=isArray(object),othIsArr=isArray(other),objTag=objIsArr?"[object Array]":getTag(object),othTag=othIsArr?"[object Array]":getTag(other),objIsObj=(objTag="[object Arguments]"==objTag?objectTag:objTag)==objectTag,othIsObj=(othTag="[object Arguments]"==othTag?objectTag:othTag)==objectTag,isSameTag=objTag==othTag;if(isSameTag&&isBuffer(object)){if(!isBuffer(other))return!1;objIsArr=!0,objIsObj=!1}if(isSameTag&&!objIsObj)return stack||(stack=new Stack),objIsArr||isTypedArray(object)?equalArrays(object,other,bitmask,customizer,equalFunc,stack):equalByTag(object,other,objTag,bitmask,customizer,equalFunc,stack);if(!(1&bitmask)){var objIsWrapped=objIsObj&&hasOwnProperty.call(object,"__wrapped__"),othIsWrapped=othIsObj&&hasOwnProperty.call(other,"__wrapped__");if(objIsWrapped||othIsWrapped){var objUnwrapped=objIsWrapped?object.value():object,othUnwrapped=othIsWrapped?other.value():other;return stack||(stack=new Stack),equalFunc(objUnwrapped,othUnwrapped,bitmask,customizer,stack)}}return!!isSameTag&&(stack||(stack=new Stack),equalObjects(object,other,bitmask,customizer,equalFunc,stack))}},function(module,exports,__webpack_require__){var ListCache=__webpack_require__(34);module.exports=function(){this.__data__=new ListCache,this.size=0}},function(module,exports){module.exports=function(key){var data=this.__data__,result=data.delete(key);return this.size=data.size,result}},function(module,exports){module.exports=function(key){return this.__data__.get(key)}},function(module,exports){module.exports=function(key){return this.__data__.has(key)}},function(module,exports,__webpack_require__){var ListCache=__webpack_require__(34),Map=__webpack_require__(77),MapCache=__webpack_require__(76);module.exports=function(key,value){var data=this.__data__;if(data instanceof ListCache){var pairs=data.__data__;if(!Map||pairs.length<199)return pairs.push([key,value]),this.size=++data.size,this;data=this.__data__=new MapCache(pairs)}return data.set(key,value),this.size=data.size,this}},function(module,exports){module.exports=function(array,predicate){for(var index=-1,length=null==array?0:array.length;++index<length;)if(predicate(array[index],index,array))return!0;return!1}},function(module,exports,__webpack_require__){var Symbol=__webpack_require__(18),Uint8Array=__webpack_require__(111),eq=__webpack_require__(36),equalArrays=__webpack_require__(110),mapToArray=__webpack_require__(223),setToArray=__webpack_require__(83),symbolProto=Symbol?Symbol.prototype:void 0,symbolValueOf=symbolProto?symbolProto.valueOf:void 0;module.exports=function(object,other,tag,bitmask,customizer,equalFunc,stack){switch(tag){case"[object DataView]":if(object.byteLength!=other.byteLength||object.byteOffset!=other.byteOffset)return!1;object=object.buffer,other=other.buffer;case"[object ArrayBuffer]":return!(object.byteLength!=other.byteLength||!equalFunc(new Uint8Array(object),new Uint8Array(other)));case"[object Boolean]":case"[object Date]":case"[object Number]":return eq(+object,+other);case"[object Error]":return object.name==other.name&&object.message==other.message;case"[object RegExp]":case"[object String]":return object==other+"";case"[object Map]":var convert=mapToArray;case"[object Set]":var isPartial=1&bitmask;if(convert||(convert=setToArray),object.size!=other.size&&!isPartial)return!1;var stacked=stack.get(object);if(stacked)return stacked==other;bitmask|=2,stack.set(object,other);var result=equalArrays(convert(object),convert(other),bitmask,customizer,equalFunc,stack);return stack.delete(object),result;case"[object Symbol]":if(symbolValueOf)return symbolValueOf.call(object)==symbolValueOf.call(other)}return!1}},function(module,exports){module.exports=function(map){var index=-1,result=Array(map.size);return map.forEach((function(value,key){result[++index]=[key,value]})),result}},function(module,exports,__webpack_require__){var getAllKeys=__webpack_require__(112),hasOwnProperty=Object.prototype.hasOwnProperty;module.exports=function(object,other,bitmask,customizer,equalFunc,stack){var isPartial=1&bitmask,objProps=getAllKeys(object),objLength=objProps.length;if(objLength!=getAllKeys(other).length&&!isPartial)return!1;for(var index=objLength;index--;){var key=objProps[index];if(!(isPartial?key in other:hasOwnProperty.call(other,key)))return!1}var stacked=stack.get(object);if(stacked&&stack.get(other))return stacked==other;var result=!0;stack.set(object,other),stack.set(other,object);for(var skipCtor=isPartial;++index<objLength;){var objValue=object[key=objProps[index]],othValue=other[key];if(customizer)var compared=isPartial?customizer(othValue,objValue,key,other,object,stack):customizer(objValue,othValue,key,object,other,stack);if(!(void 0===compared?objValue===othValue||equalFunc(objValue,othValue,bitmask,customizer,stack):compared)){result=!1;break}skipCtor||(skipCtor="constructor"==key)}if(result&&!skipCtor){var objCtor=object.constructor,othCtor=other.constructor;objCtor==othCtor||!("constructor"in object)||!("constructor"in other)||"function"==typeof objCtor&&objCtor instanceof objCtor&&"function"==typeof othCtor&&othCtor instanceof othCtor||(result=!1)}return stack.delete(object),stack.delete(other),result}},function(module,exports){module.exports=function(array,predicate){for(var index=-1,length=null==array?0:array.length,resIndex=0,result=[];++index<length;){var value=array[index];predicate(value,index,array)&&(result[resIndex++]=value)}return result}},function(module,exports){module.exports=function(n,iteratee){for(var index=-1,result=Array(n);++index<n;)result[index]=iteratee(index);return result}},function(module,exports){module.exports=function(){return!1}},function(module,exports,__webpack_require__){var baseGetTag=__webpack_require__(17),isLength=__webpack_require__(80),isObjectLike=__webpack_require__(11),typedArrayTags={};typedArrayTags["[object Float32Array]"]=typedArrayTags["[object Float64Array]"]=typedArrayTags["[object Int8Array]"]=typedArrayTags["[object Int16Array]"]=typedArrayTags["[object Int32Array]"]=typedArrayTags["[object Uint8Array]"]=typedArrayTags["[object Uint8ClampedArray]"]=typedArrayTags["[object Uint16Array]"]=typedArrayTags["[object Uint32Array]"]=!0,typedArrayTags["[object Arguments]"]=typedArrayTags["[object Array]"]=typedArrayTags["[object ArrayBuffer]"]=typedArrayTags["[object Boolean]"]=typedArrayTags["[object DataView]"]=typedArrayTags["[object Date]"]=typedArrayTags["[object Error]"]=typedArrayTags["[object Function]"]=typedArrayTags["[object Map]"]=typedArrayTags["[object Number]"]=typedArrayTags["[object Object]"]=typedArrayTags["[object RegExp]"]=typedArrayTags["[object Set]"]=typedArrayTags["[object String]"]=typedArrayTags["[object WeakMap]"]=!1,module.exports=function(value){return isObjectLike(value)&&isLength(value.length)&&!!typedArrayTags[baseGetTag(value)]}},function(module,exports,__webpack_require__){var nativeKeys=__webpack_require__(117)(Object.keys,Object);module.exports=nativeKeys},function(module,exports,__webpack_require__){var DataView=__webpack_require__(16)(__webpack_require__(9),"DataView");module.exports=DataView},function(module,exports,__webpack_require__){var Promise=__webpack_require__(16)(__webpack_require__(9),"Promise");module.exports=Promise},function(module,exports,__webpack_require__){var WeakMap=__webpack_require__(16)(__webpack_require__(9),"WeakMap");module.exports=WeakMap},function(module,__webpack_exports__,__webpack_require__){"use strict";var _node_modules_mini_css_extract_plugin_dist_loader_js_node_modules_css_loader_index_js_ref_4_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_lib_index_js_ref_4_2_node_modules_sass_loader_dist_cjs_js_node_modules_vue_loader_lib_index_js_vue_loader_options_node_modules_svg_icon_inline_loader_index_js_index_vue_vue_type_style_index_0_id_50f2e9c6_lang_scss_scoped_true___WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(56);__webpack_require__.n(_node_modules_mini_css_extract_plugin_dist_loader_js_node_modules_css_loader_index_js_ref_4_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_lib_index_js_ref_4_2_node_modules_sass_loader_dist_cjs_js_node_modules_vue_loader_lib_index_js_vue_loader_options_node_modules_svg_icon_inline_loader_index_js_index_vue_vue_type_style_index_0_id_50f2e9c6_lang_scss_scoped_true___WEBPACK_IMPORTED_MODULE_0__).a},function(module,exports,__webpack_require__){var arrayMap=__webpack_require__(38),baseIteratee=__webpack_require__(28),baseMap=__webpack_require__(249),baseSortBy=__webpack_require__(254),baseUnary=__webpack_require__(23),compareMultiple=__webpack_require__(255),identity=__webpack_require__(24);module.exports=function(collection,iteratees,orders){var index=-1;iteratees=arrayMap(iteratees.length?iteratees:[identity],baseUnary(baseIteratee));var result=baseMap(collection,(function(value,key,collection){return{criteria:arrayMap(iteratees,(function(iteratee){return iteratee(value)})),index:++index,value:value}}));return baseSortBy(result,(function(object,other){return compareMultiple(object,other,orders)}))}},function(module,exports,__webpack_require__){var baseIsMatch=__webpack_require__(236),getMatchData=__webpack_require__(237),matchesStrictComparable=__webpack_require__(120);module.exports=function(source){var matchData=getMatchData(source);return 1==matchData.length&&matchData[0][2]?matchesStrictComparable(matchData[0][0],matchData[0][1]):function(object){return object===source||baseIsMatch(object,source,matchData)}}},function(module,exports,__webpack_require__){var Stack=__webpack_require__(82),baseIsEqual=__webpack_require__(81);module.exports=function(object,source,matchData,customizer){var index=matchData.length,length=index,noCustomizer=!customizer;if(null==object)return!length;for(object=Object(object);index--;){var data=matchData[index];if(noCustomizer&&data[2]?data[1]!==object[data[0]]:!(data[0]in object))return!1}for(;++index<length;){var key=(data=matchData[index])[0],objValue=object[key],srcValue=data[1];if(noCustomizer&&data[2]){if(void 0===objValue&&!(key in object))return!1}else{var stack=new Stack;if(customizer)var result=customizer(objValue,srcValue,key,object,source,stack);if(!(void 0===result?baseIsEqual(srcValue,objValue,3,customizer,stack):result))return!1}}return!0}},function(module,exports,__webpack_require__){var isStrictComparable=__webpack_require__(119),keys=__webpack_require__(19);module.exports=function(object){for(var result=keys(object),length=result.length;length--;){var key=result[length],value=object[key];result[length]=[key,value,isStrictComparable(value)]}return result}},function(module,exports,__webpack_require__){var baseIsEqual=__webpack_require__(81),get=__webpack_require__(239),hasIn=__webpack_require__(243),isKey=__webpack_require__(89),isStrictComparable=__webpack_require__(119),matchesStrictComparable=__webpack_require__(120),toKey=__webpack_require__(29);module.exports=function(path,srcValue){return isKey(path)&&isStrictComparable(srcValue)?matchesStrictComparable(toKey(path),srcValue):function(object){var objValue=get(object,path);return void 0===objValue&&objValue===srcValue?hasIn(object,path):baseIsEqual(srcValue,objValue,3)}}},function(module,exports,__webpack_require__){var baseGet=__webpack_require__(88);module.exports=function(object,path,defaultValue){var result=null==object?void 0:baseGet(object,path);return void 0===result?defaultValue:result}},function(module,exports,__webpack_require__){var memoizeCapped=__webpack_require__(241),rePropName=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,reEscapeChar=/\\(\\)?/g,stringToPath=memoizeCapped((function(string){var result=[];return 46===string.charCodeAt(0)&&result.push(""),string.replace(rePropName,(function(match,number,quote,subString){result.push(quote?subString.replace(reEscapeChar,"$1"):number||match)})),result}));module.exports=stringToPath},function(module,exports,__webpack_require__){var memoize=__webpack_require__(242);module.exports=function(func){var result=memoize(func,(function(key){return 500===cache.size&&cache.clear(),key})),cache=result.cache;return result}},function(module,exports,__webpack_require__){var MapCache=__webpack_require__(76);function memoize(func,resolver){if("function"!=typeof func||null!=resolver&&"function"!=typeof resolver)throw new TypeError("Expected a function");var memoized=function(){var args=arguments,key=resolver?resolver.apply(this,args):args[0],cache=memoized.cache;if(cache.has(key))return cache.get(key);var result=func.apply(this,args);return memoized.cache=cache.set(key,result)||cache,result};return memoized.cache=new(memoize.Cache||MapCache),memoized}memoize.Cache=MapCache,module.exports=memoize},function(module,exports,__webpack_require__){var baseHasIn=__webpack_require__(244),hasPath=__webpack_require__(245);module.exports=function(object,path){return null!=object&&hasPath(object,path,baseHasIn)}},function(module,exports){module.exports=function(object,key){return null!=object&&key in Object(object)}},function(module,exports,__webpack_require__){var castPath=__webpack_require__(43),isArguments=__webpack_require__(39),isArray=__webpack_require__(6),isIndex=__webpack_require__(41),isLength=__webpack_require__(80),toKey=__webpack_require__(29);module.exports=function(object,path,hasFunc){for(var index=-1,length=(path=castPath(path,object)).length,result=!1;++index<length;){var key=toKey(path[index]);if(!(result=null!=object&&hasFunc(object,key)))break;object=object[key]}return result||++index!=length?result:!!(length=null==object?0:object.length)&&isLength(length)&&isIndex(key,length)&&(isArray(object)||isArguments(object))}},function(module,exports,__webpack_require__){var baseProperty=__webpack_require__(247),basePropertyDeep=__webpack_require__(248),isKey=__webpack_require__(89),toKey=__webpack_require__(29);module.exports=function(path){return isKey(path)?baseProperty(toKey(path)):basePropertyDeep(path)}},function(module,exports){module.exports=function(key){return function(object){return null==object?void 0:object[key]}}},function(module,exports,__webpack_require__){var baseGet=__webpack_require__(88);module.exports=function(path){return function(object){return baseGet(object,path)}}},function(module,exports,__webpack_require__){var baseEach=__webpack_require__(90),isArrayLike=__webpack_require__(13);module.exports=function(collection,iteratee){var index=-1,result=isArrayLike(collection)?Array(collection.length):[];return baseEach(collection,(function(value,key,collection){result[++index]=iteratee(value,key,collection)})),result}},function(module,exports,__webpack_require__){var baseFor=__webpack_require__(251),keys=__webpack_require__(19);module.exports=function(object,iteratee){return object&&baseFor(object,iteratee,keys)}},function(module,exports,__webpack_require__){var baseFor=__webpack_require__(252)();module.exports=baseFor},function(module,exports){module.exports=function(fromRight){return function(object,iteratee,keysFunc){for(var index=-1,iterable=Object(object),props=keysFunc(object),length=props.length;length--;){var key=props[fromRight?length:++index];if(!1===iteratee(iterable[key],key,iterable))break}return object}}},function(module,exports,__webpack_require__){var isArrayLike=__webpack_require__(13);module.exports=function(eachFunc,fromRight){return function(collection,iteratee){if(null==collection)return collection;if(!isArrayLike(collection))return eachFunc(collection,iteratee);for(var length=collection.length,index=fromRight?length:-1,iterable=Object(collection);(fromRight?index--:++index<length)&&!1!==iteratee(iterable[index],index,iterable););return collection}}},function(module,exports){module.exports=function(array,comparer){var length=array.length;for(array.sort(comparer);length--;)array[length]=array[length].value;return array}},function(module,exports,__webpack_require__){var compareAscending=__webpack_require__(256);module.exports=function(object,other,orders){for(var index=-1,objCriteria=object.criteria,othCriteria=other.criteria,length=objCriteria.length,ordersLength=orders.length;++index<length;){var result=compareAscending(objCriteria[index],othCriteria[index]);if(result)return index>=ordersLength?result:result*("desc"==orders[index]?-1:1)}return object.index-other.index}},function(module,exports,__webpack_require__){var isSymbol=__webpack_require__(26);module.exports=function(value,other){if(value!==other){var valIsDefined=void 0!==value,valIsNull=null===value,valIsReflexive=value==value,valIsSymbol=isSymbol(value),othIsDefined=void 0!==other,othIsNull=null===other,othIsReflexive=other==other,othIsSymbol=isSymbol(other);if(!othIsNull&&!othIsSymbol&&!valIsSymbol&&value>other||valIsSymbol&&othIsDefined&&othIsReflexive&&!othIsNull&&!othIsSymbol||valIsNull&&othIsDefined&&othIsReflexive||!valIsDefined&&othIsReflexive||!valIsReflexive)return 1;if(!valIsNull&&!valIsSymbol&&!othIsSymbol&&value<other||othIsSymbol&&valIsDefined&&valIsReflexive&&!valIsNull&&!valIsSymbol||othIsNull&&valIsDefined&&valIsReflexive||!othIsDefined&&valIsReflexive||!othIsReflexive)return-1}return 0}},function(module,exports,__webpack_require__){var Stack=__webpack_require__(82),arrayEach=__webpack_require__(121),assignValue=__webpack_require__(91),baseAssign=__webpack_require__(258),baseAssignIn=__webpack_require__(259),cloneBuffer=__webpack_require__(262),copyArray=__webpack_require__(263),copySymbols=__webpack_require__(264),copySymbolsIn=__webpack_require__(265),getAllKeys=__webpack_require__(112),getAllKeysIn=__webpack_require__(125),getTag=__webpack_require__(27),initCloneArray=__webpack_require__(266),initCloneByTag=__webpack_require__(267),initCloneObject=__webpack_require__(272),isArray=__webpack_require__(6),isBuffer=__webpack_require__(40),isMap=__webpack_require__(274),isObject=__webpack_require__(10),isSet=__webpack_require__(276),keys=__webpack_require__(19),cloneableTags={};cloneableTags["[object Arguments]"]=cloneableTags["[object Array]"]=cloneableTags["[object ArrayBuffer]"]=cloneableTags["[object DataView]"]=cloneableTags["[object Boolean]"]=cloneableTags["[object Date]"]=cloneableTags["[object Float32Array]"]=cloneableTags["[object Float64Array]"]=cloneableTags["[object Int8Array]"]=cloneableTags["[object Int16Array]"]=cloneableTags["[object Int32Array]"]=cloneableTags["[object Map]"]=cloneableTags["[object Number]"]=cloneableTags["[object Object]"]=cloneableTags["[object RegExp]"]=cloneableTags["[object Set]"]=cloneableTags["[object String]"]=cloneableTags["[object Symbol]"]=cloneableTags["[object Uint8Array]"]=cloneableTags["[object Uint8ClampedArray]"]=cloneableTags["[object Uint16Array]"]=cloneableTags["[object Uint32Array]"]=!0,cloneableTags["[object Error]"]=cloneableTags["[object Function]"]=cloneableTags["[object WeakMap]"]=!1,module.exports=function baseClone(value,bitmask,customizer,key,object,stack){var result,isDeep=1&bitmask,isFlat=2&bitmask,isFull=4&bitmask;if(customizer&&(result=object?customizer(value,key,object,stack):customizer(value)),void 0!==result)return result;if(!isObject(value))return value;var isArr=isArray(value);if(isArr){if(result=initCloneArray(value),!isDeep)return copyArray(value,result)}else{var tag=getTag(value),isFunc="[object Function]"==tag||"[object GeneratorFunction]"==tag;if(isBuffer(value))return cloneBuffer(value,isDeep);if("[object Object]"==tag||"[object Arguments]"==tag||isFunc&&!object){if(result=isFlat||isFunc?{}:initCloneObject(value),!isDeep)return isFlat?copySymbolsIn(value,baseAssignIn(result,value)):copySymbols(value,baseAssign(result,value))}else{if(!cloneableTags[tag])return object?value:{};result=initCloneByTag(value,tag,isDeep)}}stack||(stack=new Stack);var stacked=stack.get(value);if(stacked)return stacked;stack.set(value,result),isSet(value)?value.forEach((function(subValue){result.add(baseClone(subValue,bitmask,customizer,subValue,value,stack))})):isMap(value)&&value.forEach((function(subValue,key){result.set(key,baseClone(subValue,bitmask,customizer,key,value,stack))}));var keysFunc=isFull?isFlat?getAllKeysIn:getAllKeys:isFlat?keysIn:keys,props=isArr?void 0:keysFunc(value);return arrayEach(props||value,(function(subValue,key){props&&(subValue=value[key=subValue]),assignValue(result,key,baseClone(subValue,bitmask,customizer,key,value,stack))})),result}},function(module,exports,__webpack_require__){var copyObject=__webpack_require__(44),keys=__webpack_require__(19);module.exports=function(object,source){return object&&copyObject(source,keys(source),object)}},function(module,exports,__webpack_require__){var copyObject=__webpack_require__(44),keysIn=__webpack_require__(123);module.exports=function(object,source){return object&&copyObject(source,keysIn(source),object)}},function(module,exports,__webpack_require__){var isObject=__webpack_require__(10),isPrototype=__webpack_require__(42),nativeKeysIn=__webpack_require__(261),hasOwnProperty=Object.prototype.hasOwnProperty;module.exports=function(object){if(!isObject(object))return nativeKeysIn(object);var isProto=isPrototype(object),result=[];for(var key in object)("constructor"!=key||!isProto&&hasOwnProperty.call(object,key))&&result.push(key);return result}},function(module,exports){module.exports=function(object){var result=[];if(null!=object)for(var key in Object(object))result.push(key);return result}},function(module,exports,__webpack_require__){(function(module){var root=__webpack_require__(9),freeExports=exports&&!exports.nodeType&&exports,freeModule=freeExports&&"object"==typeof module&&module&&!module.nodeType&&module,Buffer=freeModule&&freeModule.exports===freeExports?root.Buffer:void 0,allocUnsafe=Buffer?Buffer.allocUnsafe:void 0;module.exports=function(buffer,isDeep){if(isDeep)return buffer.slice();var length=buffer.length,result=allocUnsafe?allocUnsafe(length):new buffer.constructor(length);return buffer.copy(result),result}}).call(this,__webpack_require__(85)(module))},function(module,exports){module.exports=function(source,array){var index=-1,length=source.length;for(array||(array=Array(length));++index<length;)array[index]=source[index];return array}},function(module,exports,__webpack_require__){var copyObject=__webpack_require__(44),getSymbols=__webpack_require__(84);module.exports=function(source,object){return copyObject(source,getSymbols(source),object)}},function(module,exports,__webpack_require__){var copyObject=__webpack_require__(44),getSymbolsIn=__webpack_require__(124);module.exports=function(source,object){return copyObject(source,getSymbolsIn(source),object)}},function(module,exports){var hasOwnProperty=Object.prototype.hasOwnProperty;module.exports=function(array){var length=array.length,result=new array.constructor(length);return length&&"string"==typeof array[0]&&hasOwnProperty.call(array,"index")&&(result.index=array.index,result.input=array.input),result}},function(module,exports,__webpack_require__){var cloneArrayBuffer=__webpack_require__(93),cloneDataView=__webpack_require__(268),cloneRegExp=__webpack_require__(269),cloneSymbol=__webpack_require__(270),cloneTypedArray=__webpack_require__(271);module.exports=function(object,tag,isDeep){var Ctor=object.constructor;switch(tag){case"[object ArrayBuffer]":return cloneArrayBuffer(object);case"[object Boolean]":case"[object Date]":return new Ctor(+object);case"[object DataView]":return cloneDataView(object,isDeep);case"[object Float32Array]":case"[object Float64Array]":case"[object Int8Array]":case"[object Int16Array]":case"[object Int32Array]":case"[object Uint8Array]":case"[object Uint8ClampedArray]":case"[object Uint16Array]":case"[object Uint32Array]":return cloneTypedArray(object,isDeep);case"[object Map]":return new Ctor;case"[object Number]":case"[object String]":return new Ctor(object);case"[object RegExp]":return cloneRegExp(object);case"[object Set]":return new Ctor;case"[object Symbol]":return cloneSymbol(object)}}},function(module,exports,__webpack_require__){var cloneArrayBuffer=__webpack_require__(93);module.exports=function(dataView,isDeep){var buffer=isDeep?cloneArrayBuffer(dataView.buffer):dataView.buffer;return new dataView.constructor(buffer,dataView.byteOffset,dataView.byteLength)}},function(module,exports){var reFlags=/\w*$/;module.exports=function(regexp){var result=new regexp.constructor(regexp.source,reFlags.exec(regexp));return result.lastIndex=regexp.lastIndex,result}},function(module,exports,__webpack_require__){var Symbol=__webpack_require__(18),symbolProto=Symbol?Symbol.prototype:void 0,symbolValueOf=symbolProto?symbolProto.valueOf:void 0;module.exports=function(symbol){return symbolValueOf?Object(symbolValueOf.call(symbol)):{}}},function(module,exports,__webpack_require__){var cloneArrayBuffer=__webpack_require__(93);module.exports=function(typedArray,isDeep){var buffer=isDeep?cloneArrayBuffer(typedArray.buffer):typedArray.buffer;return new typedArray.constructor(buffer,typedArray.byteOffset,typedArray.length)}},function(module,exports,__webpack_require__){var baseCreate=__webpack_require__(273),getPrototype=__webpack_require__(92),isPrototype=__webpack_require__(42);module.exports=function(object){return"function"!=typeof object.constructor||isPrototype(object)?{}:baseCreate(getPrototype(object))}},function(module,exports,__webpack_require__){var isObject=__webpack_require__(10),objectCreate=Object.create,baseCreate=function(){function object(){}return function(proto){if(!isObject(proto))return{};if(objectCreate)return objectCreate(proto);object.prototype=proto;var result=new object;return object.prototype=void 0,result}}();module.exports=baseCreate},function(module,exports,__webpack_require__){var baseIsMap=__webpack_require__(275),baseUnary=__webpack_require__(23),nodeUtil=__webpack_require__(87),nodeIsMap=nodeUtil&&nodeUtil.isMap,isMap=nodeIsMap?baseUnary(nodeIsMap):baseIsMap;module.exports=isMap},function(module,exports,__webpack_require__){var getTag=__webpack_require__(27),isObjectLike=__webpack_require__(11);module.exports=function(value){return isObjectLike(value)&&"[object Map]"==getTag(value)}},function(module,exports,__webpack_require__){var baseIsSet=__webpack_require__(277),baseUnary=__webpack_require__(23),nodeUtil=__webpack_require__(87),nodeIsSet=nodeUtil&&nodeUtil.isSet,isSet=nodeIsSet?baseUnary(nodeIsSet):baseIsSet;module.exports=isSet},function(module,exports,__webpack_require__){var getTag=__webpack_require__(27),isObjectLike=__webpack_require__(11);module.exports=function(value){return isObjectLike(value)&&"[object Set]"==getTag(value)}},function(module,__webpack_exports__,__webpack_require__){"use strict";var _node_modules_mini_css_extract_plugin_dist_loader_js_node_modules_css_loader_index_js_ref_4_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_lib_index_js_ref_4_2_node_modules_sass_loader_dist_cjs_js_node_modules_vue_loader_lib_index_js_vue_loader_options_node_modules_svg_icon_inline_loader_index_js_index_vue_vue_type_style_index_0_id_3ae45b46_lang_scss_scoped_true___WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(57);__webpack_require__.n(_node_modules_mini_css_extract_plugin_dist_loader_js_node_modules_css_loader_index_js_ref_4_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_lib_index_js_ref_4_2_node_modules_sass_loader_dist_cjs_js_node_modules_vue_loader_lib_index_js_vue_loader_options_node_modules_svg_icon_inline_loader_index_js_index_vue_vue_type_style_index_0_id_3ae45b46_lang_scss_scoped_true___WEBPACK_IMPORTED_MODULE_0__).a},function(module,__webpack_exports__,__webpack_require__){"use strict";var _node_modules_mini_css_extract_plugin_dist_loader_js_node_modules_css_loader_index_js_ref_4_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_lib_index_js_ref_4_2_node_modules_sass_loader_dist_cjs_js_node_modules_vue_loader_lib_index_js_vue_loader_options_node_modules_svg_icon_inline_loader_index_js_index_vue_vue_type_style_index_0_id_35545baf_lang_scss_scoped_true___WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(58);__webpack_require__.n(_node_modules_mini_css_extract_plugin_dist_loader_js_node_modules_css_loader_index_js_ref_4_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_lib_index_js_ref_4_2_node_modules_sass_loader_dist_cjs_js_node_modules_vue_loader_lib_index_js_vue_loader_options_node_modules_svg_icon_inline_loader_index_js_index_vue_vue_type_style_index_0_id_35545baf_lang_scss_scoped_true___WEBPACK_IMPORTED_MODULE_0__).a},function(module,exports){module.exports=function(array,predicate){for(var index=-1,length=null==array?0:array.length;++index<length;)if(!predicate(array[index],index,array))return!1;return!0}},function(module,exports,__webpack_require__){var baseEach=__webpack_require__(90);module.exports=function(collection,predicate){var result=!0;return baseEach(collection,(function(value,index,collection){return result=!!predicate(value,index,collection)})),result}},function(module,exports,__webpack_require__){var eq=__webpack_require__(36),isArrayLike=__webpack_require__(13),isIndex=__webpack_require__(41),isObject=__webpack_require__(10);module.exports=function(value,index,object){if(!isObject(object))return!1;var type=typeof index;return!!("number"==type?isArrayLike(object)&&isIndex(index,object.length):"string"==type&&index in object)&&eq(object[index],value)}},function(module,__webpack_exports__,__webpack_require__){"use strict";var _node_modules_mini_css_extract_plugin_dist_loader_js_node_modules_css_loader_index_js_ref_4_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_lib_index_js_ref_4_2_node_modules_sass_loader_dist_cjs_js_node_modules_vue_loader_lib_index_js_vue_loader_options_node_modules_svg_icon_inline_loader_index_js_IdentifierTextbox_vue_vue_type_style_index_0_id_b4992a02_lang_scss_scoped_true___WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(59);__webpack_require__.n(_node_modules_mini_css_extract_plugin_dist_loader_js_node_modules_css_loader_index_js_ref_4_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_lib_index_js_ref_4_2_node_modules_sass_loader_dist_cjs_js_node_modules_vue_loader_lib_index_js_vue_loader_options_node_modules_svg_icon_inline_loader_index_js_IdentifierTextbox_vue_vue_type_style_index_0_id_b4992a02_lang_scss_scoped_true___WEBPACK_IMPORTED_MODULE_0__).a},function(module,__webpack_exports__,__webpack_require__){"use strict";var _node_modules_mini_css_extract_plugin_dist_loader_js_node_modules_css_loader_index_js_ref_4_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_lib_index_js_ref_4_2_node_modules_sass_loader_dist_cjs_js_node_modules_vue_loader_lib_index_js_vue_loader_options_node_modules_svg_icon_inline_loader_index_js_UserCreatePage_vue_vue_type_style_index_0_id_041faaa7_lang_scss_scoped_true___WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(60);__webpack_require__.n(_node_modules_mini_css_extract_plugin_dist_loader_js_node_modules_css_loader_index_js_ref_4_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_lib_index_js_ref_4_2_node_modules_sass_loader_dist_cjs_js_node_modules_vue_loader_lib_index_js_vue_loader_options_node_modules_svg_icon_inline_loader_index_js_UserCreatePage_vue_vue_type_style_index_0_id_041faaa7_lang_scss_scoped_true___WEBPACK_IMPORTED_MODULE_0__).a},function(module,exports,__webpack_require__){var baseGet=__webpack_require__(88),baseSet=__webpack_require__(286),castPath=__webpack_require__(43);module.exports=function(object,paths,predicate){for(var index=-1,length=paths.length,result={};++index<length;){var path=paths[index],value=baseGet(object,path);predicate(value,path)&&baseSet(result,castPath(path,object),value)}return result}},function(module,exports,__webpack_require__){var assignValue=__webpack_require__(91),castPath=__webpack_require__(43),isIndex=__webpack_require__(41),isObject=__webpack_require__(10),toKey=__webpack_require__(29);module.exports=function(object,path,value,customizer){if(!isObject(object))return object;for(var index=-1,length=(path=castPath(path,object)).length,lastIndex=length-1,nested=object;null!=nested&&++index<length;){var key=toKey(path[index]),newValue=value;if(index!=lastIndex){var objValue=nested[key];void 0===(newValue=customizer?customizer(objValue,key,nested):void 0)&&(newValue=isObject(objValue)?objValue:isIndex(path[index+1])?[]:{})}assignValue(nested,key,newValue),nested=nested[key]}return object}},function(module,__webpack_exports__,__webpack_require__){"use strict";var _node_modules_mini_css_extract_plugin_dist_loader_js_node_modules_css_loader_index_js_ref_4_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_lib_index_js_ref_4_2_node_modules_sass_loader_dist_cjs_js_node_modules_vue_loader_lib_index_js_vue_loader_options_node_modules_svg_icon_inline_loader_index_js_UserEditPage_vue_vue_type_style_index_0_id_33629afa_lang_scss_scoped_true___WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(61);__webpack_require__.n(_node_modules_mini_css_extract_plugin_dist_loader_js_node_modules_css_loader_index_js_ref_4_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_lib_index_js_ref_4_2_node_modules_sass_loader_dist_cjs_js_node_modules_vue_loader_lib_index_js_vue_loader_options_node_modules_svg_icon_inline_loader_index_js_UserEditPage_vue_vue_type_style_index_0_id_33629afa_lang_scss_scoped_true___WEBPACK_IMPORTED_MODULE_0__).a},function(module,exports,__webpack_require__){var baseIteratee=__webpack_require__(28),isArrayLike=__webpack_require__(13),keys=__webpack_require__(19);module.exports=function(findIndexFunc){return function(collection,predicate,fromIndex){var iterable=Object(collection);if(!isArrayLike(collection)){var iteratee=baseIteratee(predicate,3);collection=keys(collection),predicate=function(key){return iteratee(iterable[key],key,iterable)}}var index=findIndexFunc(collection,predicate,fromIndex);return index>-1?iterable[iteratee?collection[index]:index]:void 0}}},function(module,exports,__webpack_require__){var baseFindIndex=__webpack_require__(103),baseIteratee=__webpack_require__(28),toInteger=__webpack_require__(290),nativeMax=Math.max;module.exports=function(array,predicate,fromIndex){var length=null==array?0:array.length;if(!length)return-1;var index=null==fromIndex?0:toInteger(fromIndex);return index<0&&(index=nativeMax(length+index,0)),baseFindIndex(array,baseIteratee(predicate,3),index)}},function(module,exports,__webpack_require__){var toFinite=__webpack_require__(291);module.exports=function(value){var result=toFinite(value),remainder=result%1;return result==result?remainder?result-remainder:result:0}},function(module,exports,__webpack_require__){var toNumber=__webpack_require__(292);module.exports=function(value){return value?(value=toNumber(value))===1/0||value===-1/0?17976931348623157e292*(value<0?-1:1):value==value?value:0:0===value?value:0}},function(module,exports,__webpack_require__){var isObject=__webpack_require__(10),isSymbol=__webpack_require__(26),reTrim=/^\s+|\s+$/g,reIsBadHex=/^[-+]0x[0-9a-f]+$/i,reIsBinary=/^0b[01]+$/i,reIsOctal=/^0o[0-7]+$/i,freeParseInt=parseInt;module.exports=function(value){if("number"==typeof value)return value;if(isSymbol(value))return NaN;if(isObject(value)){var other="function"==typeof value.valueOf?value.valueOf():value;value=isObject(other)?other+"":other}if("string"!=typeof value)return 0===value?value:+value;value=value.replace(reTrim,"");var isBinary=reIsBinary.test(value);return isBinary||reIsOctal.test(value)?freeParseInt(value.slice(2),isBinary?2:8):reIsBadHex.test(value)?NaN:+value}},function(module,exports,__webpack_require__){var SetCache=__webpack_require__(75),arrayIncludes=__webpack_require__(102),arrayIncludesWith=__webpack_require__(104),cacheHas=__webpack_require__(78),createSet=__webpack_require__(294),setToArray=__webpack_require__(83);module.exports=function(array,iteratee,comparator){var index=-1,includes=arrayIncludes,length=array.length,isCommon=!0,result=[],seen=result;if(comparator)isCommon=!1,includes=arrayIncludesWith;else if(length>=200){var set=iteratee?null:createSet(array);if(set)return setToArray(set);isCommon=!1,includes=cacheHas,seen=new SetCache}else seen=iteratee?[]:result;outer:for(;++index<length;){var value=array[index],computed=iteratee?iteratee(value):value;if(value=comparator||0!==value?value:0,isCommon&&computed==computed){for(var seenIndex=seen.length;seenIndex--;)if(seen[seenIndex]===computed)continue outer;iteratee&&seen.push(computed),result.push(value)}else includes(seen,computed,comparator)||(seen!==result&&seen.push(computed),result.push(value))}return result}},function(module,exports,__webpack_require__){var Set=__webpack_require__(118),noop=__webpack_require__(295),setToArray=__webpack_require__(83),createSet=Set&&1/setToArray(new Set([,-0]))[1]==1/0?function(values){return new Set(values)}:noop;module.exports=createSet},function(module,exports){module.exports=function(){}},function(module,exports,__webpack_require__){var identity=__webpack_require__(24);module.exports=function(value){return"function"==typeof value?value:identity}},function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__);var userManagement_actions_namespaceObject={};__webpack_require__.r(userManagement_actions_namespaceObject),__webpack_require__.d(userManagement_actions_namespaceObject,"createFacilityUser",(function(){return createFacilityUser})),__webpack_require__.d(userManagement_actions_namespaceObject,"updateFacilityUserDetails",(function(){return updateFacilityUserDetails})),__webpack_require__.d(userManagement_actions_namespaceObject,"updateFacilityUserPassword",(function(){return updateFacilityUserPassword})),__webpack_require__.d(userManagement_actions_namespaceObject,"deleteFacilityUser",(function(){return deleteFacilityUser}));var external_kolibriCoreAppGlobal_coreVue_router_=__webpack_require__(15),external_kolibriCoreAppGlobal_coreVue_router_default=__webpack_require__.n(external_kolibriCoreAppGlobal_coreVue_router_),external_kolibriCoreAppGlobal_lib_vuex_=__webpack_require__(3),external_kolibriCoreAppGlobal_coreVue_components_CoreBase_=__webpack_require__(126),external_kolibriCoreAppGlobal_coreVue_components_CoreBase_default=__webpack_require__.n(external_kolibriCoreAppGlobal_coreVue_components_CoreBase_),external_kolibriCoreAppGlobal_coreVue_mixins_commonCoreStrings_=__webpack_require__(4),external_kolibriCoreAppGlobal_coreVue_mixins_commonCoreStrings_default=__webpack_require__.n(external_kolibriCoreAppGlobal_coreVue_mixins_commonCoreStrings_),constants=__webpack_require__(0),external_kolibriCoreAppGlobal_coreVue_components_Navbar_=__webpack_require__(127),external_kolibriCoreAppGlobal_coreVue_components_Navbar_default=__webpack_require__.n(external_kolibriCoreAppGlobal_coreVue_components_Navbar_),external_kolibriCoreAppGlobal_coreVue_components_NavbarLink_=__webpack_require__(128),external_kolibriCoreAppGlobal_coreVue_components_NavbarLink_default=__webpack_require__.n(external_kolibriCoreAppGlobal_coreVue_components_NavbarLink_);function normalizeComponent(scriptExports,render,staticRenderFns,functionalTemplate,injectStyles,scopeId,moduleIdentifier,shadowMode){var hook,options="function"==typeof scriptExports?scriptExports.options:scriptExports;if(render&&(options.render=render,options.staticRenderFns=staticRenderFns,options._compiled=!0),functionalTemplate&&(options.functional=!0),scopeId&&(options._scopeId="data-v-"+scopeId),moduleIdentifier?(hook=function(context){(context=context||this.$vnode&&this.$vnode.ssrContext||this.parent&&this.parent.$vnode&&this.parent.$vnode.ssrContext)||"undefined"==typeof __VUE_SSR_CONTEXT__||(context=__VUE_SSR_CONTEXT__),injectStyles&&injectStyles.call(this,context),context&&context._registeredComponents&&context._registeredComponents.add(moduleIdentifier)},options._ssrRegister=hook):injectStyles&&(hook=shadowMode?function(){injectStyles.call(this,(options.functional?this.parent:this).$root.$options.shadowRoot)}:injectStyles),hook)if(options.functional){options._injectStyles=hook;var originalRender=options.render;options.render=function(h,context){return hook.call(context),originalRender(h,context)}}else{var existing=options.beforeCreate;options.beforeCreate=existing?[].concat(existing,hook):[hook]}return{exports:scriptExports,options:options}}var FacilityTopNav=normalizeComponent({name:"FacilityTopNav",components:{Navbar:external_kolibriCoreAppGlobal_coreVue_components_Navbar_default.a,NavbarLink:external_kolibriCoreAppGlobal_coreVue_components_NavbarLink_default.a},mixins:[external_kolibriCoreAppGlobal_coreVue_mixins_commonCoreStrings_default.a],$trs:{data:"Data",settings:"Settings"}},(function(){var _vm=this,_h=_vm.$createElement,_c=_vm._self._c||_h;return _c("Navbar",[_c("NavbarLink",{attrs:{title:_vm.coreString("classesLabel"),link:_vm.$store.getters.facilityPageLinks.ManageClassPage}},[_c("KIcon",{staticStyle:{top:"0",width:"24px",height:"24px"},attrs:{icon:"domain",color:_vm.$themeTokens.textInverted}})],1),_c("NavbarLink",{attrs:{title:_vm.coreString("usersLabel"),link:_vm.$store.getters.facilityPageLinks.UserPage}},[_c("KIcon",{staticStyle:{top:"0",width:"24px",height:"24px"},attrs:{icon:"people",color:_vm.$themeTokens.textInverted}})],1),_c("NavbarLink",{attrs:{title:_vm.$tr("settings"),link:_vm.$store.getters.facilityPageLinks.FacilitiesConfigPage}},[_c("KIcon",{staticStyle:{top:"0",width:"24px",height:"24px"},attrs:{icon:"settings",color:_vm.$themeTokens.textInverted}})],1),_c("NavbarLink",{attrs:{title:_vm.$tr("data"),link:_vm.$store.getters.facilityPageLinks.DataPage}},[_c("KIcon",{staticStyle:{top:"0",width:"24px",height:"24px"},attrs:{icon:"save",color:_vm.$themeTokens.textInverted}})],1)],1)}),[],!1,null,"8a71b912",null).exports,FacilityIndex=normalizeComponent({name:"FacilityIndex",components:{CoreBase:external_kolibriCoreAppGlobal_coreVue_components_CoreBase_default.a,FacilityTopNav:FacilityTopNav},mixins:[external_kolibriCoreAppGlobal_coreVue_mixins_commonCoreStrings_default.a],computed:Object.assign({},Object(external_kolibriCoreAppGlobal_lib_vuex_.mapGetters)(["isAdmin","isSuperuser","userIsMultiFacilityAdmin","currentFacilityName","activeFacilityId"]),Object(external_kolibriCoreAppGlobal_lib_vuex_.mapState)("classAssignMembers",["class"]),{pageName:function(){return this.$route.name},inAllFacilitiesPage:function(){return this.pageName===constants.d.ALL_FACILITIES_PAGE},showSubNav:function(){return!this.inAllFacilitiesPage&&(this.userIsAuthorized&&!this.immersivePageProps.immersivePage)},immersivePageProps:function(){var immersivePageRoute,appBarTitle="";return this.pageName===constants.d.CLASS_ENROLL_LEARNER||this.pageName===constants.d.CLASS_ASSIGN_COACH?(immersivePageRoute=this.$store.getters.facilityPageLinks.ClassEditPage,this.class&&(appBarTitle=this.class.name||"")):this.pageName===constants.d.USER_EDIT_PAGE||this.pageName===constants.d.USER_CREATE_PAGE?(immersivePageRoute=this.$store.getters.facilityPageLinks.UserPage,appBarTitle=this.coreString("usersLabel")):this.pageName===constants.d.IMPORT_CSV_PAGE&&(immersivePageRoute=this.$store.getters.facilityPageLinks.DataPage,appBarTitle=this.$tr("importPageHeader")),immersivePageRoute?{immersivePage:!0,immersivePageIcon:"close",immersivePageRoute:immersivePageRoute,immersivePagePrimary:!1,appBarTitle:appBarTitle}:{immersivePage:!1,appBarTitle:appBarTitle=this.userIsMultiFacilityAdmin&&!this.inAllFacilitiesPage?this.$tr("facilityLabelWithName",{facilityName:this.currentFacilityName}):this.coreString("facilityLabel")}},userIsAuthorized:function(){return!!this.isSuperuser||!!this.isAdmin&&(!this.inAllFacilitiesPage&&this.$store.state.core.session.facility_id===this.activeFacilityId)}}),$trs:{adminOrSuperuser:"You must be signed in as an admin or super admin to view this page",facilityLabelWithName:"Facility  {facilityName}",importPageHeader:"Import users from spreadsheet"}},(function(){var _h=this.$createElement,_c=this._self._c||_h;return _c("CoreBase",this._b({attrs:{authorized:this.userIsAuthorized,authorizationErrorDetails:this.$tr("adminOrSuperuser"),showSubNav:this.showSubNav},scopedSlots:this._u([{key:"sub-nav",fn:function(){return[_c("FacilityTopNav")]},proxy:!0}])},"CoreBase",this.immersivePageProps,!1),[_c("router-view")],1)}),[],!1,null,"0ba81750",null).exports,external_kolibriCoreAppGlobal_coreVue_vuex_store_=__webpack_require__(5),external_kolibriCoreAppGlobal_coreVue_vuex_store_default=__webpack_require__.n(external_kolibriCoreAppGlobal_coreVue_vuex_store_),external_kolibriCoreAppGlobal_coreVue_components_UserTypeDisplay_=__webpack_require__(62),external_kolibriCoreAppGlobal_coreVue_components_UserTypeDisplay_default=__webpack_require__.n(external_kolibriCoreAppGlobal_coreVue_components_UserTypeDisplay_),external_kolibriCoreAppGlobal_coreVue_components_CoreTable_=__webpack_require__(14),external_kolibriCoreAppGlobal_coreVue_components_CoreTable_default=__webpack_require__.n(external_kolibriCoreAppGlobal_coreVue_components_CoreTable_),difference=__webpack_require__(129),difference_default=__webpack_require__.n(difference),external_kolibriCoreAppGlobal_coreVue_components_CoreInfoIcon_=__webpack_require__(63),external_kolibriCoreAppGlobal_coreVue_components_CoreInfoIcon_default=__webpack_require__.n(external_kolibriCoreAppGlobal_coreVue_components_CoreInfoIcon_),external_kolibriCoreAppGlobal_coreVue_components_GenderDisplayText_=__webpack_require__(130),external_kolibriCoreAppGlobal_coreVue_components_GenderDisplayText_default=__webpack_require__.n(external_kolibriCoreAppGlobal_coreVue_components_GenderDisplayText_),external_kolibriCoreAppGlobal_coreVue_components_BirthYearDisplayText_=__webpack_require__(131),external_kolibriCoreAppGlobal_coreVue_components_BirthYearDisplayText_default=__webpack_require__.n(external_kolibriCoreAppGlobal_coreVue_components_BirthYearDisplayText_),views_UserTablevue_type_script_lang_js_={name:"UserTable",components:{CoreInfoIcon:external_kolibriCoreAppGlobal_coreVue_components_CoreInfoIcon_default.a,CoreTable:external_kolibriCoreAppGlobal_coreVue_components_CoreTable_default.a,UserTypeDisplay:external_kolibriCoreAppGlobal_coreVue_components_UserTypeDisplay_default.a,GenderDisplayText:external_kolibriCoreAppGlobal_coreVue_components_GenderDisplayText_default.a,BirthYearDisplayText:external_kolibriCoreAppGlobal_coreVue_components_BirthYearDisplayText_default.a},mixins:[external_kolibriCoreAppGlobal_coreVue_mixins_commonCoreStrings_default.a],props:{users:{type:Array,required:!0},emptyMessage:{type:String},selectable:{type:Boolean,default:!1},value:{type:Array,default:null},isCoach:{type:Boolean,default:!1},infoDescriptor:{type:String,default:""},showDemographicInfo:{type:Boolean,default:!1}},computed:{allAreSelected:function(){var this$1=this;return Boolean(this.users.length)&&this.users.every((function(user){return this$1.value.includes(user.id)}))}},methods:{userIsSelected:function(id){return this.value.includes(id)},selectAll:function(checked){var currentUsers=this.users.map((function(user){return user.id}));return checked?this.$emit("input",this.value.concat(currentUsers)):this.$emit("input",difference_default()(this.value,currentUsers))},selectUser:function(id,checked){var selected=Array.from(this.value);return checked?(selected.push(id),this.$emit("input",selected)):this.$emit("input",selected.filter((function(selectedId){return selectedId!==id})))}},$trs:{role:"Role",userActionsColumnHeader:"Actions",selectAllLabel:"Select all",userCheckboxLabel:"Select user"}},UserTable=(__webpack_require__(185),normalizeComponent(views_UserTablevue_type_script_lang_js_,(function(){var _vm=this,_h=_vm.$createElement,_c=_vm._self._c||_h;return _c("div",[_c("CoreTable",[_c("thead",{attrs:{slot:"thead"},slot:"thead"},[_c("tr",[_vm.selectable?_c("th",{staticClass:"core-table-checkbox-col select-all"},[_c("KCheckbox",{staticClass:"overflow-label",attrs:{label:_vm.$tr("selectAllLabel"),showLabel:!0,checked:_vm.allAreSelected,disabled:0===_vm.users.length},on:{change:function($event){return _vm.selectAll($event)}}})],1):_vm._e(),_c("th",[_c("span",{class:{visuallyhidden:_vm.selectable}},[_vm._v("\n            "+_vm._s(_vm.coreString("fullNameLabel"))+"\n          ")])]),_c("th",[_c("span",{staticClass:"visuallyhidden"},[_vm._v("\n            "+_vm._s(_vm.$tr("role"))+"\n          ")])]),_c("th",[_vm._v(_vm._s(_vm.coreString("usernameLabel")))]),_vm.$scopedSlots.info?_c("th",[_vm._v("\n          "+_vm._s(_vm.infoDescriptor)+"\n        ")]):_vm._e(),_vm.showDemographicInfo?[_c("th",[_c("span",[_vm._v(_vm._s(_vm.coreString("identifierLabel")))]),_c("CoreInfoIcon",{staticClass:"tooltip",attrs:{iconAriaLabel:_vm.coreString("identifierAriaLabel"),tooltipText:_vm.coreString("identifierTooltip")}})],1),_c("th",[_vm._v("\n            "+_vm._s(_vm.coreString("genderLabel"))+"\n          ")]),_c("th",[_vm._v("\n            "+_vm._s(_vm.coreString("birthYearLabel"))+"\n          ")])]:_vm._e(),_vm.$scopedSlots.action?_c("th",{staticClass:"user-action-button"},[_c("span",{staticClass:"visuallyhidden"},[_vm._v("\n            "+_vm._s(_vm.$tr("userActionsColumnHeader"))+"\n          ")])]):_vm._e()],2)]),_c("tbody",{attrs:{slot:"tbody"},slot:"tbody"},_vm._l(_vm.users,(function(user){return _c("tr",{key:user.id},[_vm.selectable?_c("td",{staticClass:"core-table-checkbox-col"},[_c("KCheckbox",{attrs:{label:_vm.$tr("userCheckboxLabel"),showLabel:!1,checked:_vm.userIsSelected(user.id)},on:{change:function($event){return _vm.selectUser(user.id,$event)}}})],1):_vm._e(),_c("td",[_c("KLabeledIcon",{attrs:{icon:_vm.isCoach?"coach":"person",label:user.full_name}}),_c("UserTypeDisplay",{staticClass:"role-badge",style:{color:_vm.$themeTokens.textInverted,backgroundColor:_vm.$themeTokens.annotation},attrs:{"aria-hidden":"true",userType:user.kind,omitLearner:!0}})],1),_c("td",{staticClass:"visuallyhidden"},[_vm._v("\n          "+_vm._s(user.kind)+"\n        ")]),_c("td",[_c("span",{attrs:{dir:"auto"}},[_vm._v("\n            "+_vm._s(user.username)+"\n          ")])]),_vm.showDemographicInfo?[_c("td",{staticClass:"id-col"},[user.id_number?_c("span",[_vm._v("\n              "+_vm._s(user.id_number)+"\n            ")]):_c("KEmptyPlaceholder")],1),_c("td",[_c("GenderDisplayText",{attrs:{gender:user.gender}})],1),_c("td",[_c("BirthYearDisplayText",{attrs:{birthYear:user.birth_year}})],1)]:_vm._e(),_vm.$scopedSlots.info?_c("td",[_vm._t("info",null,{user:user})],2):_vm._e(),_vm.$scopedSlots.action?_c("td",{staticClass:"core-table-button-col"},[_vm._t("action",null,{user:user})],2):_vm._e()],2)})),0)]),_vm.users.length?_vm._e():_c("p",{staticClass:"empty-message"},[_vm._v("\n    "+_vm._s(_vm.emptyMessage)+"\n  ")])],1)}),[],!1,null,"e2b50ba4",null).exports),views_ClassEditPagevue_type_script_lang_js_={name:"ClassEditPage",metaInfo:function(){return{title:this.$tr("documentTitle")}},components:{UserTable:UserTable,ClassRenameModal:normalizeComponent({name:"ClassRenameModal",mixins:[external_kolibriCoreAppGlobal_coreVue_mixins_commonCoreStrings_default.a],props:{classname:{type:String,required:!0},classid:{type:String,required:!0},classes:{type:Array,required:!0}},data:function(){return{name:this.classname,nameBlurred:!1,formSubmitted:!1,submitting:!1}},computed:{duplicateName:function(){var this$1=this;return this.name.toUpperCase()!==this.classname.toUpperCase()&&-1!==this.classes.findIndex((function(classroom){return classroom.name.toUpperCase()===this$1.name.toUpperCase()}))},nameIsInvalidText:function(){if(this.nameBlurred||this.formSubmitted){if(""===this.name)return this.coreString("requiredFieldError");if(this.duplicateName)return this.$tr("duplicateName")}return""},nameIsInvalid:function(){return Boolean(this.nameIsInvalidText)},formIsValid:function(){return!this.nameIsInvalid}},methods:Object.assign({},Object(external_kolibriCoreAppGlobal_lib_vuex_.mapActions)("classEditManagement",["updateClass"]),{updateName:function(){this.formSubmitted=!0,this.formIsValid?(this.submitting=!0,this.updateClass({id:this.classid,updateData:{name:this.name}})):this.$refs.name.focus()}}),$trs:{modalTitle:"Rename class",duplicateName:"A class with that name already exists"}},(function(){var _vm=this,_h=_vm.$createElement,_c=_vm._self._c||_h;return _c("KModal",{attrs:{title:_vm.$tr("modalTitle"),size:"small",submitText:_vm.coreString("saveAction"),cancelText:_vm.coreString("cancelAction"),submitDisabled:_vm.submitting},on:{submit:_vm.updateName,cancel:function($event){return _vm.$emit("cancel")}}},[_c("KTextbox",{ref:"name",attrs:{type:"text",label:_vm.coreString("classNameLabel"),autofocus:!0,invalid:_vm.nameIsInvalid,invalidText:_vm.nameIsInvalidText,maxlength:50},on:{blur:function($event){_vm.nameBlurred=!0}},model:{value:_vm.name,callback:function($$v){_vm.name="string"==typeof $$v?$$v.trim():$$v},expression:"name"}})],1)}),[],!1,null,"ba3bb7ac",null).exports,UserRemoveConfirmationModal:normalizeComponent({name:"UserRemoveConfirmationModal",mixins:[external_kolibriCoreAppGlobal_coreVue_mixins_commonCoreStrings_default.a],props:{classname:{type:String,required:!0},username:{type:String,required:!0}},$trs:{modalTitle:"Remove user",confirmation:"Are you sure you want to remove '{ username }' from '{ classname }'?",description:"You can still access this account from the 'Users' tab."}},(function(){var _vm=this,_h=_vm.$createElement,_c=_vm._self._c||_h;return _c("KModal",{attrs:{title:_vm.$tr("modalTitle"),hasError:!1,submitText:_vm.coreString("removeAction"),cancelText:_vm.coreString("cancelAction")},on:{submit:function($event){return _vm.$emit("submit")},cancel:function($event){return _vm.$emit("cancel")}}},[_c("p",[_vm._v(_vm._s(_vm.$tr("confirmation",{username:_vm.username,classname:_vm.classname})))]),_c("p",[_vm._v(_vm._s(_vm.$tr("description")))])])}),[],!1,null,"4e9d986e",null).exports},mixins:[external_kolibriCoreAppGlobal_coreVue_mixins_commonCoreStrings_default.a],data:function(){return{userToBeRemoved:null,removalAction:null}},computed:Object.assign({},Object(external_kolibriCoreAppGlobal_lib_vuex_.mapState)("classEditManagement",["classCoaches","classLearners","classes","currentClass","modalShown"]),{Modals:function(){return constants.c}}),methods:Object.assign({},Object(external_kolibriCoreAppGlobal_lib_vuex_.mapActions)("classEditManagement",["displayModal"]),{closeModal:function(){this.displayModal(!1)},confirmRemoval:function(user,removalAction){this.userToBeRemoved=user,this.removalAction=removalAction,this.displayModal(constants.c.REMOVE_USER)},removeClassCoach:function(args){var this$1=this;this.$store.dispatch("classEditManagement/removeClassCoach",args).then((function(){this$1.showSnackbarNotification("coachesRemovedNoCount",{count:1})}))},removeClassLearner:function(args){var this$1=this;this.$store.dispatch("classEditManagement/removeClassLearner",args).then((function(){this$1.showSnackbarNotification("learnersRemovedNoCount",{count:1})}))}}),$trs:{enrollLearnerButtonLabel:"Enroll learners",assignCoachesButtonLabel:"Assign coaches",coachEnrollmentPageTitle:"Manage class coaches and learners",noCoachesInClassMessge:"You don't have any assigned coaches",noLearnersInClassMessage:"You don't have any enrolled learners",edit:"Edit class name",documentTitle:"Edit Class",renameButtonLabel:"Edit"}},ClassEditPage=(__webpack_require__(186),normalizeComponent(views_ClassEditPagevue_type_script_lang_js_,(function(){var _vm=this,_h=_vm.$createElement,_c=_vm._self._c||_h;return _c("KPageContainer",[_c("p",[_c("KRouterLink",{attrs:{text:_vm.coreString("allClassesLabel"),to:_vm.$store.getters.facilityPageLinks.ManageClassPage,icon:"back"}})],1),_c("div",[_c("h1",{staticClass:"title-header",attrs:{dir:"auto"}},[_c("KLabeledIcon",{attrs:{icon:"classes",label:_vm.currentClass.name}})],1),_c("KButton",{attrs:{text:_vm.$tr("renameButtonLabel"),appearance:"basic-link",primary:!0,ariaLabel:_vm.$tr("edit")},on:{click:function($event){return _vm.displayModal(_vm.Modals.EDIT_CLASS_NAME)}}})],1),_c("p",[_vm._v(_vm._s(_vm.$tr("coachEnrollmentPageTitle")))]),_vm.modalShown===_vm.Modals.EDIT_CLASS_NAME?_c("ClassRenameModal",{attrs:{classname:_vm.currentClass.name,classid:_vm.currentClass.id,classes:_vm.classes},on:{cancel:_vm.closeModal}}):_vm._e(),_vm.modalShown===_vm.Modals.REMOVE_USER?_c("UserRemoveConfirmationModal",{attrs:{classname:_vm.currentClass.name,username:_vm.userToBeRemoved.username},on:{submit:function($event){return _vm.removalAction({classId:_vm.currentClass.id,userId:_vm.userToBeRemoved.id})},cancel:_vm.closeModal}}):_vm._e(),_c("KGrid",[_c("KGridItem",{attrs:{layout8:{span:4},layout12:{span:6}}},[_c("h2",[_vm._v(_vm._s(_vm.coreString("coachesLabel")))])]),_c("KGridItem",{attrs:{layout:{alignment:"right"},layout8:{span:4},layout12:{span:6}}},[_c("KRouterLink",{attrs:{text:_vm.$tr("assignCoachesButtonLabel"),to:_vm.$store.getters.facilityPageLinks.CoachClassAssignmentPage,appearance:"raised-button"}})],1)],1),_c("UserTable",{attrs:{users:_vm.classCoaches,emptyMessage:_vm.$tr("noCoachesInClassMessge"),isCoach:""},scopedSlots:_vm._u([{key:"action",fn:function(userRow){return[_c("KButton",{attrs:{text:_vm.coreString("removeAction"),appearance:"flat-button"},on:{click:function($event){return _vm.confirmRemoval(userRow.user,_vm.removeClassCoach)}}})]}}])}),_c("KGrid",{staticClass:"top-margin"},[_c("KGridItem",{attrs:{layout8:{span:4},layout12:{span:6}}},[_c("h2",[_vm._v(_vm._s(_vm.coreString("learnersLabel")))])]),_c("KGridItem",{attrs:{layout:{alignment:"right"},layout8:{span:4},layout12:{span:6}}},[_c("KRouterLink",{attrs:{text:_vm.$tr("enrollLearnerButtonLabel"),to:_vm.$store.getters.facilityPageLinks.LearnerClassEnrollmentPage,primary:!0,appearance:"raised-button"}})],1)],1),_c("UserTable",{attrs:{users:_vm.classLearners,emptyMessage:_vm.$tr("noLearnersInClassMessage")},scopedSlots:_vm._u([{key:"action",fn:function(userRow){return[_c("KButton",{attrs:{text:_vm.coreString("removeAction"),appearance:"flat-button"},on:{click:function($event){return _vm.confirmRemoval(userRow.user,_vm.removeClassLearner)}}})]}}])})],1)}),[],!1,null,"7f9b330f",null).exports),differenceWith=__webpack_require__(132),differenceWith_default=__webpack_require__.n(differenceWith),external_kolibriCoreAppGlobal_coreVue_mixins_responsiveWindowMixin_=__webpack_require__(64),external_kolibriCoreAppGlobal_coreVue_mixins_responsiveWindowMixin_default=__webpack_require__.n(external_kolibriCoreAppGlobal_coreVue_mixins_responsiveWindowMixin_),external_kolibriCoreAppGlobal_coreVue_components_PaginatedListContainer_=__webpack_require__(65),external_kolibriCoreAppGlobal_coreVue_components_PaginatedListContainer_default=__webpack_require__.n(external_kolibriCoreAppGlobal_coreVue_components_PaginatedListContainer_),external_kolibriCoreAppGlobal_utils_i18n_=__webpack_require__(133);function userMatchesFilter(user,searchFilter){var searchTerms=searchFilter.split(/\s+/).map((function(val){return val.toLowerCase()})),fullName=user.full_name.toLowerCase(),username=user.username.toLowerCase();return searchTerms.every((function(term){return fullName.includes(term)||username.includes(term)}))}function filterAndSortUsers(users,pred,sortByKey){return void 0===pred&&(pred=function(){return!0}),void 0===sortByKey&&(sortByKey="full_name"),users.filter(pred).sort((function(a,b){return Object(external_kolibriCoreAppGlobal_utils_i18n_.localeCompare)(a[sortByKey],b[sortByKey])}))}var ClassEnrollFormvue_type_script_lang_js_={name:"ClassEnrollForm",components:{PaginatedListContainer:external_kolibriCoreAppGlobal_coreVue_components_PaginatedListContainer_default.a,UserTable:UserTable},mixins:[external_kolibriCoreAppGlobal_coreVue_mixins_commonCoreStrings_default.a,external_kolibriCoreAppGlobal_coreVue_mixins_responsiveWindowMixin_default.a],props:{facilityUsers:{type:Array,required:!0},classUsers:{type:Array,required:!0}},data:function(){return{selectedUsers:[]}},computed:{usersNotInClass:function(){return differenceWith_default()(this.facilityUsers,this.classUsers,(function(a,b){return a.id===b.id}))}},methods:{filterUsers:function(users,filterText){return filterAndSortUsers(users,(function(user){return userMatchesFilter(user,filterText)}))},emptyMessageForItems:function(items,filterInput){return 0===this.facilityUsers.length?this.coreString("noUsersExistLabel"):0===this.usersNotInClass.length?this.$tr("allUsersAlready"):0===items.length&&""!==filterInput?this.$tr("noUsersMatch",{filterText:filterInput}):""}},$trs:{searchForUser:"Search for a user",noUsersMatch:'No users match the filter: "{filterText}"',allUsersAlready:"All users are already enrolled in this class"}},views_ClassEnrollFormvue_type_script_lang_js_=ClassEnrollFormvue_type_script_lang_js_,ClassEnrollForm_component=(__webpack_require__(188),normalizeComponent(views_ClassEnrollFormvue_type_script_lang_js_,(function(){var _vm=this,_h=_vm.$createElement,_c=_vm._self._c||_h;return _c("form",{on:{submit:function($event){return $event.preventDefault(),_vm.$emit("submit",_vm.selectedUsers)}}},[_c("PaginatedListContainer",{attrs:{items:_vm.usersNotInClass,filterFunction:_vm.filterUsers,filterPlaceholder:_vm.$tr("searchForUser")},scopedSlots:_vm._u([{key:"default",fn:function(ref){var items=ref.items,filterInput=ref.filterInput;return[_c("UserTable",{attrs:{users:items,selectable:!0,emptyMessage:_vm.emptyMessageForItems(items,filterInput)},model:{value:_vm.selectedUsers,callback:function($$v){_vm.selectedUsers=$$v},expression:"selectedUsers"}})]}}])}),_c("div",{staticClass:"footer"},[_c("KButton",{attrs:{text:_vm.coreString("confirmAction"),primary:!0,type:"submit",disabled:0===_vm.selectedUsers.length}})],1)],1)}),[],!1,null,"3ca57064",null)),ClassEnrollForm=ClassEnrollForm_component.exports,CoachClassAssignmentPagevue_type_script_lang_js_={name:"CoachClassAssignmentPage",metaInfo:function(){return{title:this.$tr("pageHeader",{className:this.className})}},components:{ClassEnrollForm:ClassEnrollForm},mixins:[external_kolibriCoreAppGlobal_coreVue_mixins_commonCoreStrings_default.a],computed:Object.assign({},Object(external_kolibriCoreAppGlobal_lib_vuex_.mapState)("classAssignMembers",["class","classUsers","facilityUsers"]),{className:function(){return this.class.name}}),methods:Object.assign({},Object(external_kolibriCoreAppGlobal_lib_vuex_.mapActions)("classAssignMembers",["assignCoachesToClass"]),{assignCoaches:function(coaches){var this$1=this;this.assignCoachesToClass({classId:this.class.id,coaches:coaches}).then((function(){this$1.$router.push(this$1.$store.getters.facilityPageLinks.ClassEditPage).then((function(){this$1.showSnackbarNotification("coachesAssignedNoCount",{count:coaches.length})}))}))}}),$trs:{pageHeader:"Assign a coach to '{className}'",pageSubheader:"Showing coaches that are not assigned to this class"}},views_CoachClassAssignmentPagevue_type_script_lang_js_=CoachClassAssignmentPagevue_type_script_lang_js_,CoachClassAssignmentPage_component=normalizeComponent(views_CoachClassAssignmentPagevue_type_script_lang_js_,(function(){var _vm=this,_h=_vm.$createElement,_c=_vm._self._c||_h;return _c("KPageContainer",[_c("h1",[_vm._v(_vm._s(_vm.$tr("pageHeader",{className:_vm.className})))]),_c("p",[_vm._v(_vm._s(_vm.$tr("pageSubheader")))]),_c("ClassEnrollForm",{attrs:{facilityUsers:_vm.facilityUsers,classUsers:_vm.classUsers},on:{submit:_vm.assignCoaches}})],1)}),[],!1,null,"3689fcc0",null),CoachClassAssignmentPage=CoachClassAssignmentPage_component.exports,LearnerClassEnrollmentPagevue_type_script_lang_js_={name:"LearnerClassEnrollmentPage",metaInfo:function(){return{title:this.$tr("pageHeader",{className:this.className})}},components:{ClassEnrollForm:ClassEnrollForm},mixins:[external_kolibriCoreAppGlobal_coreVue_mixins_commonCoreStrings_default.a],computed:Object.assign({},Object(external_kolibriCoreAppGlobal_lib_vuex_.mapState)("classAssignMembers",["class","facilityUsers","classUsers"]),{className:function(){return this.class.name}}),methods:Object.assign({},Object(external_kolibriCoreAppGlobal_lib_vuex_.mapActions)("classAssignMembers",["enrollLearnersInClass"]),{enrollLearners:function(selectedUsers){var this$1=this;this.enrollLearnersInClass({classId:this.class.id,users:selectedUsers}).then((function(){this$1.$router.push(this$1.$store.getters.facilityPageLinks.ClassEditPage).then((function(){this$1.showSnackbarNotification("learnersEnrolledNoCount",{count:selectedUsers.length})}))}))}}),$trs:{pageHeader:"Enroll learners into '{className}'",pageSubheader:"Only showing learners that are not enrolled in this class"}},views_LearnerClassEnrollmentPagevue_type_script_lang_js_=LearnerClassEnrollmentPagevue_type_script_lang_js_,LearnerClassEnrollmentPage_component=normalizeComponent(views_LearnerClassEnrollmentPagevue_type_script_lang_js_,(function(){var _vm=this,_h=_vm.$createElement,_c=_vm._self._c||_h;return _c("KPageContainer",[_c("h1",[_vm._v(_vm._s(_vm.$tr("pageHeader",{className:_vm.className})))]),_c("p",[_vm._v(_vm._s(_vm.$tr("pageSubheader")))]),_c("ClassEnrollForm",{attrs:{facilityUsers:_vm.facilityUsers,classUsers:_vm.classUsers},on:{submit:_vm.enrollLearners}})],1)}),[],!1,null,"b6ef3fd2",null),LearnerClassEnrollmentPage=LearnerClassEnrollmentPage_component.exports,external_kolibriCoreAppGlobal_utils_browserInfo_=__webpack_require__(134),external_kolibriCoreAppGlobal_urls_=__webpack_require__(8),external_kolibriCoreAppGlobal_urls_default=__webpack_require__.n(external_kolibriCoreAppGlobal_urls_),external_kolibriCoreAppGlobal_resources_=__webpack_require__(1),external_kolibriCoreAppGlobal_utils_serverClock_=__webpack_require__(94),GeneratedElapsedTime=normalizeComponent({name:"GeneratedElapsedTime",props:{date:{type:Date,required:!0}},data:function(){return{now:Object(external_kolibriCoreAppGlobal_utils_serverClock_.now)(),timer:null}},computed:{formatedTime:function(){return this.now-this.date<1e4?this.$tr("generatedMomentsAgo"):this.$tr("generatedInPast",{relativeTimeAgo:this.$formatRelative(this.date,{now:this.now})})}},mounted:function(){var this$1=this;this.timer=setInterval((function(){this$1.now=Object(external_kolibriCoreAppGlobal_utils_serverClock_.now)()}),6e4)},beforeDestroy:function(){clearInterval(this.timer)},$trs:{generatedMomentsAgo:"Generated moments ago.",generatedInPast:"Generated {relativeTimeAgo}."}},(function(){var _h=this.$createElement;return(this._self._c||_h)("span",[this._v(" "+this._s(this.formatedTime)+" ")])}),[],!1,null,"54a195ca",null).exports,DataPage_DataPageTaskProgressvue_type_script_lang_js_={name:"DataPageTaskProgress"},DataPageTaskProgress=(__webpack_require__(189),normalizeComponent(DataPage_DataPageTaskProgressvue_type_script_lang_js_,(function(){var _h=this.$createElement,_c=this._self._c||_h;return _c("div",{staticClass:"progress-wrapper"},[_c("KCircularLoader",{staticClass:"loader",attrs:{size:24}}),_c("span",{staticClass:"message"},[this._t("default")],2)],1)}),[],!1,null,"663a35f2",null).exports),external_kolibriCoreAppGlobal_coreVue_componentSets_sync_=__webpack_require__(32),external_kolibriCoreAppGlobal_coreVue_mixins_commonSyncElements_=__webpack_require__(135),external_kolibriCoreAppGlobal_coreVue_mixins_commonSyncElements_default=__webpack_require__.n(external_kolibriCoreAppGlobal_coreVue_mixins_commonSyncElements_),SyncInterface_PrivacyModalvue_type_script_lang_js_={name:"PrivacyModal",components:{},methods:{closeModal:function(){this.$emit("cancel")}},$trs:{syncToKDP:"Kolibri Data Portal",privacyText:"By syncing this facility with the Kolibri Data Portal, you are granting access to your data to organization admins on Kolibri Data Portal. It will be uploaded to cloud servers operated by Learning Equality, who will also have access to this data.",close:"Close"}},PrivacyModal=(__webpack_require__(190),normalizeComponent(SyncInterface_PrivacyModalvue_type_script_lang_js_,(function(){var _h=this.$createElement;return(this._self._c||_h)("KModal",{attrs:{title:this.$tr("syncToKDP"),submitText:this.$tr("close"),size:"medium"},on:{cancel:this.closeModal,submit:this.closeModal}},[this._v("\n  "+this._s(this.$tr("privacyText"))+"\n\n")])}),[],!1,null,"3a712a48",null).exports),Modals=Object.freeze({SYNC_FACILITY:"SYNC_FACILITY",CONFIRMATION_REGISTER:"CONFIRMATION_REGISTER",REGISTER_FACILITY:"REGISTER_FACILITY",PRIVACY:"PRIVACY"}),DataPage_SyncInterfacevue_type_script_lang_js_={name:"SyncInterface",components:{CoreTable:external_kolibriCoreAppGlobal_coreVue_components_CoreTable_default.a,PrivacyModal:PrivacyModal,FacilityNameAndSyncStatus:external_kolibriCoreAppGlobal_coreVue_componentSets_sync_.FacilityNameAndSyncStatus,RegisterFacilityModal:external_kolibriCoreAppGlobal_coreVue_componentSets_sync_.RegisterFacilityModal,ConfirmationRegisterModal:external_kolibriCoreAppGlobal_coreVue_componentSets_sync_.ConfirmationRegisterModal,SyncFacilityModalGroup:external_kolibriCoreAppGlobal_coreVue_componentSets_sync_.SyncFacilityModalGroup},mixins:[external_kolibriCoreAppGlobal_coreVue_mixins_commonSyncElements_default.a],data:function(){return{theFacility:null,kdpProject:null,modalShown:null,syncTaskId:"",isSyncing:!1,syncHasFailed:!1,Modals:Modals}},beforeMount:function(){this.fetchFacility()},beforeDestroy:function(){this.syncTaskId=""},methods:{fetchFacility:function(){var this$1=this;external_kolibriCoreAppGlobal_resources_.FacilityResource.fetchModel({id:this.$store.getters.activeFacilityId,force:!0}).then((function(facility){this$1.theFacility=Object.assign({},facility)}))},closeModal:function(){this.modalShown=null},displayModal:function(modal){this.modalShown=modal},pollSyncTask:function(){var this$1=this;external_kolibriCoreAppGlobal_resources_.FacilityTaskResource.fetchModel({id:this.syncTaskId,force:!0}).then((function(task){Object(constants.j)(task)?(this$1.isSyncing=!1,this$1.syncTaskId="",external_kolibriCoreAppGlobal_resources_.FacilityTaskResource.deleteFinishedTask(this$1.syncTaskId),task.status===constants.e.FAILED?this$1.syncHasFailed=!0:task.status===constants.e.COMPLETED&&this$1.fetchFacility()):this$1.syncTaskId&&setTimeout((function(){this$1.pollSyncTask()}),2e3)}))},handleValidateSuccess:function(ref){var name=ref.name,token=ref.token;this.kdpProject={name:name,token:token},this.displayModal(Modals.CONFIRMATION_REGISTER)},handleConfirmationSuccess:function(payload){this.$store.commit("manageCSV/SET_REGISTERED",payload),this.closeModal()},handleSyncFacilitySuccess:function(taskId){this.isSyncing=!0,this.syncTaskId=taskId,this.pollSyncTask(),this.closeModal()},handleSyncFacilityFailure:function(){this.syncHasFailed=!0,this.closeModal()}},$trs:{syncData:"Sync facility data",learnMore:"Usage and privacy",facility:"Facility",register:"Register",sync:"Sync"}},SyncInterface=(__webpack_require__(191),normalizeComponent(DataPage_SyncInterfacevue_type_script_lang_js_,(function(){var _vm=this,_h=_vm.$createElement,_c=_vm._self._c||_h;return _c("KPageContainer",[_c("h1",[_vm._v(_vm._s(_vm.$tr("syncData")))]),_c("p",[_c("KButton",{attrs:{appearance:"basic-link",text:_vm.$tr("learnMore")},on:{click:function($event){return _vm.displayModal(_vm.Modals.PRIVACY)}}})],1),_c("CoreTable",[_c("thead",{attrs:{slot:"thead"},slot:"thead"},[_c("tr",[_c("th",[_vm._v(_vm._s(_vm.$tr("facility")))])])]),_c("tbody",{attrs:{slot:"tbody"},slot:"tbody"},[_vm.theFacility?_c("tr",[_c("td",[_c("FacilityNameAndSyncStatus",{attrs:{facility:_vm.theFacility,isSyncing:_vm.isSyncing,syncHasFailed:_vm.syncHasFailed}})],1),_c("td",{staticClass:"button-col"},[_c("KButtonGroup",{staticStyle:{"margin-top":"8px",overflow:"visible"}},[_c("KButton",{attrs:{appearance:"raised-button",text:_vm.$tr("register"),disabled:Boolean(_vm.syncTaskId)||_vm.theFacility.dataset.registered},on:{click:function($event){return _vm.displayModal(_vm.Modals.REGISTER_FACILITY)}}}),_c("KButton",{attrs:{appearance:"raised-button",text:_vm.$tr("sync"),disabled:Boolean(_vm.syncTaskId)},on:{click:function($event){return _vm.displayModal(_vm.Modals.SYNC_FACILITY)}}})],1)],1)]):_vm._e()])]),_vm.modalShown===_vm.Modals.PRIVACY?_c("PrivacyModal",{on:{cancel:_vm.closeModal}}):_vm._e(),_vm.modalShown===_vm.Modals.REGISTER_FACILITY?_c("RegisterFacilityModal",{on:{success:_vm.handleValidateSuccess,cancel:_vm.closeModal}}):_vm._e(),_vm.modalShown===_vm.Modals.CONFIRMATION_REGISTER?_c("ConfirmationRegisterModal",{attrs:{targetFacility:_vm.theFacility,projectName:_vm.kdpProject.name,token:_vm.kdpProject.token},on:{success:_vm.handleConfirmationSuccess,cancel:_vm.closeModal}}):_vm._e(),_vm.modalShown===_vm.Modals.SYNC_FACILITY?_c("SyncFacilityModalGroup",{attrs:{facilityForSync:_vm.theFacility},on:{close:_vm.closeModal,success:_vm.handleSyncFacilitySuccess,failure:_vm.handleSyncFacilityFailure}}):_vm._e()],1)}),[],!1,null,"57cdb474",null).exports),views_CsvInfoModalvue_type_script_lang_js_={name:"CsvInfoModal",computed:{label:function(){return{color:this.$themeTokens.annotation}}},methods:{closeModal:function(){this.$emit("cancel")}},$trs:{csvDetails:"CSV details",sectionDescription:"A CSV spreadsheet should use the first row as a header, and contain the following columns:",close:"Close",required:"Required",optional:"Optional",uuidInfo:"An ID used by Kolibri to uniquely identify a user. Leave it blank to create a new user",usernameInfo:"Maximum 125 characters. Can contain letters, numbers and underscores",passwordInfo:"Maximum 125 characters. To leave unchanged, use an asterisk:",fullNameInfo:"Maximum 125 characters",possibleValues:"Possible values:",identifierInfo:"Any identifying string, such as a student ID or email address. Maximum 64 characters",yearInfo:"A four-digit year, greater than 1900",listClassesEnrolled:"Classes to enroll the user in as a learner:",listClassesEnrolledL1:"Can be any type of user",listClassesEnrolledL2:{message:"Write the class names separated by commas",context:"Refers to values in a column of the CSV (comma separated values) file used to import users. When a user is assigned to coach multiple classes, the class names in this field must be separated by commas."},listClassesEnrolledL3:{message:"If an existing class does not match by name, a new class with that name will be created",context:"Refers to values in a column of the CSV (comma separated values) file used to import users. When a CSV file contains a class name that is not present in the database, import command will create it."},listClassesAssigned:{message:"Classes to which the user will be assigned as a coach:",context:"Description of a column in the CSV (comma separated values) file used to import and export users. Values in this column indicate classes where a coach user will be assigned to."},listClassesAssignedL1:{message:"Do not use for learner users",context:"Refers to values in a column of the CSV (comma separated values) file used to import and export users."},listClassesAssignedL2:"List of class names, separated by commas",listClassesAssignedL3:"If an existing class does not match by name, it will be created",columnNameHeader:"Column",columnIDHeader:"Identifier",columnInfoHeader:"Information",uuid:"Database ID",username:"Username",password:"Password",fullName:"Full name",userType:"User type",identifier:"Identifier",birthYear:"Birth year",gender:"Gender",enrolled:"Learner enrollment",assigned:"Coach assignment",downloadSample:"Download a sample CSV file",exampleUser:{message:"Example User {number}",context:'When downloading a sample CSV file, this string is used to generate some class names. These might be strings like "Example Name 1234", "Example Name 5678"'},exampleUsername:{message:"user-{number}",context:'When downloading a sample CSV file, this string is used to generate usernames. These must be valid Kolibri usernames (only letters, no spaces), for example "user-1234"'},exampleClass:{message:"Example Class - {letter}",context:'When downloading a sample CSV file, this string is used to generate some class names. These might be strings like "Example Class - A",  "Example Class - B",  and "Example Class - C"'}}},CsvInfoModal=(__webpack_require__(192),normalizeComponent(views_CsvInfoModalvue_type_script_lang_js_,(function(){var _vm=this,_h=_vm.$createElement,_c=_vm._self._c||_h;return _c("KModal",{attrs:{title:_vm.$tr("csvDetails"),submitText:_vm.$tr("close"),size:"large"},on:{cancel:_vm.closeModal,submit:_vm.closeModal}},[_c("p",[_vm._v(_vm._s(_vm.$tr("sectionDescription")))]),_c("table",[_c("thead",[_c("tr",[_c("th",[_vm._v(_vm._s(_vm.$tr("columnNameHeader")))]),_c("th",[_vm._v(_vm._s(_vm.$tr("columnIDHeader")))]),_c("th",[_vm._v(_vm._s(_vm.$tr("columnInfoHeader")))])])]),_c("tbody",[_c("tr",[_c("td",[_vm._v("\n          "+_vm._s(_vm.$tr("uuid"))),_c("br"),_c("span",{staticClass:"label",style:_vm.label},[_vm._v(_vm._s(_vm.$tr("optional")))])]),_c("td",[_c("code",[_vm._v("UUID")])]),_c("td",[_vm._v(_vm._s(_vm.$tr("uuidInfo")))])]),_c("tr",[_c("td",[_vm._v("\n          "+_vm._s(_vm.$tr("username"))),_c("br"),_c("span",{staticClass:"label",style:_vm.label},[_vm._v(_vm._s(_vm.$tr("required")))])]),_c("td",[_c("code",[_vm._v("USERNAME")])]),_c("td",[_vm._v(_vm._s(_vm.$tr("usernameInfo")))])]),_c("tr",[_c("td",[_vm._v("\n          "+_vm._s(_vm.$tr("password"))),_c("br"),_c("span",{staticClass:"label",style:_vm.label},[_vm._v(_vm._s(_vm.$tr("required")))])]),_c("td",[_c("code",[_vm._v("PASSWORD")])]),_c("td",[_vm._v(_vm._s(_vm.$tr("passwordInfo"))+" "),_c("code",[_vm._v("*")])])]),_c("tr",[_c("td",[_vm._v("\n          "+_vm._s(_vm.$tr("fullName"))),_c("br"),_c("span",{staticClass:"label",style:_vm.label},[_vm._v(_vm._s(_vm.$tr("required")))])]),_c("td",[_c("code",[_vm._v("FULL_NAME")])]),_c("td",[_vm._v(_vm._s(_vm.$tr("fullNameInfo")))])]),_c("tr",[_c("td",[_vm._v("\n          "+_vm._s(_vm.$tr("userType"))),_c("br"),_c("span",{staticClass:"label",style:_vm.label},[_vm._v(_vm._s(_vm.$tr("required")))])]),_c("td",[_c("code",[_vm._v("USER_TYPE")])]),_c("td",[_c("div",[_vm._v(_vm._s(_vm.$tr("possibleValues")))]),_c("ul",[_c("li",[_c("code",[_vm._v("ADMIN")])]),_c("li",[_c("code",[_vm._v("FACILITY_COACH")])]),_c("li",[_c("code",[_vm._v("CLASS_COACH")])]),_c("li",[_c("code",[_vm._v("LEARNER")])])])])]),_c("tr",[_c("td",[_vm._v("\n          "+_vm._s(_vm.$tr("identifier"))),_c("br"),_c("span",{staticClass:"label",style:_vm.label},[_vm._v(_vm._s(_vm.$tr("optional")))])]),_c("td",[_c("code",[_vm._v("IDENTIFIER")])]),_c("td",[_vm._v(_vm._s(_vm.$tr("identifierInfo")))])]),_c("tr",[_c("td",[_vm._v("\n          "+_vm._s(_vm.$tr("birthYear"))),_c("br"),_c("span",{staticClass:"label",style:_vm.label},[_vm._v(_vm._s(_vm.$tr("optional")))])]),_c("td",[_c("code",[_vm._v("BIRTH_YEAR")])]),_c("td",[_vm._v(_vm._s(_vm.$tr("yearInfo")))])]),_c("tr",[_c("td",[_vm._v("\n          "+_vm._s(_vm.$tr("gender"))),_c("br"),_c("span",{staticClass:"label",style:_vm.label},[_vm._v(_vm._s(_vm.$tr("optional")))])]),_c("td",[_c("code",[_vm._v("GENDER")])]),_c("td",[_c("div",[_vm._v(_vm._s(_vm.$tr("possibleValues")))]),_c("ul",[_c("li",[_c("code",[_vm._v("MALE")])]),_c("li",[_c("code",[_vm._v("FEMALE")])]),_c("li",[_c("code",[_vm._v("NOT_SPECIFIED")])])])])]),_c("tr",[_c("td",[_vm._v("\n          "+_vm._s(_vm.$tr("enrolled"))),_c("br"),_c("span",{staticClass:"label",style:_vm.label},[_vm._v(_vm._s(_vm.$tr("optional")))])]),_c("td",[_c("code",[_vm._v("ENROLLED_IN")])]),_c("td",[_c("div",[_vm._v(_vm._s(_vm.$tr("listClassesEnrolled")))]),_c("ul",[_c("li",[_vm._v(_vm._s(_vm.$tr("listClassesEnrolledL1")))]),_c("li",[_vm._v(_vm._s(_vm.$tr("listClassesEnrolledL2")))]),_c("li",[_vm._v(_vm._s(_vm.$tr("listClassesEnrolledL3")))])])])]),_c("tr",[_c("td",[_vm._v("\n          "+_vm._s(_vm.$tr("assigned"))),_c("br"),_c("span",{staticClass:"label",style:_vm.label},[_vm._v(_vm._s(_vm.$tr("optional")))])]),_c("td",[_c("code",[_vm._v("ASSIGNED_TO")])]),_c("td",[_c("div",[_vm._v(_vm._s(_vm.$tr("listClassesAssigned")))]),_c("ul",[_c("li",[_vm._v(_vm._s(_vm.$tr("listClassesAssignedL1")))]),_c("li",[_vm._v(_vm._s(_vm.$tr("listClassesAssignedL2")))]),_c("li",[_vm._v(_vm._s(_vm.$tr("listClassesAssignedL3")))])])])])])])])}),[],!1,null,"66aaee53",null).exports),views_DataPagevue_type_script_lang_js_={name:"DataPage",metaInfo:function(){return{title:this.$tr("documentTitle")}},components:{GeneratedElapsedTime:GeneratedElapsedTime,DataPageTaskProgress:DataPageTaskProgress,SyncInterface:SyncInterface,ImportInterface:normalizeComponent({name:"ImportInterface",components:{DataPageTaskProgress:DataPageTaskProgress,CsvInfoModal:CsvInfoModal},data:function(){return{showInfoModal:!1}},computed:Object.assign({},Object(external_kolibriCoreAppGlobal_lib_vuex_.mapState)("manageCSV",["exportUsersStatus","exportUsersFilename"]),{isExporting:function(){return this.exportUsersStatus===constants.g.EXPORTING}}),watch:{exportUsersStatus:function(val){val==constants.g.FINISHED&&window.open(external_kolibriCoreAppGlobal_urls_default.a["kolibri:kolibri.plugins.facility:download_csv_file"](this.exportUsersFilename,this.$store.getters.activeFacilityId),"_blank")}},methods:Object.assign({},Object(external_kolibriCoreAppGlobal_lib_vuex_.mapActions)("manageCSV",["startExportUsers"]),{exportCsv:function(){this.startExportUsers()}}),$trs:{sectionTitle:"Import and export users",sectionDescription:"You can manage, import and export many users and classes at once:",exportCSV:"Export a CSV file which contains all users, and the classes that they are associated with",editCSV:"Edit user info using an external spreadsheet program",importCSV:"Import a CSV file to create and update users",export:"Export",import:"Import",generatingCSV:"Generating CSV...",viewFormat:"View spreadsheet format reference"}},(function(){var _vm=this,_h=_vm.$createElement,_c=_vm._self._c||_h;return _c("KPageContainer",[_c("h1",[_vm._v(" "+_vm._s(_vm.$tr("sectionTitle")))]),_c("p",[_vm._v("\n    "+_vm._s(_vm.$tr("sectionDescription"))+"\n  ")]),_c("ul",[_c("li",[_vm._v(_vm._s(_vm.$tr("exportCSV")))]),_c("li",[_vm._v(_vm._s(_vm.$tr("editCSV")))]),_c("li",[_vm._v(_vm._s(_vm.$tr("importCSV")))])]),_c("p",[_c("KButton",{attrs:{appearance:"basic-link",text:_vm.$tr("viewFormat")},on:{click:function($event){_vm.showInfoModal=!0}}})],1),_c("p",{staticStyle:{"margin-top":"24px"}},[_c("KRouterLink",{staticStyle:{margin:"0 16px 0 0"},attrs:{text:_vm.$tr("import"),appearance:"raised-button",to:_vm.$store.getters.facilityPageLinks.ImportCsvPage}}),_c("KButton",{staticStyle:{margin:"0 16px 0 0"},attrs:{text:_vm.$tr("export"),appearance:"raised-button",disabled:_vm.isExporting},on:{click:_vm.exportCsv}}),_vm.isExporting?_c("DataPageTaskProgress",[_vm._v("\n      "+_vm._s(_vm.$tr("generatingCSV"))+"\n    ")]):_vm._e()],1),_vm.showInfoModal?_c("CsvInfoModal",{on:{cancel:function($event){_vm.showInfoModal=!1}}}):_vm._e()],1)}),[],!1,null,"7fd8db4e",null).exports},computed:Object.assign({},Object(external_kolibriCoreAppGlobal_lib_vuex_.mapGetters)("manageCSV",["inSessionCSVCreation","inSummaryCSVCreation","noSessionLogs","noSummaryLogs","availableSessionCSVLog","availableSummaryCSVLog"]),Object(external_kolibriCoreAppGlobal_lib_vuex_.mapGetters)(["activeFacilityId"]),Object(external_kolibriCoreAppGlobal_lib_vuex_.mapState)("manageCSV",["sessionDateCreated","summaryDateCreated"]),{canUploadDownloadFiles:function(){return!external_kolibriCoreAppGlobal_utils_browserInfo_.isEmbeddedWebView},pollForTasks:function(){return this.$route.name===constants.d.DATA_EXPORT_PAGE},noDlStyle:function(){return{color:this.$themeTokens.annotation}}}),watch:{pollForTasks:function(val){return val?this.startTaskPolling():this.stopTaskPolling()}},mounted:function(){var this$1=this;external_kolibriCoreAppGlobal_resources_.FacilityResource.fetchCollection({force:!0}).then((function(facilities){this$1.$store.commit("manageCSV/RESET_STATE"),this$1.$store.commit("manageCSV/SET_STATE",{facilities:facilities}),this$1.pollForTasks&&(this$1.refreshTaskList(),this$1.startTaskPolling())}))},destroyed:function(){this.stopTaskPolling()},methods:Object.assign({},Object(external_kolibriCoreAppGlobal_lib_vuex_.mapActions)("manageCSV",["startSummaryCSVExport","startSessionCSVExport","refreshTaskList","getExportedLogsInfo"]),{generateSessionLog:function(){this.startSessionCSVExport()},generateSummaryLog:function(){this.startSummaryCSVExport()},startTaskPolling:function(){this.getExportedLogsInfo(),this.intervalId||(this.intervalId=setInterval(this.refreshTaskList,1e3))},stopTaskPolling:function(){this.intervalId&&(this.intervalId=clearInterval(this.intervalId))},downloadSessionLog:function(){window.open(external_kolibriCoreAppGlobal_urls_default.a["kolibri:core:download_csv_file"]("session",this.activeFacilityId),"_blank")},downloadSummaryLog:function(){window.open(external_kolibriCoreAppGlobal_urls_default.a["kolibri:core:download_csv_file"]("summary",this.activeFacilityId),"_blank")}}),$trs:{pageHeading:"Export usage data",pageSubHeading:"Download CSV (comma-separated value) files containing information about users and their interactions with the resources on this device",detailsHeading:"Session logs",detailsSubHeading:"Individual visits to each resource",summaryHeading:"Summary logs",summarySubHeading:"Total time/progress for each resource",detailsInfo:"When a user views a resource, we record how long they spend and the progress they make. Each row in this file records a single visit a user made to a specific resource. This includes anonymous usage, when no user is signed in.",summaryInfo:"A user may visit the same resource multiple times. This file records the total time and progress each user has achieved for each resource, summarized across possibly more than one visit. Anonymous usage is not included.",generateLog:"Generate log file",regenerateLog:"Generate a new log file",noLogsYet:"No logs are available to download.",download:"Download",note:"Note:",noDownload:"Download is not supported on Android",documentTitle:"Manage Data",generatingLog:"Generating log file..."}},DataPage=(__webpack_require__(193),normalizeComponent(views_DataPagevue_type_script_lang_js_,(function(){var _vm=this,_h=_vm.$createElement,_c=_vm._self._c||_h;return _c("div",[_vm.canUploadDownloadFiles?_c("KPageContainer",[_c("KGrid",{attrs:{gutter:"48"}},[_c("KGridItem",[_c("h1",[_vm._v(_vm._s(_vm.$tr("pageHeading")))])]),_c("KGridItem",[_c("p",[_vm._v(_vm._s(_vm.$tr("pageSubHeading")))])]),_c("KGridItem",{attrs:{layout8:{span:4},layout12:{span:6}}},[_c("h2",[_vm._v(_vm._s(_vm.$tr("detailsHeading")))]),_c("p",[_vm._v(_vm._s(_vm.$tr("detailsSubHeading")))]),_c("p",[_c("KButton",{staticStyle:{"margin-right":"8px"},attrs:{text:_vm.$tr("download"),disabled:!_vm.availableSessionCSVLog},on:{click:_vm.downloadSessionLog}}),_vm.noSessionLogs?_c("span",[_vm._v(_vm._s(_vm.$tr("noLogsYet")))]):_vm.sessionDateCreated?_c("GeneratedElapsedTime",{attrs:{date:_vm.sessionDateCreated}}):_vm._e()],1),_vm.canUploadDownloadFiles?_vm.inSessionCSVCreation?_c("p",[_c("DataPageTaskProgress",[_vm._v(_vm._s(_vm.$tr("generatingLog")))])],1):_c("p",[_c("KButton",{attrs:{appearance:"basic-link",text:_vm.noSessionLogs?_vm.$tr("generateLog"):_vm.$tr("regenerateLog")},on:{click:_vm.generateSessionLog}})],1):_c("p",{style:_vm.noDlStyle},[_vm._v("\n          "+_vm._s(_vm.$tr("noDownload"))+"\n        ")]),_c("p",{staticClass:"infobox"},[_c("b",[_vm._v(_vm._s(_vm.$tr("note")))]),_vm._v(" "+_vm._s(_vm.$tr("detailsInfo"))+"\n        ")])]),_c("KGridItem",{attrs:{layout8:{span:4},layout12:{span:6}}},[_c("h2",[_vm._v(_vm._s(_vm.$tr("summaryHeading")))]),_c("p",[_vm._v(_vm._s(_vm.$tr("summarySubHeading")))]),_c("p",[_c("KButton",{staticStyle:{"margin-right":"8px"},attrs:{text:_vm.$tr("download"),disabled:!_vm.availableSummaryCSVLog},on:{click:_vm.downloadSummaryLog}}),_vm.noSummaryLogs?_c("span",[_vm._v(_vm._s(_vm.$tr("noLogsYet")))]):_vm.summaryDateCreated?_c("GeneratedElapsedTime",{attrs:{date:_vm.summaryDateCreated}}):_vm._e()],1),_vm.canUploadDownloadFiles?_vm.inSummaryCSVCreation?_c("p",[_c("DataPageTaskProgress",[_vm._v(_vm._s(_vm.$tr("generatingLog")))])],1):_c("p",[_c("KButton",{attrs:{appearance:"basic-link",text:_vm.noSummaryLogs?_vm.$tr("generateLog"):_vm.$tr("regenerateLog")},on:{click:_vm.generateSummaryLog}})],1):_c("p",{style:_vm.noDlStyle},[_vm._v("\n          "+_vm._s(_vm.$tr("noDownload"))+"\n        ")]),_c("p",{staticClass:"infobox"},[_c("b",[_vm._v(_vm._s(_vm.$tr("note")))]),_vm._v(" "+_vm._s(_vm.$tr("summaryInfo"))+"\n        ")])])],1)],1):_vm._e(),_vm.canUploadDownloadFiles?_c("ImportInterface"):_vm._e(),_c("SyncInterface")],1)}),[],!1,null,"6ba3700e",null).exports),ImportCsvPage_Initvue_type_script_lang_js_={name:"Init",components:{CsvInfoModal:CsvInfoModal},mixins:[external_kolibriCoreAppGlobal_coreVue_mixins_commonCoreStrings_default.a],data:function(){return{showInfoModal:!1,fileToImport:null,deleteUsers:!1}},methods:{filesChanged:function(){this.$refs.fileInput&&this.$refs.fileInput.files.length?this.fileToImport=this.$refs.fileInput.files[0]:this.fileToImport=null},toggleDelete:function(){this.deleteUsers=!this.deleteUsers}},$trs:{introduction:"When importing from a spreadsheet you can create, update, and optionally delete dozens or hundreds of facility users at a time by loading new information from comma-separated-value (CSV) files.",caution:"CAUTION: importing from CSV will make many changes to your users and classes, and these changes cannot be easily reverted.",viewFormat:"View spreadsheet format reference",importingWill:"Importing from CSV will:",importL1:"create new users",importL2:"update existing users (for users with matching usernames)",importL3:"set which classes each learner is enrolled in",importL4:"set which classes each coach is assigned to",importL5:"create new classes (for any referenced class names that do not yet exist)",optionally:"Optionally, you can also delete users and classes that are not referenced in the spreadsheet.",proceed:"To proceed, select a CSV file:",beforeCommitting:"Before committing the import you will be shown a summary of changes that will be made.",labelDelete:"Also delete users and classes not in CSV"}},Init=(__webpack_require__(194),normalizeComponent(ImportCsvPage_Initvue_type_script_lang_js_,(function(){var _vm=this,_h=_vm.$createElement,_c=_vm._self._c||_h;return _c("div",[_c("p",[_vm._v("\n    "+_vm._s(_vm.$tr("introduction"))+"\n  ")]),_c("p",[_c("KButton",{attrs:{appearance:"basic-link",text:_vm.$tr("viewFormat")},on:{click:function($event){_vm.showInfoModal=!0}}})],1),_c("p",{staticClass:"caution",style:{color:_vm.$themeTokens.error}},[_vm._v("\n    "+_vm._s(_vm.$tr("caution"))+"\n  ")]),_c("p",[_vm._v(_vm._s(_vm.$tr("importingWill")))]),_c("ul",[_c("li",[_vm._v(_vm._s(_vm.$tr("importL1")))]),_c("li",[_vm._v(_vm._s(_vm.$tr("importL2")))]),_c("li",[_vm._v(_vm._s(_vm.$tr("importL3")))]),_c("li",[_vm._v(_vm._s(_vm.$tr("importL4")))]),_c("li",[_vm._v(_vm._s(_vm.$tr("importL5")))])]),_c("p",[_vm._v("\n    "+_vm._s(_vm.$tr("optionally"))+"\n  ")]),_c("p",[_vm._v("\n    "+_vm._s(_vm.$tr("beforeCommitting"))+"\n  ")]),_c("p",[_c("label",{attrs:{for:"csv-file"}},[_vm._v(" "+_vm._s(_vm.$tr("proceed")))])]),_c("p",[_c("input",{ref:"fileInput",attrs:{id:"csv-file",type:"file",accept:".csv",name:"csv-file"},on:{change:_vm.filesChanged}})]),_vm._e(),_c("p",[_c("KButtonGroup",[_c("KButton",{staticStyle:{"margin-left":"0"},attrs:{text:_vm.coreString("cancelAction"),appearance:"raised-button"},on:{click:function($event){return _vm.$emit("cancel")}}}),_c("KButton",{attrs:{text:_vm.coreString("continueAction"),appearance:"raised-button",disabled:null===_vm.fileToImport,primary:""},on:{click:function($event){return _vm.$emit("next",_vm.fileToImport,_vm.deleteUsers)}}})],1)],1),_vm.showInfoModal?_c("CsvInfoModal",{on:{cancel:function($event){_vm.showInfoModal=!1}}}):_vm._e()],1)}),[],!1,null,"d824a8aa",null).exports),external_kolibriCoreAppGlobal_coreVue_components_UiAlert_=__webpack_require__(66),external_kolibriCoreAppGlobal_coreVue_components_UiAlert_default=__webpack_require__.n(external_kolibriCoreAppGlobal_coreVue_components_UiAlert_),ImportCsvPage_Previewvue_type_script_lang_js_={name:"Preview",components:{UiAlert:external_kolibriCoreAppGlobal_coreVue_components_UiAlert_default.a},computed:Object.assign({},{isError:function(){return this.status===constants.b.ERRORS},isFinished:function(){return this.status===constants.b.FINISHED},showDeletionCol:function(){return this.users_report.deleted||this.classes_report.cleared},numSkipped:function(){var skippedLines=new Set;return this.per_line_errors.forEach((function(obj){return skippedLines.add(obj.row)})),skippedLines.size}},Object(external_kolibriCoreAppGlobal_lib_vuex_.mapState)("importCSV",["overall_error","per_line_errors","classes_report","users_report","status"])),methods:Object.assign({},Object(external_kolibriCoreAppGlobal_lib_vuex_.mapActions)("importCSV",["startSavingUsers"]),{reset:function(){this.$store.commit("importCSV/RESET_STATE")}}),$trs:{importError:"Importing is not possible due to the following errors:",success:"The import succeeded",changesMade:"The following changes were made:",summary:"Summary of changes if you choose to import:",updated:"Updated",added:"Added",deleted:"Deleted",skipped:{message:"Skipped",context:"Refers to rows in the CSV file.\n\n"},users:"Users",classes:"Classes",someSkipped:"These rows were skipped:",someRowErrors:"These rows have errors and will be skipped if you continue:",rowNumber:"Row number",columnName:"Column name",value:"Value",error:"Error",close:"Close",back:"Back",import:"Import"}},views_ImportCsvPagevue_type_script_lang_js_=(__webpack_require__(195),{name:"ImportCsvPage",metaInfo:function(){return{title:this.$tr("pageHeader")}},components:{Init:Init,Preview:normalizeComponent(ImportCsvPage_Previewvue_type_script_lang_js_,(function(){var _vm=this,_h=_vm.$createElement,_c=_vm._self._c||_h;return _c("div",[_vm.isError?[_c("p",[_vm._v(_vm._s(_vm.$tr("importError")))]),_c("ul",_vm._l(_vm.overall_error,(function(message,index){return _c("li",{key:index},[_vm._v("\n        "+_vm._s(message)+"\n      ")])})),0)]:[_vm.isFinished?_c("p",[_vm._v("\n      "+_vm._s(_vm.$tr("changesMade"))+"\n    ")]):_c("p",[_vm._v("\n      "+_vm._s(_vm.$tr("summary"))+"\n    ")]),_c("table",{staticClass:"indent"},[_c("thead",[_c("tr",[_c("th"),_c("th",{staticClass:"numeric"},[_vm._v("\n            "+_vm._s(_vm.$tr("updated"))+"\n          ")]),_c("th",{staticClass:"numeric"},[_vm._v("\n            "+_vm._s(_vm.$tr("added"))+"\n          ")]),_vm.showDeletionCol?_c("th",{staticClass:"numeric"},[_vm._v("\n            "+_vm._s(_vm.$tr("deleted"))+"\n          ")]):_vm._e(),_vm.numSkipped?_c("th",{staticClass:"numeric"},[_vm._v("\n            "+_vm._s(_vm.$tr("skipped"))+"\n          ")]):_vm._e()])]),_c("tbody",[_c("tr",[_c("td",[_vm._v(_vm._s(_vm.$tr("users")))]),_c("td",{staticClass:"numeric"},[_vm._v("\n            "+_vm._s(_vm.users_report.updated)+"\n          ")]),_c("td",{staticClass:"numeric",staticStyle:{color:"green"}},[_vm._v("\n            "+_vm._s(_vm.users_report.created)+"\n          ")]),_vm.showDeletionCol?_c("td",{staticClass:"numeric",staticStyle:{color:"red"}},[_vm._v("\n            "+_vm._s(_vm.users_report.deleted)+"\n          ")]):_vm._e(),_vm.numSkipped?_c("td",{staticClass:"numeric"},[_vm._v("\n            "+_vm._s(_vm.numSkipped)+"\n          ")]):_vm._e()]),_c("tr",[_c("td",[_vm._v(_vm._s(_vm.$tr("classes")))]),_c("td",{staticClass:"numeric"},[_vm._v("\n            "+_vm._s(_vm.classes_report.updated)+"\n          ")]),_c("td",{staticClass:"numeric",staticStyle:{color:"green"}},[_vm._v("\n            "+_vm._s(_vm.classes_report.created)+"\n          ")]),_vm.showDeletionCol?_c("td",{staticClass:"numeric",staticStyle:{color:"red"}},[_vm._v("\n            "+_vm._s(_vm.classes_report.cleared)+"\n          ")]):_vm._e(),_vm.numSkipped?_c("td",{staticClass:"numeric"}):_vm._e()])])]),_vm.per_line_errors.length?[_vm.isFinished?_c("p",[_vm._v("\n        "+_vm._s(_vm.$tr("someSkipped"))+"\n      ")]):_c("p",[_vm._v("\n        "+_vm._s(_vm.$tr("someRowErrors"))+"\n      ")]),_c("table",{staticClass:"indent"},[_c("thead",[_c("tr",[_c("th",[_vm._v(_vm._s(_vm.$tr("rowNumber")))]),_c("th",[_vm._v(_vm._s(_vm.$tr("columnName")))]),_c("th",[_vm._v(_vm._s(_vm.$tr("value")))]),_c("th",[_vm._v(_vm._s(_vm.$tr("error")))])])]),_c("tbody",_vm._l(_vm.per_line_errors,(function(obj,index){return _c("tr",{key:index},[_c("td",[_vm._v(_vm._s(obj.row))]),_c("td",[_vm._v(_vm._s(obj.field))]),_c("td",[_vm._v(_vm._s(obj.value))]),_c("td",[_vm._v(_vm._s(obj.message))])])})),0)])]:_vm._e()],_vm.isFinished&&!_vm.isError?[_c("UiAlert",{staticStyle:{"margin-top":"16px"},attrs:{dismissible:!1,type:"success"}},[_vm._v("\n      "+_vm._s(_vm.$tr("success"))+"\n    ")]),_c("p",[_c("KButton",{attrs:{text:_vm.$tr("close"),appearance:"raised-button",primary:""},on:{click:function($event){return _vm.$emit("done")}}})],1)]:_c("p",[_c("KButtonGroup",[_c("KButton",{staticStyle:{"margin-left":"0"},attrs:{text:_vm.$tr("back"),appearance:"raised-button"},on:{click:_vm.reset}}),_vm.isError?_vm._e():_c("KButton",{attrs:{text:_vm.$tr("import"),appearance:"raised-button",primary:""},on:{click:_vm.startSavingUsers}})],1)],1)],2)}),[],!1,null,"cc6d811c",null).exports},computed:Object.assign({},Object(external_kolibriCoreAppGlobal_lib_vuex_.mapState)("importCSV",["status"]),{CSVImportStatuses:function(){return constants.b},showPreviewState:function(){return[constants.b.VALIDATED,constants.b.ERRORS,constants.b.FINISHED].includes(this.status)},showLoaderState:function(){return[constants.b.VALIDATING,constants.b.SAVING].includes(this.status)}}),watch:{pollForTasks:function(val){return val?this.startTaskPolling():this.stopTaskPolling()}},mounted:function(){this.$store.commit("importCSV/RESET_STATE"),this.refreshTaskList(),this.startTaskPolling()},destroyed:function(){this.stopTaskPolling()},methods:Object.assign({},Object(external_kolibriCoreAppGlobal_lib_vuex_.mapActions)("importCSV",["startValidating","refreshTaskList"]),{preview:function(file,deleteUsers){this.startValidating({deleteUsers:deleteUsers,file:file})},done:function(){this.$router.push(this.$store.getters.facilityPageLinks.DataPage)},startTaskPolling:function(){this.intervalId||(this.intervalId=setInterval(this.refreshTaskList,1e3))},stopTaskPolling:function(){this.intervalId&&(this.intervalId=clearInterval(this.intervalId))}}),$trs:{pageHeader:"Import users",loading:"Loading..."}}),ImportCsvPage=(__webpack_require__(196),normalizeComponent(views_ImportCsvPagevue_type_script_lang_js_,(function(){var _vm=this,_h=_vm.$createElement,_c=_vm._self._c||_h;return _c("KPageContainer",[_c("h1",[_vm._v(_vm._s(_vm.$tr("pageHeader")))]),_vm.status===_vm.CSVImportStatuses.NOT_STARTED?_c("Init",{on:{cancel:_vm.done,next:_vm.preview}}):_vm.showPreviewState?_c("Preview",{on:{done:_vm.done}}):_vm.showLoaderState?[_c("div",{staticClass:"loader-wrapper"},[_c("KCircularLoader",{staticClass:"loader"}),_vm._v(" "+_vm._s(_vm.$tr("loading"))+"\n    ")],1)]:_vm._e()],2)}),[],!1,null,"2d45866b",null).exports),camelCase=__webpack_require__(136),camelCase_default=__webpack_require__.n(camelCase),isEqual=__webpack_require__(137),isEqual_default=__webpack_require__.n(isEqual),ConfirmResetModal=normalizeComponent({name:"ConfirmResetModal",mixins:[external_kolibriCoreAppGlobal_coreVue_mixins_commonCoreStrings_default.a],$trs:{confirmationQuestion:"Are you sure you want to reset your settings?",reconfirmation:"Any custom changes will be lost.",reset:"Reset",title:"Reset to defaults"}},(function(){var _vm=this,_h=_vm.$createElement,_c=_vm._self._c||_h;return _c("KModal",{attrs:{title:_vm.$tr("title"),submitText:_vm.$tr("reset"),cancelText:_vm.coreString("cancelAction")},on:{submit:function($event){return _vm.$emit("submit")},cancel:function($event){return _vm.$emit("cancel")}}},[_c("div",[_c("p",[_vm._v(_vm._s(_vm.$tr("confirmationQuestion")))]),_c("p",[_vm._v(_vm._s(_vm.$tr("reconfirmation")))])])])}),[],!1,null,"5d67a27c",null).exports,EditFacilityNameModal=normalizeComponent({name:"EditFacilityNameModal",mixins:[external_kolibriCoreAppGlobal_coreVue_mixins_commonCoreStrings_default.a],props:{facilityName:{type:String,required:!0}},data:function(){return{name:this.facilityName,nameBlurred:!1,formSubmitted:!1,isDuplicated:!1}},computed:Object.assign({},Object(external_kolibriCoreAppGlobal_lib_vuex_.mapState)("facilityConfig",["facilities"]),{nameIsInvalidText:function(){return""===this.name?this.coreString("requiredFieldError"):this.isDuplicated?this.coreString("facilityDuplicated"):""},nameIsInvalid:function(){return Boolean(this.nameIsInvalidText)}}),methods:{handleInput:function($event){this.facilityName!=$event&&this.facilityNameIsUnique($event)},facilityNameIsUnique:function(value){this.isDuplicated=!!this.facilities.find((function(ref){return ref.name.toLowerCase()===value.toLowerCase()}))},handleSubmit:function(){this.formSubmitted=!0,this.nameIsInvalid?this.$refs.name.focus():this.$emit("submit",this.name)}},$trs:{renameFacilityExplanation:{message:"Warning: Only the facility name will be changed, and the new name will be synced and updated on other devices linked to this facility.",context:"Explanation of what consequences renaming will have"},title:"Rename facility"}},(function(){var _vm=this,_h=_vm.$createElement,_c=_vm._self._c||_h;return _c("KModal",{attrs:{title:_vm.$tr("title"),submitText:_vm.coreString("saveAction"),cancelText:_vm.coreString("cancelAction")},on:{submit:_vm.handleSubmit,cancel:function($event){return _vm.$emit("cancel")}}},[_c("div",[_c("p",[_vm._v(_vm._s(_vm.$tr("renameFacilityExplanation")))]),_c("KTextbox",{ref:"name",attrs:{type:"text",label:_vm.coreString("facilityName"),autofocus:!0,invalid:_vm.nameIsInvalid,invalidText:_vm.nameIsInvalidText,maxlength:50},on:{blur:function($event){_vm.nameBlurred=!0},input:_vm.handleInput},model:{value:_vm.name,callback:function($$v){_vm.name="string"==typeof $$v?$$v.trim():$$v},expression:"name"}})],1)])}),[],!1,null,"89a12486",null).exports,ConfigPageNotifications=normalizeComponent({name:"ConfigPageNotifications",components:{UiAlert:external_kolibriCoreAppGlobal_coreVue_components_UiAlert_default.a},props:{notification:{type:String,required:!1}},computed:{notificationTypes:function(){return constants.h}},methods:{dismiss:function(){this.$emit("dismiss")}},$trs:{saveFailure:"There was a problem saving your settings",saveSuccess:"Facility settings updated",pageloadFailure:"There was a problem loading your settings"}},(function(){var _vm=this,_h=_vm.$createElement,_c=_vm._self._c||_h;return _c("div",[_vm.notification===_vm.notificationTypes.PAGELOAD_FAILURE?_c("UiAlert",{attrs:{type:"error"},on:{dismiss:function($event){return _vm.dismiss()}}},[_vm._v("\n    "+_vm._s(_vm.$tr("pageloadFailure"))+"\n  ")]):_vm._e(),_vm.notification===_vm.notificationTypes.SAVE_SUCCESS?_c("UiAlert",{attrs:{type:"success"},on:{dismiss:function($event){return _vm.dismiss()}}},[_vm._v("\n    "+_vm._s(_vm.$tr("saveSuccess"))+"\n  ")]):_vm._e(),_vm.notification===_vm.notificationTypes.SAVE_FAILURE?_c("UiAlert",{attrs:{type:"error"},on:{dismiss:function($event){return _vm.dismiss()}}},[_vm._v("\n    "+_vm._s(_vm.$tr("saveFailure"))+"\n  ")]):_vm._e()],1)}),[],!1,null,null,null).exports,settingsList=["learner_can_edit_username","learner_can_edit_password","learner_can_edit_name","learner_can_sign_up","learner_can_login_with_no_password","show_download_button_in_learn"],views_FacilityConfigPagevue_type_script_lang_js_={name:"FacilityConfigPage",metaInfo:function(){return{title:this.$tr("documentTitle")}},components:{ConfirmResetModal:ConfirmResetModal,EditFacilityNameModal:EditFacilityNameModal,Notifications:ConfigPageNotifications},mixins:[external_kolibriCoreAppGlobal_coreVue_mixins_commonCoreStrings_default.a],data:function(){return{showModal:!1,showEditFacilityModal:!1,settingsCopy:{}}},computed:Object.assign({},Object(external_kolibriCoreAppGlobal_lib_vuex_.mapState)("facilityConfig",["facilityName","facilityId","settings","notification","facilityNameSaved","facilityNameError"]),Object(external_kolibriCoreAppGlobal_lib_vuex_.mapGetters)(["isSuperuser"]),{settingsList:function(){return settingsList},settingsHaveChanged:function(){return!isEqual_default()(this.settings,this.settingsCopy)},deviceSettingsUrl:function(){var getUrl=external_kolibriCoreAppGlobal_urls_default.a["kolibri:kolibri.plugins.device:device_management"];return getUrl?getUrl()+"#/settings":null},lastPartId:function(){return this.facilityId.slice(0,4)},enableChangePassword:function(){return this.settings.learner_can_login_with_no_password}}),watch:{facilityNameSaved:function(val){val&&(this.createSnackbar(this.coreString("changesSavedNotification")),this.$store.commit("facilityConfig/RESET_FACILITY_NAME_STATES"))},facilityNameError:function(val){val&&(this.createSnackbar(this.coreString("changesNotSavedNotification")),this.$store.commit("facilityConfig/RESET_FACILITY_NAME_STATES"))}},mounted:function(){this.copySettings()},methods:Object.assign({},{camelCase:camelCase_default.a},Object(external_kolibriCoreAppGlobal_lib_vuex_.mapActions)("facilityConfig",["saveFacilityName"]),Object(external_kolibriCoreAppGlobal_lib_vuex_.mapActions)(["createSnackbar"]),{toggleSetting:function(settingName){this.$store.commit("facilityConfig/CONFIG_PAGE_MODIFY_SETTING",{name:settingName,value:!this.settings[settingName]})},dismissNotification:function(){this.$store.commit("facilityConfig/CONFIG_PAGE_NOTIFY",null)},resetToDefaultSettings:function(){var this$1=this;this.showModal=!1,this.$store.dispatch("facilityConfig/resetFacilityConfig").then((function(){this$1.copySettings()}))},sendFacilityName:function(name){this.showEditFacilityModal=!1,name!=this.facilityName&&this.saveFacilityName({name:name,id:this.facilityId})},saveConfig:function(){var this$1=this;this.$store.dispatch("facilityConfig/saveFacilityConfig").then((function(){this$1.copySettings()}))},copySettings:function(){this.settingsCopy=Object.assign({},this.settings)}}),$trs:{learnerCanEditName:"Allow learners to edit their full name",learnerCanEditPassword:"Allow learners to edit their password when signed in",learnerCanEditUsername:"Allow learners to edit their username",learnerCanSignUp:"Allow learners to create accounts",learnerCanLoginWithNoPassword:"Allow learners to sign in with no password",learnerNeedPasswordToLogin:"Require password for learners",showDownloadButtonInLearn:"Show 'download' button with resources",allowGuestAccess:"Allow users to access resources without signing in",pageDescription:{message:"Configure facility settings here.",context:'\nInterpret as "[You can] configure facility settings here"'},deviceSettings:"You can also configure device settings",pageHeader:"Facility settings",resetToDefaultSettings:"Reset to defaults",documentTitle:"Configure Facility"}},FacilityConfigPage=(__webpack_require__(233),normalizeComponent(views_FacilityConfigPagevue_type_script_lang_js_,(function(){var _vm=this,_h=_vm.$createElement,_c=_vm._self._c||_h;return _c("KPageContainer",[_c("Notifications",{attrs:{notification:_vm.notification},on:{dismiss:function($event){return _vm.dismissNotification()}}}),_c("div",{staticClass:"mb"},[_c("h1",[_vm._v(_vm._s(_vm.$tr("pageHeader")))]),_c("p",[_vm._v("\n      "+_vm._s(_vm.$tr("pageDescription"))+"\n      "),_vm.isSuperuser&&_vm.deviceSettingsUrl?_c("KExternalLink",{attrs:{text:_vm.$tr("deviceSettings"),href:_vm.deviceSettingsUrl}}):_vm._e()],1)]),null!==_vm.settings?[_c("div",{staticClass:"mb"},[_c("h2",[_vm._v(_vm._s(_vm.coreString("facilityLabel")))]),_c("p",{staticClass:"current-facility-name"},[_vm._v("\n        "+_vm._s(_vm.coreString("facilityNameWithId",{facilityName:_vm.facilityName,id:_vm.lastPartId}))+"\n        "),_c("KButton",{attrs:{appearance:"basic-link",text:_vm.coreString("editAction"),name:"edit-facilityname"},on:{click:function($event){_vm.showEditFacilityModal=!0}}})],1)]),_c("div",{staticClass:"mb"},[_c("div",{staticClass:"settings"},[_vm._l(_vm.settingsList,(function(setting){return["learner_can_edit_password"!==setting&&"learner_can_login_with_no_password"!==setting?[_c("KCheckbox",{key:setting,attrs:{label:_vm.$tr(_vm.camelCase(setting)),checked:_vm.settings[setting]},on:{change:function($event){return _vm.toggleSetting(setting)}}})]:"learner_can_login_with_no_password"===setting?[_c("KCheckbox",{key:setting,attrs:{label:_vm.$tr("learnerNeedPasswordToLogin"),checked:!_vm.settings.learner_can_login_with_no_password},on:{change:function($event){return _vm.toggleSetting("learner_can_login_with_no_password")}}}),_c("KCheckbox",{key:setting+"learner_can_edit_password",staticClass:"checkbox-password",attrs:{disabled:_vm.enableChangePassword,label:_vm.$tr("learnerCanEditPassword"),checked:_vm.settings.learner_can_edit_password},on:{change:function($event){return _vm.toggleSetting("learner_can_edit_password")}}})]:_vm._e()]}))],2),_c("div",[_c("KButtonGroup",{staticStyle:{"margin-top":"8px"}},[_c("KButton",{attrs:{primary:!1,appearance:"raised-button",text:_vm.$tr("resetToDefaultSettings"),name:"reset-settings"},on:{click:function($event){_vm.showModal=!0}}}),_c("KButton",{attrs:{primary:!0,appearance:"raised-button",text:_vm.coreString("saveChangesAction"),name:"save-settings",disabled:!_vm.settingsHaveChanged},on:{click:function($event){return _vm.saveConfig()}}})],1)],1)])]:_vm._e(),_vm.showModal?_c("ConfirmResetModal",{attrs:{id:"confirm-reset"},on:{submit:_vm.resetToDefaultSettings,cancel:function($event){_vm.showModal=!1}}}):_vm._e(),_vm.showEditFacilityModal?_c("EditFacilityNameModal",{attrs:{id:"edit-facility",facilityName:_vm.facilityName},on:{submit:_vm.sendFacilityName,cancel:function($event){_vm.showEditFacilityModal=!1}}}):_vm._e()],2)}),[],!1,null,"50f2e9c6",null).exports),orderBy=__webpack_require__(138),orderBy_default=__webpack_require__.n(orderBy),cloneDeep=__webpack_require__(20),cloneDeep_default=__webpack_require__.n(cloneDeep),ClassCreateModal=normalizeComponent({name:"ClassCreateModal",mixins:[external_kolibriCoreAppGlobal_coreVue_mixins_commonCoreStrings_default.a],props:{classes:{type:Array,required:!0}},data:function(){return{name:"",nameBlurred:!1,formSubmitted:!1,submitting:!1}},computed:{duplicateName:function(){var this$1=this;return-1!==this.classes.findIndex((function(classroom){return classroom.name.toUpperCase()===this$1.name.toUpperCase()}))},nameIsInvalidText:function(){if(this.nameBlurred||this.formSubmitted){if(""===this.name)return this.coreString("requiredFieldError");if(this.duplicateName)return this.$tr("duplicateName")}return""},nameIsInvalid:function(){return Boolean(this.nameIsInvalidText)},formIsValid:function(){return!this.nameIsInvalid}},methods:{createNewClass:function(){var this$1=this;this.formSubmitted=!0,this.formIsValid?(this.submitting=!0,this.$store.dispatch("classManagement/createClass",this.name).then((function(){this$1.$emit("success"),this$1.showSnackbarNotification("classCreated")}))):this.$refs.name.focus()}},$trs:{createNewClassHeader:"Create new class",duplicateName:"A class with that name already exists"}},(function(){var _vm=this,_h=_vm.$createElement,_c=_vm._self._c||_h;return _c("KModal",{attrs:{title:_vm.$tr("createNewClassHeader"),size:"small",submitText:_vm.coreString("saveAction"),cancelText:_vm.coreString("cancelAction"),submitDisabled:_vm.submitting},on:{submit:_vm.createNewClass,cancel:function($event){return _vm.$emit("cancel")}}},[_c("KTextbox",{ref:"name",attrs:{type:"text",label:_vm.coreString("classNameLabel"),autofocus:!0,invalid:_vm.nameIsInvalid,invalidText:_vm.nameIsInvalidText,maxlength:50},on:{blur:function($event){_vm.nameBlurred=!0}},model:{value:_vm.name,callback:function($$v){_vm.name="string"==typeof $$v?$$v.trim():$$v},expression:"name"}})],1)}),[],!1,null,"5e604b50",null).exports,ClassDeleteModal=normalizeComponent({name:"ClassDeleteModal",mixins:[external_kolibriCoreAppGlobal_coreVue_mixins_commonCoreStrings_default.a],props:{classname:{type:String,required:!0},classid:{type:String,required:!0}},methods:{classDelete:function(){var this$1=this;this.$store.dispatch("classManagement/deleteClass",this.classid).then((function(){this$1.$emit("success"),this$1.showSnackbarNotification("classDeleted")}))}},$trs:{modalTitle:"Delete class",confirmation:"Are you sure you want to delete '{ classname }'?",description:"Enrolled users will be removed from the class but remain accessible from the 'Users' tab."}},(function(){var _vm=this,_h=_vm.$createElement,_c=_vm._self._c||_h;return _c("KModal",{attrs:{title:_vm.$tr("modalTitle"),submitText:_vm.coreString("deleteAction"),cancelText:_vm.coreString("cancelAction")},on:{submit:_vm.classDelete,cancel:function($event){return _vm.$emit("cancel")}}},[_c("p",[_vm._v(_vm._s(_vm.$tr("confirmation",{classname:_vm.classname})))]),_c("p",[_vm._v(_vm._s(_vm.$tr("description")))])])}),[],!1,null,"08467f14",null).exports,views_ManageClassPagevue_type_script_lang_js_={name:"ManageClassPage",metaInfo:function(){return{title:this.coreString("classesLabel")}},components:{CoreTable:external_kolibriCoreAppGlobal_coreVue_components_CoreTable_default.a,ClassCreateModal:ClassCreateModal,ClassDeleteModal:ClassDeleteModal},mixins:[external_kolibriCoreAppGlobal_coreVue_mixins_commonCoreStrings_default.a],data:function(){return{classForDeletion:null}},computed:Object.assign({},Object(external_kolibriCoreAppGlobal_lib_vuex_.mapState)("classManagement",["modalShown","classes"]),Object(external_kolibriCoreAppGlobal_lib_vuex_.mapGetters)(["userIsMultiFacilityAdmin","facilityPageLinks"]),{noClassesExist:function(){return 0===this.classes.length},Modals:function(){return constants.c},sortedClassrooms:function(){return orderBy_default()(this.classes,[function(classroom){return classroom.name.toUpperCase()}],["asc"])}}),methods:Object.assign({},Object(external_kolibriCoreAppGlobal_lib_vuex_.mapActions)("classManagement",["displayModal"]),{closeModal:function(){this.displayModal(!1)},handleCreateSuccess:function(){this.closeModal(),this.refreshCoreFacilities()},handleDeleteSuccess:function(){this.closeModal(),this.classForDeletion=null,this.refreshCoreFacilities()},refreshCoreFacilities:function(){this.userIsMultiFacilityAdmin&&this.$store.dispatch("getFacilities")},coachNames:function(classroom){return classroom.coaches.map((function(ref){return ref.full_name}))},formattedCoachNames:function(classroom){var coach_names=this.coachNames(classroom);return 1===coach_names.length?coach_names[0]:2===coach_names.length?this.$tr("twoCoachNames",{name1:coach_names[0],name2:coach_names[1]}):this.$tr("manyCoachNames",{name1:coach_names[0],name2:coach_names[1],numRemaining:coach_names.length-2})},formattedCoachNamesTooltip:function(classroom){var coach_names=this.coachNames(classroom);return coach_names.length>2?coach_names.join("\n"):null},classEditLink:function(classId){var link=cloneDeep_default()(this.facilityPageLinks.ClassEditPage);return link.params.id=classId,link},openDeleteClassModal:function(classModel){this.classForDeletion=classModel,this.displayModal(constants.c.DELETE_CLASS)}}),$trs:{adminClassPageSubheader:"View and manage your classes",addNew:"New class",deleteClass:"Delete class",tableCaption:"List of classes",twoCoachNames:"{name1}, {name2}",manyCoachNames:"{name1}, {name2} (+{numRemaining, number})",actions:"Actions",noClassesExist:"No classes exist"}},ManageClassPage=(__webpack_require__(278),normalizeComponent(views_ManageClassPagevue_type_script_lang_js_,(function(){var _vm=this,_h=_vm.$createElement,_c=_vm._self._c||_h;return _c("KPageContainer",[_c("p",[_vm.userIsMultiFacilityAdmin?_c("KRouterLink",{attrs:{to:_vm.facilityPageLinks.AllFacilitiesPage,icon:"back",text:_vm.coreString("allFacilitiesLabel")}}):_vm._e()],1),_c("KGrid",[_c("KGridItem",{attrs:{layout8:{span:6},layout12:{span:9}}},[_c("h1",[_vm._v(_vm._s(_vm.coreString("classesLabel")))]),_c("p",[_vm._v(_vm._s(_vm.$tr("adminClassPageSubheader")))])]),_c("KGridItem",{attrs:{layout:{alignment:"right"},layout8:{span:2},layout12:{span:3}}},[_c("KButton",{staticClass:"move-down",attrs:{text:_vm.$tr("addNew"),primary:!0},on:{click:function($event){return _vm.displayModal(_vm.Modals.CREATE_CLASS)}}})],1)],1),_c("CoreTable",[_c("caption",{staticClass:"visuallyhidden"},[_vm._v("\n      "+_vm._s(_vm.$tr("tableCaption"))+"\n    ")]),_c("thead",{attrs:{slot:"thead"},slot:"thead"},[_c("tr",[_c("th",[_vm._v(_vm._s(_vm.coreString("classNameLabel")))]),_c("th",[_vm._v(_vm._s(_vm.coreString("coachesLabel")))]),_c("th",[_vm._v(_vm._s(_vm.coreString("learnersLabel")))]),_c("th",[_c("span",{staticClass:"visuallyhidden"},[_vm._v("\n            "+_vm._s(_vm.$tr("actions"))+"\n          ")])])])]),_c("transition-group",{attrs:{slot:"tbody",tag:"tbody",name:"list"},slot:"tbody"},_vm._l(_vm.sortedClassrooms,(function(classroom){return _c("tr",{key:classroom.id},[_c("td",[_c("KLabeledIcon",{attrs:{icon:"classes"}},[_c("KRouterLink",{attrs:{text:classroom.name,to:_vm.classEditLink(classroom.id)}})],1)],1),_c("td",[_c("span",{ref:"coachNames"+classroom.id,refInFor:!0},[_vm.coachNames(classroom).length?[_vm._v("\n              "+_vm._s(_vm.formattedCoachNames(classroom))+"\n            ")]:_c("KEmptyPlaceholder")],2),_vm.formattedCoachNamesTooltip(classroom)?_c("KTooltip",{attrs:{reference:"coachNames"+classroom.id,refs:_vm.$refs}},[_vm._v("\n            "+_vm._s(_vm.formattedCoachNamesTooltip(classroom))+"\n          ")]):_vm._e()],1),_c("td",[_vm._v("\n          "+_vm._s(classroom.learner_count)+"\n        ")]),_c("td",{staticClass:"core-table-button-col"},[_c("KButton",{attrs:{appearance:"flat-button",text:_vm.$tr("deleteClass")},on:{click:function($event){return _vm.openDeleteClassModal(classroom)}}})],1)])})),0)],1),_vm.noClassesExist?_c("p",[_vm._v("\n    "+_vm._s(_vm.$tr("noClassesExist"))+"\n  ")]):_vm._e(),_vm.modalShown===_vm.Modals.DELETE_CLASS?_c("ClassDeleteModal",{attrs:{classid:_vm.classForDeletion.id,classname:_vm.classForDeletion.name},on:{cancel:_vm.closeModal,success:function($event){return _vm.handleDeleteSuccess()}}}):_vm._e(),_vm.modalShown===_vm.Modals.CREATE_CLASS?_c("ClassCreateModal",{attrs:{classes:_vm.sortedClassrooms},on:{cancel:_vm.closeModal,success:function($event){return _vm.handleCreateSuccess()}}}):_vm._e()],1)}),[],!1,null,"3ae45b46",null).exports),external_kolibriCoreAppGlobal_coreVue_vuex_constants_=__webpack_require__(2),external_kolibriCoreAppGlobal_coreVue_components_PasswordTextbox_=__webpack_require__(67),external_kolibriCoreAppGlobal_coreVue_components_PasswordTextbox_default=__webpack_require__.n(external_kolibriCoreAppGlobal_coreVue_components_PasswordTextbox_),ResetUserPasswordModal=normalizeComponent({name:"ResetUserPasswordModal",components:{PasswordTextbox:external_kolibriCoreAppGlobal_coreVue_components_PasswordTextbox_default.a},mixins:[external_kolibriCoreAppGlobal_coreVue_mixins_commonCoreStrings_default.a],props:{id:{type:String,required:!0},username:{type:String,required:!0}},data:function(){return{password:"",passwordValid:!1,formSubmitted:!1,busy:!1}},methods:{submitForm:function(){var this$1=this;if(this.formSubmitted=!0,!this.passwordValid)return this.focusOnInvalidField();this.busy=!0,this.$store.dispatch("userManagement/updateFacilityUserPassword",{userId:this.id,password:this.password}).then((function(){this$1.busy=!1,this$1.$emit("cancel"),this$1.showSnackbarNotification("passwordReset")})).catch((function(error){return this$1.$store.dispatch("handleApiError",error)}))},focusOnInvalidField:function(){var this$1=this;this.$nextTick().then((function(){this$1.passwordValid||this$1.$refs.passwordTextbox.focus()}))}},$trs:{resetPassword:"Reset user password",username:"Username: "}},(function(){var _vm=this,_h=_vm.$createElement,_c=_vm._self._c||_h;return _c("KModal",{attrs:{title:_vm.$tr("resetPassword"),submitText:_vm.coreString("saveAction"),cancelText:_vm.coreString("cancelAction"),submitDisabled:_vm.busy,cancelDisabled:_vm.busy},on:{submit:_vm.submitForm,cancel:function($event){return _vm.$emit("cancel")}}},[_c("p",[_vm._v(_vm._s(_vm.$tr("username"))),_c("strong",[_vm._v(_vm._s(_vm.username))])]),_c("PasswordTextbox",{ref:"passwordTextbox",attrs:{autofocus:!0,disabled:_vm.busy,value:_vm.password,isValid:_vm.passwordValid,shouldValidate:_vm.formSubmitted},on:{"update:value":function($event){_vm.password=$event},"update:isValid":function($event){_vm.passwordValid=$event},"update:is-valid":function($event){_vm.passwordValid=$event}}})],1)}),[],!1,null,"2b183490",null).exports,DeleteUserModal=normalizeComponent({name:"DeleteUserModal",mixins:[external_kolibriCoreAppGlobal_coreVue_mixins_commonCoreStrings_default.a],props:{id:{type:String,required:!0},username:{type:String,required:!0}},data:function(){return{submitting:!1}},methods:{handleDeleteUser:function(){var this$1=this;this.submitting=!0,this.$store.dispatch("userManagement/deleteFacilityUser",{userId:this.id}).then((function(){this$1.$store.commit("userManagement/DELETE_USER",this$1.id),this$1.$emit("cancel"),this$1.showSnackbarNotification("userDeleted")})).catch((function(error){this$1.$store.dispatch("handleApiError",error)}))}},$trs:{deleteUser:"Delete user",confirmation:"Are you sure you want to delete the user '{ username }'?",warning:"All data and logs for this user will be lost."}},(function(){var _vm=this,_h=_vm.$createElement,_c=_vm._self._c||_h;return _c("KModal",{attrs:{title:_vm.$tr("deleteUser"),submitText:_vm.coreString("deleteAction"),cancelText:_vm.coreString("cancelAction"),submitDisabled:_vm.submitting},on:{submit:_vm.handleDeleteUser,cancel:function($event){return _vm.$emit("cancel")}}},[_c("p",[_vm._v(_vm._s(_vm.$tr("confirmation",{username:_vm.username})))]),_c("p",[_vm._v(_vm._s(_vm.$tr("warning",{username:_vm.username})))])])}),[],!1,null,"1c4191b2",null).exports,views_UserPagevue_type_script_lang_js_={name:"UserPage",metaInfo:function(){return{title:this.coreString("usersLabel")}},components:{ResetUserPasswordModal:ResetUserPasswordModal,DeleteUserModal:DeleteUserModal,UserTable:UserTable,PaginatedListContainer:external_kolibriCoreAppGlobal_coreVue_components_PaginatedListContainer_default.a},mixins:[external_kolibriCoreAppGlobal_coreVue_mixins_commonCoreStrings_default.a],data:function(){return{roleFilter:null,selectedUser:null,modalShown:null}},computed:Object.assign({},Object(external_kolibriCoreAppGlobal_lib_vuex_.mapGetters)(["currentUserId","isSuperuser"]),Object(external_kolibriCoreAppGlobal_lib_vuex_.mapState)("userManagement",["facilityUsers"]),{Modals:function(){return constants.c},userKinds:function(){return[{label:this.coreString("allLabel"),value:"all"},{label:this.coreString("learnersLabel"),value:external_kolibriCoreAppGlobal_coreVue_vuex_constants_.UserKinds.LEARNER},{label:this.coreString("coachesLabel"),value:external_kolibriCoreAppGlobal_coreVue_vuex_constants_.UserKinds.COACH},{label:this.$tr("admins"),value:external_kolibriCoreAppGlobal_coreVue_vuex_constants_.UserKinds.ADMIN},{label:this.$tr("superAdmins"),value:external_kolibriCoreAppGlobal_coreVue_vuex_constants_.UserKinds.SUPERUSER}]}}),beforeMount:function(){this.roleFilter=this.userKinds[0]},methods:{emptyMessageForItems:function(items,filterText){if(0===this.facilityUsers.length)return this.$tr("noUsersExist");if(this.roleFilter&&""===filterText)switch(this.roleFilter.value){case external_kolibriCoreAppGlobal_coreVue_vuex_constants_.UserKinds.LEARNER:return this.$tr("noLearnersExist");case external_kolibriCoreAppGlobal_coreVue_vuex_constants_.UserKinds.COACH:return this.$tr("noCoachesExist");case external_kolibriCoreAppGlobal_coreVue_vuex_constants_.UserKinds.ADMIN:return this.$tr("noAdminsExist");case external_kolibriCoreAppGlobal_coreVue_vuex_constants_.UserKinds.SUPERUSER:return this.$tr("noSuperAdminsExist");default:return""}else if(0===items.length)return this.$tr("allUsersFilteredOut",{filterText:filterText});return""},filterUsers:function(users,filterText){var this$1=this;return filterAndSortUsers(users,(function(user){return userMatchesFilter(user,filterText)&&this$1.userMatchesRole(user,this$1.roleFilter)}))},closeModal:function(){this.modalShown=""},userMatchesRole:function(user,roleFilter){var filterKind=roleFilter.value;return"all"===filterKind||(user.kind===external_kolibriCoreAppGlobal_coreVue_vuex_constants_.UserKinds.ASSIGNABLE_COACH?filterKind===external_kolibriCoreAppGlobal_coreVue_vuex_constants_.UserKinds.COACH:filterKind===external_kolibriCoreAppGlobal_coreVue_vuex_constants_.UserKinds.ADMIN?user.kind===external_kolibriCoreAppGlobal_coreVue_vuex_constants_.UserKinds.ADMIN||user.kind===external_kolibriCoreAppGlobal_coreVue_vuex_constants_.UserKinds.SUPERUSER:filterKind===external_kolibriCoreAppGlobal_coreVue_vuex_constants_.UserKinds.SUPERUSER?user.kind===external_kolibriCoreAppGlobal_coreVue_vuex_constants_.UserKinds.SUPERUSER:filterKind===user.kind)},manageUserOptions:function(userId){return[{label:this.coreString("editDetailsAction"),value:constants.c.EDIT_USER},{label:this.$tr("resetUserPassword"),value:constants.c.RESET_USER_PASSWORD},{label:this.coreString("deleteAction"),value:constants.c.DELETE_USER,disabled:userId===this.currentUserId}]},handleManageUserSelection:function(selection,user){if(selection.value===constants.c.EDIT_USER){var link=cloneDeep_default()(this.$store.getters.facilityPageLinks.UserEditPage);link.params.id=user.id,this.$router.push(link)}else this.selectedUser=user,this.modalShown=selection.value},userCanBeEdited:function(user){return this.isSuperuser||!user.is_superuser}},$trs:{searchText:"Search for a user",admins:"Admins",superAdmins:"Super admins",newUserButtonLabel:"New User",noUsersExist:"No users exist",allUsersFilteredOut:"No users match the filter: '{filterText}'",optionsButtonLabel:"Options",resetUserPassword:"Reset password",noLearnersExist:"No learners exist",noCoachesExist:"No coaches exist",noSuperAdminsExist:"No super admins exist",noAdminsExist:"No admins exist"}},UserPage=(__webpack_require__(279),normalizeComponent(views_UserPagevue_type_script_lang_js_,(function(){var _vm=this,_h=_vm.$createElement,_c=_vm._self._c||_h;return _c("KPageContainer",[_c("KGrid",[_c("KGridItem",{attrs:{layout8:{span:4},layout12:{span:6}}},[_c("h1",[_vm._v(_vm._s(_vm.coreString("usersLabel")))])]),_c("KGridItem",{attrs:{layout:{alignment:"right"},layout8:{span:4},layout12:{span:6}}},[_c("KRouterLink",{staticClass:"move-down",attrs:{text:_vm.$tr("newUserButtonLabel"),primary:!0,appearance:"raised-button",to:_vm.$store.getters.facilityPageLinks.UserCreatePage}})],1)],1),_c("PaginatedListContainer",{attrs:{items:_vm.facilityUsers,filterFunction:_vm.filterUsers,filterPlaceholder:_vm.$tr("searchText")},scopedSlots:_vm._u([{key:"otherFilter",fn:function(){return[_c("KSelect",{staticClass:"type-filter",attrs:{label:_vm.coreString("userTypeLabel"),options:_vm.userKinds,inline:!0},model:{value:_vm.roleFilter,callback:function($$v){_vm.roleFilter=$$v},expression:"roleFilter"}})]},proxy:!0},{key:"default",fn:function(ref){var items=ref.items,filterInput=ref.filterInput;return[_c("UserTable",{staticClass:"move-down user-roster",attrs:{users:items,emptyMessage:_vm.emptyMessageForItems(items,filterInput),showDemographicInfo:!0},scopedSlots:_vm._u([{key:"action",fn:function(userRow){return[_c("KDropdownMenu",{attrs:{text:_vm.$tr("optionsButtonLabel"),options:_vm.manageUserOptions(userRow.user.id),disabled:!_vm.userCanBeEdited(userRow.user),appearance:"flat-button"},on:{select:function($event){return _vm.handleManageUserSelection($event,userRow.user)}}})]}}],null,!0)})]}}])}),_vm.modalShown===_vm.Modals.RESET_USER_PASSWORD?_c("ResetUserPasswordModal",{attrs:{id:_vm.selectedUser.id,username:_vm.selectedUser.username},on:{cancel:_vm.closeModal}}):_vm._e(),_vm.modalShown===_vm.Modals.DELETE_USER?_c("DeleteUserModal",{attrs:{id:_vm.selectedUser.id,username:_vm.selectedUser.username},on:{cancel:_vm.closeModal}}):_vm._e()],1)}),[],!1,null,"35545baf",null).exports),every=__webpack_require__(68),every_default=__webpack_require__.n(every),external_kolibriCoreAppGlobal_utils_CatchErrors_=__webpack_require__(69),external_kolibriCoreAppGlobal_utils_CatchErrors_default=__webpack_require__.n(external_kolibriCoreAppGlobal_utils_CatchErrors_),external_kolibriCoreAppGlobal_coreVue_components_GenderSelect_=__webpack_require__(70),external_kolibriCoreAppGlobal_coreVue_components_GenderSelect_default=__webpack_require__.n(external_kolibriCoreAppGlobal_coreVue_components_GenderSelect_),external_kolibriCoreAppGlobal_coreVue_components_BirthYearSelect_=__webpack_require__(71),external_kolibriCoreAppGlobal_coreVue_components_BirthYearSelect_default=__webpack_require__.n(external_kolibriCoreAppGlobal_coreVue_components_BirthYearSelect_),external_kolibriCoreAppGlobal_coreVue_components_FullNameTextbox_=__webpack_require__(72),external_kolibriCoreAppGlobal_coreVue_components_FullNameTextbox_default=__webpack_require__.n(external_kolibriCoreAppGlobal_coreVue_components_FullNameTextbox_),external_kolibriCoreAppGlobal_coreVue_components_UsernameTextbox_=__webpack_require__(73),external_kolibriCoreAppGlobal_coreVue_components_UsernameTextbox_default=__webpack_require__.n(external_kolibriCoreAppGlobal_coreVue_components_UsernameTextbox_),views_IdentifierTextboxvue_type_script_lang_js_={name:"IdentifierTextbox",components:{CoreInfoIcon:external_kolibriCoreAppGlobal_coreVue_components_CoreInfoIcon_default.a},mixins:[external_kolibriCoreAppGlobal_coreVue_mixins_commonCoreStrings_default.a,external_kolibriCoreAppGlobal_coreVue_mixins_responsiveWindowMixin_default.a],props:{value:{type:String}},computed:{tooltipPlacement:function(){return this.windowIsSmall?"left":"bottom"}},$trs:{label:"Identifier (Optional)"}},IdentifierTextbox=(__webpack_require__(283),normalizeComponent(views_IdentifierTextboxvue_type_script_lang_js_,(function(){var _vm=this,_h=_vm.$createElement,_c=_vm._self._c||_h;return _c("div",{staticClass:"pos-rel"},[_c("KTextbox",_vm._b({staticClass:"identifier-textbox",attrs:{value:_vm.value,label:_vm.$tr("label"),maxlength:64},on:{input:function($event){return _vm.$emit("update:value",$event)}}},"KTextbox",_vm.$attrs,!1)),_c("CoreInfoIcon",{staticClass:"info-icon",attrs:{tooltipText:_vm.coreString("identifierInputTooltip"),tooltipPlacement:_vm.tooltipPlacement,iconAriaLabel:_vm.coreString("identifierAriaLabel")}})],1)}),[],!1,null,"b4992a02",null).exports),NOT_SPECIFIED=external_kolibriCoreAppGlobal_coreVue_vuex_constants_.DemographicConstants.NOT_SPECIFIED,views_UserCreatePagevue_type_script_lang_js_={name:"UserCreatePage",metaInfo:function(){return{title:this.$tr("createNewUserHeader")}},components:{GenderSelect:external_kolibriCoreAppGlobal_coreVue_components_GenderSelect_default.a,BirthYearSelect:external_kolibriCoreAppGlobal_coreVue_components_BirthYearSelect_default.a,UsernameTextbox:external_kolibriCoreAppGlobal_coreVue_components_UsernameTextbox_default.a,FullNameTextbox:external_kolibriCoreAppGlobal_coreVue_components_FullNameTextbox_default.a,PasswordTextbox:external_kolibriCoreAppGlobal_coreVue_components_PasswordTextbox_default.a,IdentifierTextbox:IdentifierTextbox},mixins:[external_kolibriCoreAppGlobal_coreVue_mixins_commonCoreStrings_default.a],data:function(){return{fullName:"",fullNameValid:!1,username:"",usernameValid:!1,password:"",passwordValid:!1,gender:NOT_SPECIFIED,birthYear:NOT_SPECIFIED,idNumber:"",loading:!0,kind:{label:this.coreString("learnerLabel"),value:external_kolibriCoreAppGlobal_coreVue_vuex_constants_.UserKinds.LEARNER},classCoachIsSelected:!0,busy:!1,formSubmitted:!1,caughtErrors:[]}},computed:Object.assign({},Object(external_kolibriCoreAppGlobal_lib_vuex_.mapGetters)(["activeFacilityId","facilityConfig"]),Object(external_kolibriCoreAppGlobal_lib_vuex_.mapState)("userManagement",["facilityUsers"]),{showPasswordInput:function(){return!this.facilityConfig.learner_can_login_with_no_password||this.kind.value!==external_kolibriCoreAppGlobal_coreVue_vuex_constants_.UserKinds.LEARNER},newUserRole:function(){return this.coachIsSelected?this.classCoachIsSelected?external_kolibriCoreAppGlobal_coreVue_vuex_constants_.UserKinds.ASSIGNABLE_COACH:external_kolibriCoreAppGlobal_coreVue_vuex_constants_.UserKinds.COACH:this.kind.value},coachIsSelected:function(){return this.kind.value===external_kolibriCoreAppGlobal_coreVue_vuex_constants_.UserKinds.COACH},formIsValid:function(){return every_default()([this.fullNameValid,this.usernameValid,this.passwordValid])},userTypeOptions:function(){return[{label:this.coreString("learnerLabel"),value:external_kolibriCoreAppGlobal_coreVue_vuex_constants_.UserKinds.LEARNER},{label:this.coreString("coachLabel"),value:external_kolibriCoreAppGlobal_coreVue_vuex_constants_.UserKinds.COACH},{label:this.coreString("adminLabel"),value:external_kolibriCoreAppGlobal_coreVue_vuex_constants_.UserKinds.ADMIN}]}}),beforeMount:function(){var this$1=this;this.getFacilityConfig(this.activeFacilityId).then((function(){this$1.$store.dispatch("notLoading"),this$1.loading=!1}))},methods:Object.assign({},Object(external_kolibriCoreAppGlobal_lib_vuex_.mapActions)(["getFacilityConfig"]),{goToUserManagementPage:function(onComplete){this.$router.push(this.$store.getters.facilityPageLinks.UserPage,onComplete)},usernameIsUnique:function(value){return!this.facilityUsers.find((function(ref){return ref.username.toLowerCase()===value.toLowerCase()}))},submitForm:function(){var this$1=this;this.formSubmitted=!0;var password=this.password;if(this.showPasswordInput||(password="NOT_SPECIFIED",this.passwordValid=!0),!this.formIsValid)return this.focusOnInvalidField();this.busy=!0,this.$store.dispatch("userManagement/createFacilityUser",{username:this.username,full_name:this.fullName,id_number:this.idNumber,gender:this.gender,birth_year:this.birthYear,role:{kind:this.newUserRole},password:password}).then((function(){this$1.handleSubmitSuccess()})).catch((function(error){this$1.handleSubmitFailure(error)}))},handleSubmitSuccess:function(){var this$1=this;this.goToUserManagementPage((function(){this$1.showSnackbarNotification("userCreated")}))},handleSubmitFailure:function(error){this.caughtErrors=external_kolibriCoreAppGlobal_utils_CatchErrors_default()(error,[external_kolibriCoreAppGlobal_coreVue_vuex_constants_.ERROR_CONSTANTS.USERNAME_ALREADY_EXISTS]),this.busy=!1,this.caughtErrors.length>0?this.focusOnInvalidField():this.$store.dispatch("handleApiError",error)},focusOnInvalidField:function(){var this$1=this;this.$nextTick().then((function(){this$1.fullNameValid?this$1.usernameValid?this$1.passwordValid||this$1.$refs.passwordTextbox.focus():this$1.$refs.usernameTextbox.focus():this$1.$refs.fullNameTextbox.focus()}))}}),$trs:{createNewUserHeader:"Create new user",classCoachDescription:"Can only instruct classes that they're assigned to",facilityCoachDescription:"Can instruct all classes in your facility"}},UserCreatePage=(__webpack_require__(284),normalizeComponent(views_UserCreatePagevue_type_script_lang_js_,(function(){var _vm=this,_h=_vm.$createElement,_c=_vm._self._c||_h;return _vm.loading?_vm._e():_c("KPageContainer",{staticClass:"narrow-container"},[_c("form",{staticClass:"form",on:{submit:function($event){return $event.preventDefault(),_vm.submitForm($event)}}},[_c("h1",[_vm._v("\n      "+_vm._s(_vm.$tr("createNewUserHeader"))+"\n    ")]),_c("section",[_c("FullNameTextbox",{ref:"fullNameTextbox",attrs:{autofocus:!0,disabled:_vm.busy,value:_vm.fullName,isValid:_vm.fullNameValid,shouldValidate:_vm.formSubmitted},on:{"update:value":function($event){_vm.fullName=$event},"update:isValid":function($event){_vm.fullNameValid=$event},"update:is-valid":function($event){_vm.fullNameValid=$event}}}),_c("UsernameTextbox",{ref:"usernameTextbox",attrs:{disabled:_vm.busy,value:_vm.username,isValid:_vm.usernameValid,shouldValidate:_vm.formSubmitted,isUniqueValidator:_vm.usernameIsUnique,errors:_vm.caughtErrors},on:{"update:value":function($event){_vm.username=$event},"update:isValid":function($event){_vm.usernameValid=$event},"update:is-valid":function($event){_vm.usernameValid=$event},"update:errors":function($event){_vm.caughtErrors=$event}}}),_vm.showPasswordInput?[_c("PasswordTextbox",{ref:"passwordTextbox",attrs:{disabled:_vm.busy,value:_vm.password,isValid:_vm.passwordValid,shouldValidate:_vm.formSubmitted},on:{"update:value":function($event){_vm.password=$event},"update:isValid":function($event){_vm.passwordValid=$event},"update:is-valid":function($event){_vm.passwordValid=$event}}})]:_vm._e(),_c("KSelect",{staticClass:"select",attrs:{disabled:_vm.busy,label:_vm.coreString("userTypeLabel"),options:_vm.userTypeOptions},model:{value:_vm.kind,callback:function($$v){_vm.kind=$$v},expression:"kind"}}),_vm.coachIsSelected?_c("fieldset",{staticClass:"coach-selector"},[_c("KRadioButton",{attrs:{disabled:_vm.busy,label:_vm.coreString("classCoachLabel"),description:_vm.$tr("classCoachDescription"),value:!0},model:{value:_vm.classCoachIsSelected,callback:function($$v){_vm.classCoachIsSelected=$$v},expression:"classCoachIsSelected"}}),_c("KRadioButton",{attrs:{disabled:_vm.busy,label:_vm.coreString("facilityCoachLabel"),description:_vm.$tr("facilityCoachDescription"),value:!1},model:{value:_vm.classCoachIsSelected,callback:function($$v){_vm.classCoachIsSelected=$$v},expression:"classCoachIsSelected"}})],1):_vm._e(),_c("IdentifierTextbox",{attrs:{value:_vm.idNumber,disabled:_vm.busy},on:{"update:value":function($event){_vm.idNumber=$event}}}),_c("BirthYearSelect",{staticClass:"select",attrs:{value:_vm.birthYear,disabled:_vm.busy},on:{"update:value":function($event){_vm.birthYear=$event}}}),_c("GenderSelect",{staticClass:"select",attrs:{value:_vm.gender,disabled:_vm.busy},on:{"update:value":function($event){_vm.gender=$event}}})],2),_c("div",{staticClass:"buttons"},[_c("KButtonGroup",{staticStyle:{"margin-top":"8px"}},[_c("KButton",{attrs:{type:"submit",text:_vm.coreString("saveAction"),disabled:_vm.busy,primary:!0}}),_c("KButton",{attrs:{text:_vm.coreString("cancelAction"),disabled:_vm.busy},on:{click:function($event){return _vm.goToUserManagementPage()}}})],1)],1)])])}),[],!1,null,"041faaa7",null).exports),pickBy=__webpack_require__(139),pickBy_default=__webpack_require__.n(pickBy),external_kolibriCoreAppGlobal_utils_UserType_=__webpack_require__(30),external_kolibriCoreAppGlobal_utils_UserType_default=__webpack_require__.n(external_kolibriCoreAppGlobal_utils_UserType_),views_UserEditPagevue_type_script_lang_js_={name:"UserEditPage",metaInfo:function(){return{title:this.$tr("editUserDetailsHeader")}},components:{UserTypeDisplay:external_kolibriCoreAppGlobal_coreVue_components_UserTypeDisplay_default.a,GenderSelect:external_kolibriCoreAppGlobal_coreVue_components_GenderSelect_default.a,BirthYearSelect:external_kolibriCoreAppGlobal_coreVue_components_BirthYearSelect_default.a,UsernameTextbox:external_kolibriCoreAppGlobal_coreVue_components_UsernameTextbox_default.a,FullNameTextbox:external_kolibriCoreAppGlobal_coreVue_components_FullNameTextbox_default.a,IdentifierTextbox:IdentifierTextbox},mixins:[external_kolibriCoreAppGlobal_coreVue_mixins_commonCoreStrings_default.a],data:function(){return{fullName:"",fullNameValid:!0,username:"",usernameValid:!0,kind:"",loading:!0,formSubmitted:!1,classCoachIsSelected:!0,typeSelected:null,gender:"",birthYear:"",idNumber:"",userCopy:{},caughtErrors:[],status:""}},computed:Object.assign({},Object(external_kolibriCoreAppGlobal_lib_vuex_.mapGetters)(["currentUserId"]),Object(external_kolibriCoreAppGlobal_lib_vuex_.mapState)("userManagement",["facilityUsers"]),{formDisabled:function(){return"BUSY"===this.status},cancelButtonText:function(){return this.coreString("cancelAction")},coachIsSelected:function(){return this.typeSelected&&this.typeSelected.value===external_kolibriCoreAppGlobal_coreVue_vuex_constants_.UserKinds.COACH},userId:function(){return this.$route.params.id},userTypeOptions:function(){return[{label:this.coreString("learnerLabel"),value:external_kolibriCoreAppGlobal_coreVue_vuex_constants_.UserKinds.LEARNER},{label:this.coreString("coachLabel"),value:external_kolibriCoreAppGlobal_coreVue_vuex_constants_.UserKinds.COACH},{label:this.coreString("adminLabel"),value:external_kolibriCoreAppGlobal_coreVue_vuex_constants_.UserKinds.ADMIN}]},formIsValid:function(){return every_default()([this.fullNameValid,this.usernameValid])},editingSelf:function(){return this.currentUserId===this.userId},editingSuperAdmin:function(){return this.kind===external_kolibriCoreAppGlobal_coreVue_vuex_constants_.UserKinds.SUPERUSER},devicePermissionsPageLink:function(){var devicePageUrl=external_kolibriCoreAppGlobal_urls_default.a["kolibri:kolibri.plugins.device:device_management"];return devicePageUrl?devicePageUrl()+"#/permissions/"+this.userId:""},newUserKind:function(){var value=this.typeSelected.value;return value===external_kolibriCoreAppGlobal_coreVue_vuex_constants_.UserKinds.COACH&&this.classCoachIsSelected?external_kolibriCoreAppGlobal_coreVue_vuex_constants_.UserKinds.ASSIGNABLE_COACH:value},willBeLoggedOut:function(){return this.editingSelf&&this.newUserKind&&this.newUserKind!==external_kolibriCoreAppGlobal_coreVue_vuex_constants_.UserKinds.ADMIN}}),mounted:function(){var this$1=this;external_kolibriCoreAppGlobal_resources_.FacilityUserResource.fetchModel({id:this.$route.params.id}).then((function(user){this$1.username=user.username,this$1.fullName=user.full_name,this$1.idNumber=user.id_number,this$1.gender=user.gender,this$1.birthYear=user.birth_year,this$1.setKind(user),this$1.makeCopyOfUser(user),this$1.loading=!1})).catch((function(error){this$1.$store.dispatch("handleApiError",error)}))},methods:{setKind:function(user){var this$1=this;this.kind=external_kolibriCoreAppGlobal_utils_UserType_default()(user);var coachOption=this.userTypeOptions[1];this.kind===external_kolibriCoreAppGlobal_coreVue_vuex_constants_.UserKinds.ASSIGNABLE_COACH?(this.typeSelected=coachOption,this.classCoachIsSelected=!0):this.kind===external_kolibriCoreAppGlobal_coreVue_vuex_constants_.UserKinds.COACH?(this.typeSelected=coachOption,this.classCoachIsSelected=!1):this.typeSelected=this.userTypeOptions.find((function(kind){return kind.value===this$1.kind}))||{}},makeCopyOfUser:function(user){this.userCopy={birth_year:this.birthYear,full_name:this.fullName,gender:this.gender,id_number:this.idNumber,username:this.username,kind:external_kolibriCoreAppGlobal_utils_UserType_default()(user)}},goToUserManagementPage:function(){this.$router.push(this.$store.getters.facilityPageLinks.UserPage)},usernameIsUnique:function(value){var match=this.facilityUsers.find((function(ref){return ref.username.toLowerCase()===value.toLowerCase()}));return!(!match||match.username.toLowerCase()!==this.userCopy.username.toLowerCase())||!match},getUpdates:function(){var roleUpdates,this$1=this,facilityUserUpdates=pickBy_default()({birth_year:this.birthYear,full_name:this.fullName,gender:this.gender,id_number:this.idNumber,username:this.username},(function(value,key){return value!==this$1.userCopy[key]}));return this.editingSuperAdmin||this.newUserKind===this.userCopy.kind||(roleUpdates={kind:this.newUserKind}),{facilityUserUpdates:facilityUserUpdates,roleUpdates:roleUpdates}},submitForm:function(){var this$1=this;if(this.formSubmitted=!0,!this.formIsValid)return this.focusOnInvalidField();this.status="BUSY",this.$store.dispatch("userManagement/updateFacilityUserDetails",{userId:this.userId,updates:this.getUpdates()}).then((function(){this$1.handleSubmitSuccess()})).catch((function(error){this$1.handleSubmitFailure(error)}))},handleSubmitSuccess:function(){this.willBeLoggedOut?this.$store.dispatch("kolibriLogout"):(this.$store.dispatch("createSnackbar",this.$tr("userUpdateNotification")),this.goToUserManagementPage())},handleSubmitFailure:function(error){this.status="FAILURE",this.caughtErrors=external_kolibriCoreAppGlobal_utils_CatchErrors_default()(error,[external_kolibriCoreAppGlobal_coreVue_vuex_constants_.ERROR_CONSTANTS.USERNAME_ALREADY_EXISTS]),this.caughtErrors.length>0?this.focusOnInvalidField():this.$store.dispatch("handleApiError",error)},focusOnInvalidField:function(){var this$1=this;this.$nextTick().then((function(){this$1.fullNameValid?this$1.usernameValid||this$1.$refs.usernameTextbox.focus():this$1.$refs.fullNameTextbox.focus()}))}},$trs:{editUserDetailsHeader:"Edit user details",changeInDeviceTabPrompt:"Go to Device permissions to change this",viewInDeviceTabPrompt:"View details in Device permissions",classCoachDescription:"Can only instruct classes that they're assigned to",facilityCoachDescription:"Can instruct all classes in your facility",userUpdateNotification:"Changes saved",forceLogoutWarning:'Warning: By making your self a non-admin, you will be logged out after clicking "Save".'}},UserEditPage=(__webpack_require__(287),normalizeComponent(views_UserEditPagevue_type_script_lang_js_,(function(){var _vm=this,_h=_vm.$createElement,_c=_vm._self._c||_h;return _c("KPageContainer",{staticClass:"narrow-container"},[_vm.loading?_vm._e():_c("form",{staticClass:"form",on:{submit:function($event){return $event.preventDefault(),_vm.submitForm($event)}}},[_c("h1",[_vm._v("\n      "+_vm._s(_vm.$tr("editUserDetailsHeader"))+"\n    ")]),_c("section",[_c("FullNameTextbox",{ref:"fullNameTextbox",attrs:{autofocus:!0,disabled:_vm.formDisabled,value:_vm.fullName,isValid:_vm.fullNameValid,shouldValidate:_vm.formSubmitted},on:{"update:value":function($event){_vm.fullName=$event},"update:isValid":function($event){_vm.fullNameValid=$event},"update:is-valid":function($event){_vm.fullNameValid=$event}}}),_c("UsernameTextbox",{ref:"usernameTextbox",attrs:{disabled:_vm.formDisabled,value:_vm.username,isValid:_vm.usernameValid,shouldValidate:_vm.formSubmitted,isUniqueValidator:_vm.usernameIsUnique,errors:_vm.caughtErrors},on:{"update:value":function($event){_vm.username=$event},"update:isValid":function($event){_vm.usernameValid=$event},"update:is-valid":function($event){_vm.usernameValid=$event},"update:errors":function($event){_vm.caughtErrors=$event}}}),_vm.editingSuperAdmin?[_c("h2",{staticClass:"header user-type"},[_vm._v("\n          "+_vm._s(_vm.coreString("userTypeLabel"))+"\n        ")]),_c("UserTypeDisplay",{staticClass:"user-type",attrs:{userType:_vm.kind}}),_vm.devicePermissionsPageLink?_c("KExternalLink",{staticClass:"super-admin-description",attrs:{text:_vm.editingSelf?_vm.$tr("viewInDeviceTabPrompt"):_vm.$tr("changeInDeviceTabPrompt"),href:_vm.devicePermissionsPageLink}}):_vm._e()]:[_c("KSelect",{staticClass:"select",attrs:{disabled:_vm.formDisabled,label:_vm.coreString("userTypeLabel"),options:_vm.userTypeOptions},model:{value:_vm.typeSelected,callback:function($$v){_vm.typeSelected=$$v},expression:"typeSelected"}}),_vm.coachIsSelected?_c("fieldset",{staticClass:"coach-selector"},[_c("KRadioButton",{attrs:{disabled:_vm.formDisabled,label:_vm.coreString("classCoachLabel"),description:_vm.$tr("classCoachDescription"),value:!0},model:{value:_vm.classCoachIsSelected,callback:function($$v){_vm.classCoachIsSelected=$$v},expression:"classCoachIsSelected"}}),_c("KRadioButton",{attrs:{disabled:_vm.formDisabled,label:_vm.coreString("facilityCoachLabel"),description:_vm.$tr("facilityCoachDescription"),value:!1},model:{value:_vm.classCoachIsSelected,callback:function($$v){_vm.classCoachIsSelected=$$v},expression:"classCoachIsSelected"}})],1):_vm._e()],_c("IdentifierTextbox",{attrs:{value:_vm.idNumber,disabled:_vm.formDisabled},on:{"update:value":function($event){_vm.idNumber=$event}}}),_c("BirthYearSelect",{staticClass:"select",attrs:{value:_vm.birthYear,disabled:_vm.formDisabled},on:{"update:value":function($event){_vm.birthYear=$event}}}),_c("GenderSelect",{staticClass:"select",attrs:{value:_vm.gender,disabled:_vm.formDisabled},on:{"update:value":function($event){_vm.gender=$event}}})],2),_vm.willBeLoggedOut?_c("p",[_vm._v("\n      "+_vm._s(_vm.$tr("forceLogoutWarning"))+"\n    ")]):_vm._e(),_c("div",{staticClass:"buttons"},[_c("KButtonGroup",{staticStyle:{"margin-top":"8px"}},[_c("KButton",{attrs:{type:"submit",text:_vm.coreString("saveAction"),disabled:_vm.formDisabled,primary:!0}}),_c("KButton",{attrs:{text:_vm.cancelButtonText,disabled:_vm.formDisabled},on:{click:function($event){return _vm.goToUserManagementPage()}}})],1)],1)])])}),[],!1,null,"33629afa",null).exports),AllFacilitiesPage=normalizeComponent({name:"AllFacilitiesPage",metaInfo:function(){return{title:this.coreString("allFacilitiesLabel")}},components:{CoreTable:external_kolibriCoreAppGlobal_coreVue_components_CoreTable_default.a},mixins:[external_kolibriCoreAppGlobal_coreVue_mixins_commonCoreStrings_default.a],computed:Object.assign({},Object(external_kolibriCoreAppGlobal_lib_vuex_.mapGetters)(["facilityPageLinks","userIsMultiFacilityAdmin"]),{facilities:function(){return this.$store.state.core.facilities}}),beforeMount:function(){this.userIsMultiFacilityAdmin||this.$router.replace(this.facilityPageLinks.ManageClassPage)},methods:{facilityLink:function(facility){var link=cloneDeep_default()(this.facilityPageLinks.ManageClassPage);return link.params.facility_id=facility.id,link}}},(function(){var _vm=this,_h=_vm.$createElement,_c=_vm._self._c||_h;return _c("KPageContainer",[_c("h1",[_vm._v(_vm._s(_vm.coreString("facilitiesLabel"))+" ")]),_c("CoreTable",[_c("thead",{attrs:{slot:"thead"},slot:"thead"},[_c("tr",[_c("th",[_vm._v(_vm._s(_vm.coreString("nameLabel")))]),_c("th",[_vm._v(_vm._s(_vm.coreString("classesLabel")))])])]),_c("tbody",{attrs:{slot:"tbody"},slot:"tbody"},_vm._l(_vm.facilities,(function(facility){return _c("tr",{key:facility.id},[_c("td",[_c("KLabeledIcon",{attrs:{icon:"facility"}},[_c("KRouterLink",{attrs:{text:facility.name,to:_vm.facilityLink(facility)}})],1)],1),_c("td",[_vm._v("\n          "+_vm._s(_vm.$formatNumber(facility.num_classrooms))+"\n        ")])])})),0)])],1)}),[],!1,null,"4d2ae15f",null).exports,external_kolibriCoreAppGlobal_utils_samePageCheckGenerator_=__webpack_require__(12),external_kolibriCoreAppGlobal_utils_samePageCheckGenerator_default=__webpack_require__.n(external_kolibriCoreAppGlobal_utils_samePageCheckGenerator_);var external_kolibriCoreAppGlobal_lib_conditionalPromise_=__webpack_require__(31),external_kolibriCoreAppGlobal_lib_conditionalPromise_default=__webpack_require__.n(external_kolibriCoreAppGlobal_lib_conditionalPromise_);function _userState(facilityUser){return{id:facilityUser.id,facility_id:facilityUser.facility,username:facilityUser.username,full_name:facilityUser.full_name,kind:external_kolibriCoreAppGlobal_utils_UserType_default()(facilityUser),is_superuser:facilityUser.is_superuser,roles:facilityUser.roles,gender:facilityUser.gender,birth_year:facilityUser.birth_year,id_number:facilityUser.id_number}}var eligibleRoles=[external_kolibriCoreAppGlobal_coreVue_vuex_constants_.UserKinds.ASSIGNABLE_COACH,external_kolibriCoreAppGlobal_coreVue_vuex_constants_.UserKinds.COACH,external_kolibriCoreAppGlobal_coreVue_vuex_constants_.UserKinds.ADMIN,external_kolibriCoreAppGlobal_coreVue_vuex_constants_.UserKinds.SUPERUSER];var routes=[{name:constants.d.ALL_FACILITIES_PAGE,path:"/facilities",component:AllFacilitiesPage,handler:function(){external_kolibriCoreAppGlobal_coreVue_vuex_store_default.a.dispatch("preparePage",{isAsync:!1})}},{name:constants.d.CLASS_MGMT_PAGE,path:"/:facility_id?/classes",component:ManageClassPage,handler:function(toRoute){!function(store,toRoute){store.dispatch("preparePage");var facilityId=toRoute.params.facility_id||store.getters.activeFacilityId;external_kolibriCoreAppGlobal_resources_.ClassroomResource.fetchCollection({getParams:{parent:facilityId},force:!0}).only(external_kolibriCoreAppGlobal_utils_samePageCheckGenerator_default()(store),(function(classrooms){store.commit("classManagement/SET_STATE",{modalShown:!1,classes:[].concat(classrooms)}),store.commit("CORE_SET_PAGE_LOADING",!1)}),(function(error){store.dispatch("handleApiError",error)}))}(external_kolibriCoreAppGlobal_coreVue_vuex_store_default.a,toRoute)}},{name:constants.d.CLASS_EDIT_MGMT_PAGE,path:"/:facility_id?/classes/:id",component:ClassEditPage,handler:function(toRoute){!function(store,classId){store.dispatch("preparePage");var facilityId=store.getters.activeFacilityId,promises=[external_kolibriCoreAppGlobal_resources_.FacilityUserResource.fetchCollection({getParams:{member_of:classId},force:!0}),external_kolibriCoreAppGlobal_resources_.ClassroomResource.fetchModel({id:classId,force:!0}),external_kolibriCoreAppGlobal_resources_.ClassroomResource.fetchCollection({getParams:{parent:facilityId},force:!0})];external_kolibriCoreAppGlobal_lib_conditionalPromise_default.a.all(promises).only(external_kolibriCoreAppGlobal_utils_samePageCheckGenerator_default()(store),(function(ref){var facilityUsers=ref[0],classroom=ref[1],classrooms=ref[2];store.commit("classEditManagement/SET_STATE",{modalShown:!1,currentClass:classroom,classes:classrooms,classLearners:filterAndSortUsers(facilityUsers).map(_userState),classCoaches:filterAndSortUsers(classroom.coaches).map(_userState)}),store.commit("CORE_SET_PAGE_LOADING",!1)}),(function(error){store.dispatch("handleApiError",error)}))}(external_kolibriCoreAppGlobal_coreVue_vuex_store_default.a,toRoute.params.id)}},{name:constants.d.CLASS_ENROLL_LEARNER,component:LearnerClassEnrollmentPage,path:"/:facility_id?/classes/:id/learner-enrollment/",handler:function(toRoute){!function(store,toRoute){var ref=toRoute.params,id=ref.id,facility_id=ref.facility_id;store.dispatch("preparePage");var userPromise=external_kolibriCoreAppGlobal_resources_.FacilityUserResource.fetchCollection({getParams:{member_of:facility_id||store.getters.activeFacilityId}}),classPromise=external_kolibriCoreAppGlobal_resources_.ClassroomResource.fetchModel({id:id}),classUsersPromise=external_kolibriCoreAppGlobal_resources_.FacilityUserResource.fetchCollection({getParams:{member_of:id},force:!0});external_kolibriCoreAppGlobal_lib_conditionalPromise_default.a.all([userPromise,classPromise,classUsersPromise]).only(external_kolibriCoreAppGlobal_utils_samePageCheckGenerator_default()(store),(function(ref){var facilityUsers=ref[0],classroom=ref[1],classUsers=ref[2];store.commit("classAssignMembers/SET_STATE",{facilityUsers:facilityUsers.map(_userState),classUsers:classUsers.map(_userState),class:classroom,modalShown:!1}),store.commit("CORE_SET_PAGE_LOADING",!1)}),(function(error){store.dispatch("handleApiError",error)}))}(external_kolibriCoreAppGlobal_coreVue_vuex_store_default.a,toRoute)}},{name:constants.d.CLASS_ASSIGN_COACH,component:CoachClassAssignmentPage,path:"/:facility_id?/classes/:id/coach-assignment/",handler:function(toRoute){!function(store,toRoute){var ref=toRoute.params,id=ref.id,facility_id=ref.facility_id;store.commit("CORE_SET_PAGE_LOADING",!0);var facilityId=facility_id||store.getters.activeFacilityId,userPromise=external_kolibriCoreAppGlobal_resources_.FacilityUserResource.fetchCollection({getParams:{member_of:facilityId}}),classPromise=external_kolibriCoreAppGlobal_resources_.ClassroomResource.fetchModel({id:id,force:!0});external_kolibriCoreAppGlobal_lib_conditionalPromise_default.a.all([userPromise,classPromise]).only(external_kolibriCoreAppGlobal_utils_samePageCheckGenerator_default()(store),(function(ref){var facilityUsers=ref[0],classroom=ref[1];store.commit("classAssignMembers/SET_STATE",{facilityUsers:facilityUsers.filter((function(user){return user.roles.some((function(ref){var kind=ref.kind;return eligibleRoles.includes(kind)}))})).map(_userState),classUsers:classroom.coaches.map(_userState),class:classroom,modalShown:!1}),store.commit("CORE_SET_PAGE_LOADING",!1)}),(function(error){store.dispatch("handleApiError",error)}))}(external_kolibriCoreAppGlobal_coreVue_vuex_store_default.a,toRoute)}},{name:constants.d.USER_MGMT_PAGE,component:UserPage,path:"/:facility_id?/users",handler:function(toRoute){!function(store,toRoute){store.dispatch("preparePage");var facilityId=toRoute.params.facility_id||store.getters.activeFacilityId;external_kolibriCoreAppGlobal_resources_.FacilityUserResource.fetchCollection({getParams:{member_of:facilityId},force:!0}).only(external_kolibriCoreAppGlobal_utils_samePageCheckGenerator_default()(store),(function(users){store.commit("userManagement/SET_STATE",{facilityUsers:users.map(_userState)}),store.commit("CORE_SET_PAGE_LOADING",!1)}),(function(error){store.dispatch("handleApiError",error)}))}(external_kolibriCoreAppGlobal_coreVue_vuex_store_default.a,toRoute)}},{name:constants.d.USER_CREATE_PAGE,component:UserCreatePage,path:"/:facility_id?/users/new",handler:function(){external_kolibriCoreAppGlobal_coreVue_vuex_store_default.a.dispatch("preparePage",{isAsync:!1})}},{name:constants.d.USER_EDIT_PAGE,component:UserEditPage,path:"/:facility_id?/users/:id",handler:function(){external_kolibriCoreAppGlobal_coreVue_vuex_store_default.a.dispatch("preparePage",{isAsync:!1})}},{name:constants.d.DATA_EXPORT_PAGE,component:DataPage,path:"/:facility_id?/data",handler:function(){external_kolibriCoreAppGlobal_coreVue_vuex_store_default.a.dispatch("preparePage",{isAsync:!1})}},{name:constants.d.IMPORT_CSV_PAGE,component:ImportCsvPage,path:"/:facility_id?/data/import",handler:function(){external_kolibriCoreAppGlobal_coreVue_vuex_store_default.a.dispatch("preparePage",{isAsync:!1})}},{name:constants.d.FACILITY_CONFIG_PAGE,component:FacilityConfigPage,path:"/:facility_id?/settings",handler:function(toRoute){!function(store,toRoute){var facilityId=toRoute.params.facility_id||store.getters.activeFacilityId;store.dispatch("preparePage");var resourceRequests=[external_kolibriCoreAppGlobal_resources_.FacilityResource.fetchModel({id:facilityId}),external_kolibriCoreAppGlobal_resources_.FacilityDatasetResource.fetchCollection({getParams:{facility_id:facilityId}}),external_kolibriCoreAppGlobal_resources_.FacilityResource.fetchCollection({force:!0})];Promise.all(resourceRequests).then((function(ref){var facility=ref[0],facilityDatasets=ref[1],facilities=ref[2],dataset=facilityDatasets[0];store.commit("facilityConfig/SET_STATE",{facilityDatasetId:dataset.id,facilityName:facility.name,facilityId:facility.id,settings:Object.assign({},dataset),settingsCopy:Object.assign({},dataset),notification:null,facilities:facilities}),store.commit("CORE_SET_PAGE_LOADING",!1)})).catch((function(){store.commit("facilityConfig/SET_STATE",{facilityName:"",settings:null,notification:constants.h.PAGELOAD_FAILURE}),store.commit("CORE_SET_PAGE_LOADING",!1)}))}(external_kolibriCoreAppGlobal_coreVue_vuex_store_default.a,toRoute)}},{path:"/",beforeEnter:function(to,from,next){external_kolibriCoreAppGlobal_coreVue_vuex_store_default.a.getters.userIsMultiFacilityAdmin?next(external_kolibriCoreAppGlobal_coreVue_vuex_store_default.a.getters.facilityPageLinks.AllFacilitiesPage):next(external_kolibriCoreAppGlobal_coreVue_vuex_store_default.a.getters.facilityPageLinks.ManageClassPage)}}],find=__webpack_require__(74),find_default=__webpack_require__.n(find);function SET_MODAL(state,modalName){state.modalShown=modalName}function SET_BUSY(state,isBusy){state.isBusy=isBusy}function SET_ERROR(state,error){state.error=error}function displayModal(store,modalName){store.commit("SET_MODAL",modalName),store.commit("SET_ERROR",""),store.commit("SET_BUSY",!1)}var uniq=__webpack_require__(95),uniq_default=__webpack_require__.n(uniq);var classAssignMembers={namespaced:!0,state:{class:{},classUsers:[],facilityUsers:[],modalShown:!1},mutations:{SET_STATE:function(state,payload){Object.assign(state,payload)},RESET_STATE:function(state){Object.assign(state,{class:{},classUsers:[],facilityUsers:[],modalShown:!1})},SET_MODAL:SET_MODAL},actions:{assignCoachesToClass:function(store,ref){var classId=ref.classId,coaches=ref.coaches;return external_kolibriCoreAppGlobal_resources_.RoleResource.saveCollection({getParams:{collection:classId},data:uniq_default()(coaches).map((function(userId){return{collection:classId,user:userId,kind:external_kolibriCoreAppGlobal_coreVue_vuex_constants_.UserKinds.COACH}}))}).catch((function(err){store.dispatch("handleApiError",err,{root:!0})}))},enrollLearnersInClass:function(store,ref){var classId=ref.classId,users=ref.users;return external_kolibriCoreAppGlobal_resources_.MembershipResource.saveCollection({getParams:{collection:classId},data:uniq_default()(users).map((function(userId){return{collection:classId,user:userId}}))}).catch((function(err){store.dispatch("handleApiError",err,{root:!0})}))}}};var classEditManagement={namespaced:!0,state:{classCoaches:[],classLearners:[],classes:[],currentClass:null,error:"",isBusy:!1,modalShown:!1},mutations:{SET_STATE:function(state,payload){Object.assign(state,payload)},RESET_STATE:function(state){Object.assign(state,{classCoaches:[],classLearners:[],classes:[],currentClass:null,error:"",isBusy:!1,modalShown:!1})},SET_BUSY:SET_BUSY,SET_ERROR:SET_ERROR,SET_MODAL:SET_MODAL,UPDATE_CLASS:function(state,ref){var id=ref.id,updatedClass=ref.updatedClass;state.classes.forEach((function(classModel,index,arr){classModel.id===id&&(arr[index]=updatedClass)})),state.currentClass&&state.currentClass.id===id&&(state.currentClass=updatedClass)},DELETE_CLASS_LEARNER:function(state,id){state.classLearners=state.classLearners.filter((function(user){return user.id!==id}))},DELETE_CLASS_COACH:function(state,id){state.classCoaches=state.classCoaches.filter((function(user){return user.id!==id}))}},actions:{displayModal:displayModal,removeClassLearner:function(store,ref){var classId=ref.classId,userId=ref.userId;if(classId&&userId)return external_kolibriCoreAppGlobal_resources_.MembershipResource.deleteCollection({user:userId,collection:classId}).then((function(){store.commit("DELETE_CLASS_LEARNER",userId),store.dispatch("displayModal",!1)}),(function(error){store.dispatch("handleApiError",error,{root:!0})}))},removeClassCoach:function(store,ref){var classId=ref.classId,userId=ref.userId;if(classId&&userId)return external_kolibriCoreAppGlobal_resources_.RoleResource.deleteCollection({user:userId,collection:classId}).then((function(){store.commit("DELETE_CLASS_COACH",userId),store.dispatch("displayModal",!1)}),(function(error){store.dispatch("handleApiError",error,{root:!0})}))},updateClass:function(store,ref){var id=ref.id,updateData=ref.updateData;if(id&&0!==Object.keys(updateData).length)return external_kolibriCoreAppGlobal_resources_.ClassroomResource.saveModel({id:id,data:updateData}).then((function(updatedClass){store.commit("UPDATE_CLASS",{id:id,updatedClass:updatedClass}),store.dispatch("displayModal",!1)}),(function(error){store.dispatch("handleApiError",error,{root:!0})}))}}};var classManagement={namespaced:!0,state:{classes:[],error:"",isBusy:!1,modalShown:!1},mutations:{SET_STATE:function(state,payload){Object.assign(state,payload)},RESET_STATE:function(state){Object.assign(state,{classes:[],error:"",isBusy:!1,modalShown:!1})},SET_BUSY:SET_BUSY,SET_ERROR:SET_ERROR,SET_MODAL:SET_MODAL,ADD_CLASS:function(state,classroom){state.classes.push(classroom)},DELETE_CLASS:function(state,id){state.classes=state.classes.filter((function(classModel){return classModel.id!==id}))}},actions:{createClass:function(store,name){return external_kolibriCoreAppGlobal_resources_.ClassroomResource.saveModel({data:{name:name,parent:store.rootGetters.activeFacilityId}}).then((function(classroom){store.commit("ADD_CLASS",classroom)}),(function(error){store.dispatch("handleApiError",error,{root:!0})}))},deleteClass:function(store,id){return external_kolibriCoreAppGlobal_resources_.ClassroomResource.deleteModel({id:id}).then((function(){store.commit("DELETE_CLASS",id)}),(function(error){store.dispatch("handleApiError",error,{root:!0})}))},displayModal:displayModal}};function saveFacilityConfig(store){store.commit("CONFIG_PAGE_NOTIFY",null);var ref=store.state,facilityDatasetId=ref.facilityDatasetId,settings=ref.settings,resourceRequests=[external_kolibriCoreAppGlobal_resources_.FacilityDatasetResource.saveModel({id:facilityDatasetId,data:settings})];return Promise.all(resourceRequests).then((function(){store.commit("CONFIG_PAGE_NOTIFY",constants.h.SAVE_SUCCESS),store.commit("CONFIG_PAGE_COPY_SETTINGS")})).catch((function(){store.commit("CONFIG_PAGE_NOTIFY",constants.h.SAVE_FAILURE),store.commit("CONFIG_PAGE_UNDO_SETTINGS_CHANGE")}))}var facilityConfig={namespaced:!0,state:{facilityDatasetId:"",facilityId:"",facilityName:"",notification:null,settings:{},settingsCopy:{},facilityNameSaved:!1,facilityNameError:!1,facilities:[]},mutations:{SET_STATE:function(state,payload){Object.assign(state,payload)},RESET_STATE:function(state){Object.assign(state,{facilityDatasetId:"",facilityId:"",facilityName:"",notification:null,settings:{},settingsCopy:{},facilityNameSaved:!1,facilityNameError:!1,facilities:[]})},CONFIG_PAGE_NOTIFY:function(state,notificationType){state.notification=notificationType},CONFIG_PAGE_UNDO_SETTINGS_CHANGE:function(state){state.settings=Object.assign({},state.settingsCopy)},CONFIG_PAGE_MODIFY_SETTING:function(state,ref){var name=ref.name,value=ref.value;void 0!==state.settings[name]&&(state.settings[name]=value)},CONFIG_PAGE_MODIFY_ALL_SETTINGS:function(state,settings){state.settings=Object.assign({},state.settings,settings)},CONFIG_PAGE_COPY_SETTINGS:function(state){state.settingsCopy=Object.assign({},state.settings)},FACILITY_NAME_SAVED:function(state,name){state.facilityName=name,state.facilityNameSaved=!0},FACILITY_NAME_NOT_SAVED:function(state){state.facilityNameError=!0},RESET_FACILITY_NAME_STATES:function(state){state.facilityNameError=!1,state.facilityNameSaved=!1},UPDATE_FACILITIES:function(state,payload){state.facilities.find((function(f){return f.name===payload.oldName})).name=payload.newName}},actions:{saveFacilityConfig:saveFacilityConfig,resetFacilityConfig:function(store){return store.commit("CONFIG_PAGE_MODIFY_ALL_SETTINGS",{learner_can_edit_username:!0,learner_can_edit_name:!0,learner_can_edit_password:!0,learner_can_sign_up:!0,learner_can_delete_account:!0,learner_can_login_with_no_password:!1,show_download_button_in_learn:!1}),saveFacilityConfig(store)},saveFacilityName:function(store,payload){return external_kolibriCoreAppGlobal_resources_.FacilityResource.saveModel({id:payload.id,data:{name:payload.name}}).then((function(facility){store.dispatch("getFacilities",null,{root:!0}),store.commit("UPDATE_FACILITIES",{oldName:store.state.facilityName,newName:facility.name}),store.commit("FACILITY_NAME_SAVED",facility.name)}),(function(error){store.commit("FACILITY_NAME_NOT_SAVED",error)}))}}},isEmpty=__webpack_require__(140),isEmpty_default=__webpack_require__.n(isEmpty),FACILITY_ROLES=[external_kolibriCoreAppGlobal_coreVue_vuex_constants_.UserKinds.ADMIN,external_kolibriCoreAppGlobal_coreVue_vuex_constants_.UserKinds.ASSIGNABLE_COACH,external_kolibriCoreAppGlobal_coreVue_vuex_constants_.UserKinds.COACH];function updateFacilityLevelRoles(facilityUser,newRoleKind){var roles=facilityUser.roles,facility=facilityUser.facility,id=facilityUser.id,currentFacilityRole=find_default()(roles,{collection:facility}),createFacilityRole=function(){return external_kolibriCoreAppGlobal_resources_.RoleResource.saveModel({data:{user:id,collection:facility,kind:newRoleKind}})};return currentFacilityRole?currentFacilityRole.kind===newRoleKind?Promise.resolve():newRoleKind===external_kolibriCoreAppGlobal_coreVue_vuex_constants_.UserKinds.LEARNER?external_kolibriCoreAppGlobal_resources_.RoleResource.deleteCollection({user:id}):FACILITY_ROLES.includes(newRoleKind)?createFacilityRole().then((function(){return external_kolibriCoreAppGlobal_resources_.RoleResource.deleteModel({id:currentFacilityRole.id})})):void 0:newRoleKind===external_kolibriCoreAppGlobal_coreVue_vuex_constants_.UserKinds.LEARNER?Promise.resolve():createFacilityRole()}function createFacilityUser(store,payload){return external_kolibriCoreAppGlobal_resources_.FacilityUserResource.saveModel({data:{facility:store.rootGetters.activeFacilityId,username:payload.username,full_name:payload.full_name,password:payload.password,id_number:payload.id_number,gender:payload.gender,birth_year:payload.birth_year}}).then((function(facilityUser){if(payload.role.kind!==external_kolibriCoreAppGlobal_coreVue_vuex_constants_.UserKinds.LEARNER)return user=facilityUser,role=payload.role,updateFacilityLevelRoles(user,role.kind).then((function(){return external_kolibriCoreAppGlobal_resources_.FacilityUserResource.fetchModel({id:user.id,force:!0})}));var user,role}))}function updateFacilityUserDetails(store,ref){var userId=ref.userId,updates=ref.updates,facilityUserUpdates=updates.facilityUserUpdates,roleUpdates=updates.roleUpdates;return isEmpty_default()(facilityUserUpdates)&&!roleUpdates?Promise.resolve():external_kolibriCoreAppGlobal_resources_.FacilityUserResource.saveModel({id:userId,data:Object.assign({},facilityUserUpdates)}).then((function(user){if(roleUpdates)return updateFacilityLevelRoles(user,roleUpdates.kind)}))}function updateFacilityUserPassword(store,ref){var userId=ref.userId,password=ref.password;return external_kolibriCoreAppGlobal_resources_.FacilityUserResource.saveModel({id:userId,data:{password:password}})}function deleteFacilityUser(store,ref){var userId=ref.userId;return external_kolibriCoreAppGlobal_resources_.FacilityUserResource.deleteModel({id:userId})}var userManagement={namespaced:!0,state:{facilityUsers:[]},mutations:{SET_STATE:function(state,payload){Object.assign(state,payload)},RESET_STATE:function(state){Object.assign(state,{facilityUsers:[]})},DELETE_USER:function(state,id){state.facilityUsers=state.facilityUsers.filter((function(user){return user.id!==id}))}},actions:userManagement_actions_namespaceObject},external_kolibriCoreAppGlobal_lib_vue_=__webpack_require__(7),external_kolibriCoreAppGlobal_lib_vue_default=__webpack_require__.n(external_kolibriCoreAppGlobal_lib_vue_),actions=__webpack_require__(141);function manageCSV_defaultState(){return{summaryLogStatus:constants.a.NO_LOGS_CREATED,summaryTaskId:"",summaryDateCreated:null,sessionLogStatus:constants.a.NO_LOGS_CREATED,sessionTaskId:"",sessionDateCreated:null,facilities:[],facilityTaskId:"",exportUsersTaskId:"",exportUsersStatus:"",exportUsersFilename:""}}var manageCSV={namespaced:!0,state:manageCSV_defaultState(),getters:{inSummaryCSVCreation:function(state){return state.summaryLogStatus===constants.a.GENERATING},inSessionCSVCreation:function(state){return state.sessionLogStatus===constants.a.GENERATING},noSummaryLogs:function(state){return state.summaryLogStatus===constants.a.NO_LOGS_CREATED},noSessionLogs:function(state){return state.sessionLogStatus===constants.a.NO_LOGS_CREATED},summaryTaskId:function(state){return state.summaryTaskId},sessionTaskId:function(state){return state.sessionTaskId},availableSessionCSVLog:function(state){return state.sessionLogStatus===constants.a.AVAILABLE},availableSummaryCSVLog:function(state){return state.summaryLogStatus===constants.a.AVAILABLE},exportingUsers:function(state){return state.status===constants.g.EXPORTING},exported:function(state){return state.status===constants.g.FINISHED}},mutations:{SET_STATE:function(state,payload){Object.assign(state,payload)},RESET_STATE:function(state){Object.assign(state,manageCSV_defaultState())},START_SUMMARY_CSV_EXPORT:function(state,payload){state.summaryLogStatus=constants.a.GENERATING,state.summaryTaskId=payload.id},START_SESSION_CSV_EXPORT:function(state,payload){state.sessionLogStatus=constants.a.GENERATING,state.sessionTaskId=payload.id},SET_FINISHED_SUMMARY_CSV_CREATION:function(state,payload){state.summaryLogStatus=constants.a.AVAILABLE,state.summaryTaskId="",state.summaryDateCreated=payload},SET_FINISHED_SESSION_CSV_CREATION:function(state,payload){state.sessionLogStatus=constants.a.AVAILABLE,state.sessionTaskId="",state.sessionDateCreated=payload},START_FACILITY_SYNC:function(state,payload){var match=state.facilities.find((function(f){return f.id===payload.facility}));match&&external_kolibriCoreAppGlobal_lib_vue_default.a.set(match,"syncing",!0),state.facilityTaskId=payload.id},SET_FINISH_FACILITY_SYNC:function(state,payload){state.facilityTaskId="";var match=state.facilities.find((function(f){return!0===f.syncing}));match&&(external_kolibriCoreAppGlobal_lib_vue_default.a.set(match,"last_synced",payload),external_kolibriCoreAppGlobal_lib_vue_default.a.set(match,"syncing",!1))},SET_REGISTERED:function(state,facility){var match=state.facilities.find((function(f){return f.id===facility.id}));match&&external_kolibriCoreAppGlobal_lib_vue_default.a.set(match.dataset,"registered",!0)},START_EXPORT_USERS:function(state,payload){state.exportUsersStatus=constants.g.EXPORTING,state.exportUsersTaskId=payload.id},SET_FINISH_EXPORT_USERS:function(state,payload){state.exportUsersFilename=payload,state.exportUsersStatus=constants.g.FINISHED}},actions:actions.a},importCSV_actions=__webpack_require__(143);function importCSV_defaultState(){return{taskId:"",status:constants.b.NOT_STARTED,deleteUsers:!1,filename:"",overall_error:[],per_line_errors:[],classes_report:{created:0,updated:0,cleared:0},users_report:{created:0,updated:0,deleted:0}}}var pluginModule={state:{},actions:{preparePage:function(store,options){void 0===options&&(options={});var isAsync=options.isAsync;void 0===isAsync&&(isAsync=!0),store.commit("CORE_SET_PAGE_LOADING",isAsync),store.commit("CORE_SET_ERROR",null)},resetModuleState:function(store,ref){var fromRoute=ref.fromRoute,toRoute=ref.toRoute,moduleName=constants.i[fromRoute.name];if(fromRoute.name!==constants.d.USER_MGMT_PAGE||toRoute.name!==constants.d.USER_CREATE_PAGE&&toRoute.name!==constants.d.USER_EDIT_PAGE)return moduleName?store.commit(moduleName+"/RESET_STATE"):void 0}},getters:{activeFacilityId:function(state,getters,rootState,rootGetters){return rootState.route.params.facility_id||rootGetters.currentFacilityId},currentFacilityName:function(state,getters,rootState){var match=find_default()(rootState.core.facilities,{id:getters.activeFacilityId});return match?match.name:""},facilityPageLinks:function(state,getters){var params={};return getters.userIsMultiFacilityAdmin&&(params.facility_id=getters.activeFacilityId),{ManageClassPage:{name:constants.d.CLASS_MGMT_PAGE,params:params},UserPage:{name:constants.d.USER_MGMT_PAGE,params:params},ClassEditPage:{name:constants.d.CLASS_EDIT_MGMT_PAGE,params:params},CoachClassAssignmentPage:{name:constants.d.CLASS_ASSIGN_COACH,params:params},LearnerClassEnrollmentPage:{name:constants.d.CLASS_ENROLL_LEARNER,params:params},UserCreatePage:{name:constants.d.USER_CREATE_PAGE,params:params},UserEditPage:{name:constants.d.USER_EDIT_PAGE,params:params},AllFacilitiesPage:{name:constants.d.ALL_FACILITIES_PAGE},DataPage:{name:constants.d.DATA_EXPORT_PAGE,params:params},FacilitiesConfigPage:{name:constants.d.FACILITY_CONFIG_PAGE,params:params},ImportCsvPage:{name:constants.d.IMPORT_CSV_PAGE,params:params}}}},modules:{classManagement:classManagement,classEditManagement:classEditManagement,classAssignMembers:classAssignMembers,userManagement:userManagement,facilityConfig:facilityConfig,manageCSV:manageCSV,importCSV:{namespaced:!0,state:importCSV_defaultState(),getters:{taskId:function(state){return state.taskId},deleteUsers:function(state){return state.deleteUsers},filename:function(state){return state.filename},importingOrValidating:function(state){return state.status===constants.b.VALIDATING||state.status===constants.b.SAVING},importedOrValidated:function(state){return state.status===constants.b.VALIDATED||state.status===constants.b.FINISHED}},mutations:{SET_STATE:function(state,payload){Object.assign(state,payload)},RESET_STATE:function(state){Object.assign(state,importCSV_defaultState())},START_VALIDATE_USERS:function(state,payload){state.status=constants.b.VALIDATING,state.taskId=payload.id},START_SAVE_USERS:function(state,payload){state.status=constants.b.SAVING,state.taskId=payload.id},SET_DELETE_USERS:function(state,payload){state.deleteUsers=payload},SET_FILENAME:function(state,payload){state.filename=payload},UPDATE_TASK_REPORT:function(state,task){external_kolibriCoreAppGlobal_lib_vue_default.a.set(state,"per_line_errors",task.per_line_errors),external_kolibriCoreAppGlobal_lib_vue_default.a.set(state,"overall_error",task.overall_error),state.filename=task.filename,state.users_report=task.users,state.classes_report=task.classes,state.taskId=""},SET_FINISHED_IMPORT_USERS:function(state,task){state.status==constants.b.VALIDATING?state.status=constants.b.VALIDATED:state.status==constants.b.SAVING&&(state.status=constants.b.FINISHED),external_kolibriCoreAppGlobal_lib_vue_default.a.set(state,"per_line_errors",task.per_line_errors),external_kolibriCoreAppGlobal_lib_vue_default.a.set(state,"overall_error",task.overall_error),state.filename=task.filename,state.users_report=task.users,state.classes_report=task.classes,external_kolibriCoreAppGlobal_resources_.TaskResource.deleteFinishedTask(state.taskId),state.taskId=""},SET_FAILED:function(state,task){state.status=constants.b.ERRORS,external_kolibriCoreAppGlobal_lib_vue_default.a.set(state,"overall_error",task.overall_error),external_kolibriCoreAppGlobal_lib_vue_default.a.set(state,"per_line_errors",[]),external_kolibriCoreAppGlobal_resources_.TaskResource.deleteFinishedTask(state.taskId),state.taskId=""}},actions:importCSV_actions.a}}},app_FacilityManagementModule=function(KolibriApp){function FacilityManagementModule(){KolibriApp.apply(this,arguments)}KolibriApp&&(FacilityManagementModule.__proto__=KolibriApp),FacilityManagementModule.prototype=Object.create(KolibriApp&&KolibriApp.prototype),FacilityManagementModule.prototype.constructor=FacilityManagementModule;var prototypeAccessors={routes:{configurable:!0},RootVue:{configurable:!0},pluginModule:{configurable:!0}};return prototypeAccessors.routes.get=function(){return routes},prototypeAccessors.RootVue.get=function(){return FacilityIndex},prototypeAccessors.pluginModule.get=function(){return pluginModule},FacilityManagementModule.prototype.ready=function(){var this$1=this;external_kolibriCoreAppGlobal_coreVue_router_default.a.beforeEach((function(to,from,next){this$1.store.getters.isSuperuser&&0===this$1.store.state.core.facilities.length?this$1.store.dispatch("getFacilities").then(next,next):next()})),external_kolibriCoreAppGlobal_coreVue_router_default.a.afterEach((function(toRoute,fromRoute){this$1.store.dispatch("resetModuleState",{toRoute:toRoute,fromRoute:fromRoute})})),KolibriApp.prototype.ready.call(this)},Object.defineProperties(FacilityManagementModule.prototype,prototypeAccessors),FacilityManagementModule}(__webpack_require__(144).a);__webpack_exports__.default=new app_FacilityManagementModule}]);
//# sourceMappingURL=kolibri.plugins.facility.app-0.14.3.js.map